<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Netpanzer-cvs] r1044 - in trunk/netpanzer: nbproject	src/NetPanzer/Bot src/NetPanzer/Classes	src/NetPanzer/Classes/Network src/NetPanzer/Core	src/NetPanzer/Interfaces src/NetPanzer/Views/Game
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/netpanzer-cvs/2008-September/index.html" >
   <LINK REL="made" HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1044%20-%20in%20trunk/netpanzer%3A%20nbproject%0A%09src/NetPanzer/Bot%20src/NetPanzer/Classes%0A%09src/NetPanzer/Classes/Network%20src/NetPanzer/Core%0A%09src/NetPanzer/Interfaces%20src/NetPanzer/Views/Game&In-Reply-To=%3C200809091424.m89EOHVW019003%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000083.html">
   <LINK REL="Next"  HREF="000085.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Netpanzer-cvs] r1044 - in trunk/netpanzer: nbproject	src/NetPanzer/Bot src/NetPanzer/Classes	src/NetPanzer/Classes/Network src/NetPanzer/Core	src/NetPanzer/Interfaces src/NetPanzer/Views/Game</H1>
    <B>kromxp at mail.berlios.de</B> 
    <A HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1044%20-%20in%20trunk/netpanzer%3A%20nbproject%0A%09src/NetPanzer/Bot%20src/NetPanzer/Classes%0A%09src/NetPanzer/Classes/Network%20src/NetPanzer/Core%0A%09src/NetPanzer/Interfaces%20src/NetPanzer/Views/Game&In-Reply-To=%3C200809091424.m89EOHVW019003%40sheep.berlios.de%3E"
       TITLE="[Netpanzer-cvs] r1044 - in trunk/netpanzer: nbproject	src/NetPanzer/Bot src/NetPanzer/Classes	src/NetPanzer/Classes/Network src/NetPanzer/Core	src/NetPanzer/Interfaces src/NetPanzer/Views/Game">kromxp at mail.berlios.de
       </A><BR>
    <I>Tue Sep  9 16:24:17 CEST 2008</I>
    <P><UL>
        <LI>Previous message: <A HREF="000083.html">[Netpanzer-cvs] r1043 - in trunk/netpanzer/src/NetPanzer:	Classes/Network Interfaces
</A></li>
        <LI>Next message: <A HREF="000085.html">[Netpanzer-cvs] r1046 - in trunk/netpanzer: . nbproject	src/NetPanzer src/NetPanzer/Classes/Network	src/NetPanzer/Interfaces src/NetPanzer/PowerUps	src/NetPanzer/Views/Game
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84">[ date ]</a>
              <a href="thread.html#84">[ thread ]</a>
              <a href="subject.html#84">[ subject ]</a>
              <a href="author.html#84">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: kromxp
Date: 2008-09-09 16:23:46 +0200 (Tue, 09 Sep 2008)
New Revision: 1044

Added:
   trunk/netpanzer/src/NetPanzer/Core/CoreTypes.hpp
Modified:
   trunk/netpanzer/nbproject/configurations.xml
   trunk/netpanzer/src/NetPanzer/Bot/Bot.cpp
   trunk/netpanzer/src/NetPanzer/Bot/Bot.hpp
   trunk/netpanzer/src/NetPanzer/Bot/BotPlayer.cpp
   trunk/netpanzer/src/NetPanzer/Bot/BotPlayer.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/PowerUpNetMessage.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Objective.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Objective.hpp
   trunk/netpanzer/src/NetPanzer/Classes/ObjectiveMessageTypes.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Outpost.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Outpost.hpp
   trunk/netpanzer/src/NetPanzer/Classes/PowerUp.cpp
   trunk/netpanzer/src/NetPanzer/Classes/PowerUp.hpp
   trunk/netpanzer/src/NetPanzer/Classes/UnitBase.hpp
   trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp
   trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.hpp
   trunk/netpanzer/src/NetPanzer/Interfaces/MiniMapInterface.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/ObjectiveInterface.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/ObjectiveInterface.hpp
   trunk/netpanzer/src/NetPanzer/Interfaces/PowerUpInterface.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/PowerUpInterface.hpp
   trunk/netpanzer/src/NetPanzer/Views/Game/VehicleSelectionView.cpp
   trunk/netpanzer/src/NetPanzer/Views/Game/VehicleSelectionView.hpp
Log:
- Added CoreTypes.hpp to handle core types and make easyer for protocol changes.

Modified: trunk/netpanzer/nbproject/configurations.xml
===================================================================
--- trunk/netpanzer/nbproject/configurations.xml	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/nbproject/configurations.xml	2008-09-09 14:23:46 UTC (rev 1044)
@@ -360,6 +360,7 @@
           &lt;itemPath&gt;src/NetPanzer/Classes/WorldMap.hpp&lt;/itemPath&gt;
         &lt;/logicalFolder&gt;
         &lt;logicalFolder name=&quot;Core&quot; displayName=&quot;Core&quot; projectFiles=&quot;true&quot;&gt;
+          &lt;itemPath&gt;src/NetPanzer/Core/CoreTypes.hpp&lt;/itemPath&gt;
           &lt;itemPath&gt;src/NetPanzer/Core/main.cpp&lt;/itemPath&gt;
           &lt;itemPath&gt;src/NetPanzer/Core/NetworkGlobals.cpp&lt;/itemPath&gt;
           &lt;itemPath&gt;src/NetPanzer/Core/NetworkGlobals.hpp&lt;/itemPath&gt;
@@ -1633,6 +1634,9 @@
       &lt;item path=&quot;src/NetPanzer/Classes/WorldMap.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
+      &lt;item path=&quot;src/NetPanzer/Core/CoreTypes.hpp&quot;&gt;
+        &lt;itemTool&gt;3&lt;/itemTool&gt;
+      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Core/NetworkGlobals.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
@@ -3362,6 +3366,9 @@
       &lt;item path=&quot;src/NetPanzer/Classes/WorldMap.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
+      &lt;item path=&quot;src/NetPanzer/Core/CoreTypes.hpp&quot;&gt;
+        &lt;itemTool&gt;3&lt;/itemTool&gt;
+      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Core/NetworkGlobals.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;

Modified: trunk/netpanzer/src/NetPanzer/Bot/Bot.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Bot/Bot.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Bot/Bot.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -97,7 +97,7 @@
 }
 //-----------------------------------------------------------------
 void
-Bot::produceUnit(int outpostID, int selectedProduce)
+Bot::produceUnit(ObjectiveID outpostID, int selectedProduce)
 {
     LOGGER.debug(&quot;bot: produceUnit outpost=%d selectedProduce=%d&quot;,
                  outpostID, selectedProduce);

Modified: trunk/netpanzer/src/NetPanzer/Bot/Bot.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Bot/Bot.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Bot/Bot.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -37,7 +37,7 @@
         void moveUnit(UnitBase *unit, iXY map_pos);
         void attackUnit(UnitBase *unit, UnitBase *enemyUnit);
         void manualFire(UnitBase *unit, iXY world_pos);
-        void produceUnit(int outpostID, int selectedProduce);
+        void produceUnit(ObjectiveID outpostID, int selectedProduce);
     protected:
         BotTaskList m_tasks;
 };

Modified: trunk/netpanzer/src/NetPanzer/Bot/BotPlayer.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Bot/BotPlayer.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Bot/BotPlayer.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -173,7 +173,7 @@
     outpostList_t outposts;
     iRect objRect;
     unsigned char objectiveDisposition;
-    int objectiveID;
+    ObjectiveID   objectiveID;
 
     ObjectiveInterface::startObjectivePositionEnumeration();
     while (ObjectiveInterface::objectivePositionEnumeration(&amp;objRect,
@@ -195,7 +195,7 @@
     ObjectiveState *result = 0;
     outpostList_t outposts = getOutposts(disposition);
     if (outposts.size() &gt; 0) {
-        int outpostID = outposts[rand() % outposts.size()];
+        ObjectiveID outpostID = outposts[rand() % outposts.size()];
         result = ObjectiveInterface::getObjectiveState(outpostID);
     }
     return result;

Modified: trunk/netpanzer/src/NetPanzer/Bot/BotPlayer.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Bot/BotPlayer.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Bot/BotPlayer.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -19,6 +19,7 @@
 #ifndef BOTPLAYER_H
 #define BOTPLAYER_H
 
+#include &quot;Core/CoreTypes.hpp&quot;
 #include &quot;Bot.hpp&quot;
 #include &quot;Util/Timer.hpp&quot;
 
@@ -26,7 +27,7 @@
 
 #include &lt;vector&gt;
 typedef std::vector&lt;int&gt; playerList_t;
-typedef std::vector&lt;int&gt; outpostList_t;
+typedef std::vector&lt;ObjectiveID&gt; outpostList_t;
 
 class BotPlayer : public Bot {
     private:

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/PowerUpNetMessage.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/PowerUpNetMessage.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/PowerUpNetMessage.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -18,6 +18,7 @@
 #ifndef _POWERUP_NET_MESSAGE_HPP
 #define _POWERUP_NET_MESSAGE_HPP
 
+#include &quot;Core/CoreTypes.hpp&quot;
 #include &quot;NetMessage.hpp&quot;
 
 #include &quot;Classes/UnitBase.hpp&quot;
@@ -33,10 +34,10 @@
 class PowerUpCreateMesg : public NetMessage
 {
 private:
-    Sint32 map_loc_x;
-    Sint32 map_loc_y;
-    Sint32 ID;
-    Sint32 type;
+    Sint32    map_loc_x;
+    Sint32    map_loc_y;
+    PowerUpID ID;
+    Sint32    type;
 
 public:
     PowerUpCreateMesg()
@@ -45,11 +46,11 @@
         message_id = _net_message_id_powerup_create;
         setSize(sizeof(*this));
     }
-    void set(iXY map_loc, int ID, int type)
+    void set(iXY map_loc, PowerUpID ID, int type)
     {
         this-&gt;map_loc_x = htol32(map_loc.x);
         this-&gt;map_loc_y = htol32(map_loc.y);
-        this-&gt;ID = htol32(ID);                      
+        this-&gt;ID = PowerUpID_toPortable(ID); // XXX protocol
         this-&gt;type = htol32(type);
     }
     Sint32 getLocX() const
@@ -60,9 +61,9 @@
     {
         return ltoh32(map_loc_y);
     }
-    Sint32 getID() const
+    PowerUpID getID() const
     {
-        return ltoh32(ID);
+        return PowerUpID_fromPortable(ID); // XXX protocol
     }
     Sint32 getType() const
     {
@@ -73,10 +74,10 @@
 class PowerUpHitMesg : public NetMessage
 {
 private:
-    Sint32  ID;
-    Uint16  dummy; // XXX only here for compatibility reasons
-    Uint16  player_id;
-    Sint32  unit_powerup_type;
+    PowerUpID  ID;
+    Uint16     dummy; // XXX only here for compatibility reasons
+    Uint16     player_id;
+    Sint32     unit_powerup_type;
 
 public:
     PowerUpHitMesg()
@@ -85,15 +86,15 @@
         message_id = _net_message_id_powerup_hit;
         setSize(sizeof(*this));
     }
-    void set(int ID, Uint16 player_id, int type=0)
+    void set(PowerUpID ID, Uint16 player_id, int type=0)
     {
-        this-&gt;ID = htol32(ID);
+        this-&gt;ID = PowerUpID_toPortable(ID); // XXX protocol
         this-&gt;player_id = htol16(player_id);
         this-&gt;unit_powerup_type = htol32(type);
     }
-    Sint32 getID() const
+    PowerUpID getID() const
     {
-        return ltoh32(ID);
+        return PowerUpID_fromPortable(ID); // XXX protocol
     }
     Uint16 getPlayerID() const
     {

Modified: trunk/netpanzer/src/NetPanzer/Classes/Objective.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Objective.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/Objective.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -23,7 +23,7 @@
 #include &quot;Interfaces/UnitProfileInterface.hpp&quot;
 #include &quot;Util/Log.hpp&quot;
 
-Objective::Objective(Uint16 ID, iXY location, BoundBox area)
+Objective::Objective(ObjectiveID ID, iXY location, BoundBox area)
 {
     objective_state.ID = ID;
     objective_state.selection_state = false;

Modified: trunk/netpanzer/src/NetPanzer/Classes/Objective.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Objective.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/Objective.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -18,6 +18,7 @@
 #ifndef _OBJECTIVE_HPP
 #define _OBJECTIVE_HPP
 
+#include &quot;Core/CoreTypes.hpp&quot;
 #include &quot;ArrayUtil/BoundBox.hpp&quot;
 #include &quot;SpriteSorter.hpp&quot;
 #include &quot;Classes/PlayerState.hpp&quot;
@@ -33,17 +34,17 @@
 class ObjectiveState
 {
 public:
-    Uint16 ID;
-    bool  selection_state;
-    iRect    selection_box;
+    ObjectiveID   ID;
+    bool          selection_state;
+    iRect         selection_box;
     unsigned char outpost_type;
-    char name[64];
-    iXY location;
-    BoundBox capture_area;
-    BoundBox area;
+    char          name[64];
+    iXY           location;
+    BoundBox      capture_area;
+    BoundBox      area;
     unsigned char objective_status;
     unsigned char occupation_status;
-    PlayerState* occupying_player;
+    PlayerState*  occupying_player;
 
     inline bool isBounded( iXY &amp;test )
     {
@@ -56,7 +57,7 @@
 {
 public:
     unsigned short unit_generation_type;
-    bool        unit_generation_on_off;
+    bool           unit_generation_on_off;
     float          unit_generation_time;
     float          unit_generation_time_remaining;
     iXY unit_collection_loc;
@@ -71,9 +72,9 @@
 public:
     ObjectiveState objective_state;
 
-    Objective(Uint16 ID, iXY location, BoundBox area );
-	virtual ~Objective()
-	{ }
+    Objective(ObjectiveID ID, iXY location, BoundBox area );
+    virtual ~Objective()
+    { }
 
     void getSyncData( SyncObjective &amp;objective_sync_mesg );
 

Modified: trunk/netpanzer/src/NetPanzer/Classes/ObjectiveMessageTypes.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/ObjectiveMessageTypes.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/ObjectiveMessageTypes.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -18,6 +18,7 @@
 #ifndef _OBJECTIVE_MESSSAGE_TYPES_HPP
 #define _OBJECTIVE_MESSSAGE_TYPES_HPP
 
+#include &quot;Core/CoreTypes.hpp&quot;
 #include &quot;Classes/PlayerState.hpp&quot;
 #include &quot;Types/iXY.hpp&quot;
 #include &quot;Util/Endian.hpp&quot;
@@ -31,16 +32,16 @@
 public:
     Uint8 message_type;
 private:
-    Uint16 objective_id;
+    ObjectiveID objective_id;
 
 public:
-    Uint16 getObjectiveID() const
+    ObjectiveID getObjectiveID() const
     {
-        return ltoh16(objective_id);
+        return ObjectiveID_fromPortable(objective_id); // XXX protocol
     }
-    void setObjectiveID(Uint16 id)
+    void setObjectiveID(ObjectiveID id)
     {
-        objective_id = htol16(id);
+        objective_id = ObjectiveID_toPortable(id); // XXX protocol
     }
 } __attribute__((packed));
 
@@ -61,9 +62,9 @@
 
 public:
     Uint8  unit_type;
-    bool     unit_gen_on;
+    bool   unit_gen_on;
         
-    void set(Uint16 id, Uint8 status, Uint16 player_id,
+    void set(ObjectiveID id, Uint8 status, Uint16 player_id,
             bool unit_gen_on, Uint8 unit_type, Uint32 timeleft)
     {
         message_type = _objective_mesg_update_occupation;
@@ -91,7 +92,7 @@
     Uint8 unit_type;
     Uint8 unit_gen_on;
 
-    void set(Uint16 id, Uint8 unit_type, bool unit_generation_on)
+    void set(ObjectiveID id, Uint8 unit_type, bool unit_generation_on)
     {
         setObjectiveID(id);
         this-&gt;unit_type = unit_type;
@@ -107,7 +108,7 @@
     Uint16 disowned_player_id;
 
 public:
-    void set(Uint16 id, Uint16 disowned_player)
+    void set(ObjectiveID id, Uint16 disowned_player)
     {
         setObjectiveID(id);
         disowned_player_id = htol16(disowned_player);
@@ -128,7 +129,7 @@
     Uint16 occupying_player_id;
 
 public:
-    void set(Uint16 id, Uint8 objective_status,
+    void set(ObjectiveID id, Uint8 objective_status,
             Uint8 occupation_status, Uint16 occupying_player)
     {
         setObjectiveID(id);
@@ -151,7 +152,7 @@
     Sint32 new_point_y;
   
 public:
-    void set(Uint16 id, iXY point)
+    void set(ObjectiveID id, iXY point)
     {
         setObjectiveID(id);
         new_point_x = htol32(point.x);

Modified: trunk/netpanzer/src/NetPanzer/Classes/Outpost.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Outpost.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/Outpost.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -30,7 +30,7 @@
 #include &quot;Classes/Network/ObjectiveNetMessage.hpp&quot;
 #include &quot;Classes/UnitMessageTypes.hpp&quot;
 
-Outpost::Outpost( short ID, iXY location, BoundBox area )
+Outpost::Outpost( ObjectiveID ID, iXY location, BoundBox area )
         : Objective( ID, location, area )
 {
     MapInterface::pointXYtoMapXY( location, &amp;outpost_map_loc );

Modified: trunk/netpanzer/src/NetPanzer/Classes/Outpost.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Outpost.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/Outpost.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -56,7 +56,7 @@
 
 public:
 
-    Outpost( short ID, iXY location, BoundBox area );
+    Outpost( ObjectiveID ID, iXY location, BoundBox area );
 
     void getOutpostStatus( OutpostStatus &amp;status );
 

Modified: trunk/netpanzer/src/NetPanzer/Classes/PowerUp.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/PowerUp.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/PowerUp.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -31,7 +31,7 @@
     life_cycle_state = _power_up_lifecycle_state_active;
 }
 
-PowerUp::PowerUp(iXY map_loc, int ID, int type)
+PowerUp::PowerUp(iXY map_loc, PowerUpID ID, int type)
 {
     this-&gt;map_loc = map_loc;
     this-&gt;ID = ID;

Modified: trunk/netpanzer/src/NetPanzer/Classes/PowerUp.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/PowerUp.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/PowerUp.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -18,6 +18,7 @@
 #ifndef _POWERUP_HPP
 #define _POWERUP_HPP
 
+#include &quot;Core/CoreTypes.hpp&quot;
 #include &quot;Classes/SpriteSorter.hpp&quot;
 #include &quot;Classes/Sprite.hpp&quot;
 #include &quot;Classes/Network/PowerUpNetMessage.hpp&quot;
@@ -39,15 +40,15 @@
     static SpritePacked POWERUP_ANIM;
     static SpritePacked POWERUP_ANIM_SHADOW;
 
-    iXY     map_loc;
-    iXY     world_loc;
-    int     ID;
-    int     type;
-    int     life_cycle_state;
+    iXY       map_loc;
+    iXY       world_loc;
+    PowerUpID ID;
+    int       type;
+    int       life_cycle_state;
 
 public:
     PowerUp();
-    PowerUp(iXY map_loc, int ID, int type);
+    PowerUp(iXY map_loc, PowerUpID ID, int type);
     PowerUp(iXY map_loc, int type);
     virtual ~PowerUp()
     { }

Modified: trunk/netpanzer/src/NetPanzer/Classes/UnitBase.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/UnitBase.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/UnitBase.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -18,6 +18,7 @@
 #ifndef _UNITBASE_HPP
 #define _UNITBASE_HPP
 
+#include &quot;Core/CoreTypes.hpp&quot;
 #include &quot;Classes/UnitState.hpp&quot;
 
 class UnitMessage;
@@ -25,8 +26,6 @@
 class SpriteSorter;
 class PlayerState;
 
-typedef Uint16 UnitID;
-
 class UnitBase
 {
 public:

Modified: trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -67,14 +67,14 @@
        _keyboard_input_mode_allie_mesg
      };
 
-short WorldInputCmdProcessor::selected_objective_id = 0;
+ObjectiveID WorldInputCmdProcessor::selected_objective_id = 0;
 
 WorldInputCmdProcessor::WorldInputCmdProcessor()
 {
     keyboard_input_mode = _keyboard_input_mode_command;
 
     selection_box_active = false;
-    outpost_goal_selection = -1;
+    outpost_goal_selection = OBJECTIVE_NONE;
     previous_manual_control_state = false;
     manual_control_state = false;
     manual_fire_state = false;
@@ -174,26 +174,35 @@
     if (selection_box_active)
         return _cursor_regular;
 
-    if( (manual_control_state == true) || (manual_fire_state == true) ) {
+    if( (manual_control_state == true) || (manual_fire_state == true) )
+    {
         return  _cursor_enemy_unit;
     }
 
     MapInterface::pointXYtoMapXY( loc, &amp;map_loc );
 
-    if (MapInterface::getMovementValue(map_loc) &gt;= 0xFF) {
+    if (MapInterface::getMovementValue(map_loc) &gt;= 0xFF)
+    {
         return _cursor_blocked;
     }
 
     unit_loc_status = UnitInterface::queryUnitLocationStatus(loc);
-    if ( unit_loc_status == _unit_player ) {
+    if ( unit_loc_status == _unit_player )
+    {
         return _cursor_player_unit;
-    } else if ((unit_loc_status == _unit_enemy) 
-            &amp;&amp; KeyboardInterface::getKeyState(SDLK_a)) {
-            return _cursor_make_allie;
-    } else if ((unit_loc_status == _unit_enemy) &amp;&amp; working_list.isSelected()) {
+    }
+    else if ((unit_loc_status == _unit_enemy) 
+            &amp;&amp; KeyboardInterface::getKeyState(SDLK_a))
+    {
+        return _cursor_make_allie;
+    }
+    else if ((unit_loc_status == _unit_enemy) &amp;&amp; working_list.isSelected())
+    {
         return _cursor_enemy_unit;
-    } else if ( (unit_loc_status == _unit_allied) 
-            &amp;&amp; KeyboardInterface::getKeyState(SDLK_a)) {
+    }
+    else if ( (unit_loc_status == _unit_allied) 
+            &amp;&amp; KeyboardInterface::getKeyState(SDLK_a))
+    {
         return _cursor_break_allie;
     }
 
@@ -206,7 +215,8 @@
 void
 WorldInputCmdProcessor::setMouseCursor(unsigned char world_cursor_status)
 {
-    switch(world_cursor_status) {
+    switch(world_cursor_status)
+    {
         case _cursor_regular :
             MouseInterface::setCursor(&quot;default.bmp&quot;);
             break;
@@ -242,9 +252,12 @@
 {
     if ( KeyboardInterface::getKeyState( SDLK_LCTRL ) ||
             KeyboardInterface::getKeyState( SDLK_RCTRL )
-       ) {
+       )
+    {
         manual_fire_state = true;
-    } else {
+    }
+    else
+    {
         manual_fire_state = false;
     }
 }
@@ -252,45 +265,57 @@
 void
 WorldInputCmdProcessor::evaluateKeyCommands()
 {
-    if ( (KeyboardInterface::getKeyPressed( SDLK_o ) == true) ) {
+    if ( (KeyboardInterface::getKeyPressed( SDLK_o ) == true) )
+    {
         toggleDisplayOutpostNames();
     }
 
-    if ( (KeyboardInterface::getKeyPressed( SDLK_f ) == true) ) {
+    if ( (KeyboardInterface::getKeyPressed( SDLK_f ) == true) )
+    {
         gameconfig-&gt;drawunitflags.toggle();
     }
-    if ( (KeyboardInterface::getKeyPressed( SDLK_d ) == true) ) {
+    
+    if ( (KeyboardInterface::getKeyPressed( SDLK_d ) == true) )
+    {
         gameconfig-&gt;drawunitdamage.toggle();
     }
 
     if ( (KeyboardInterface::getKeyPressed( SDLK_RETURN ) == true)
             &amp;&amp; (KeyboardInterface::getKeyState( SDLK_LALT ) == false)
-            &amp;&amp; (KeyboardInterface::getKeyState( SDLK_RALT ) == false)) {
+            &amp;&amp; (KeyboardInterface::getKeyState( SDLK_RALT ) == false))
+    {
         setKeyboardInputModeChatMesg();
     }
 
     if ( ( KeyboardInterface::getKeyState( SDLK_LCTRL ) ||
             KeyboardInterface::getKeyState( SDLK_RCTRL ) )
-            &amp;&amp; (KeyboardInterface::getKeyPressed( SDLK_a ) == true) ) {
+            &amp;&amp; (KeyboardInterface::getKeyPressed( SDLK_a ) == true) )
+    {
         setKeyboardInputModeAllieChatMesg();
     }
 
     //If space is pressed, jump to first currently attacked unit
-    if( KeyboardInterface::getKeyState( SDLK_SPACE ) == true ) {
+    if( KeyboardInterface::getKeyState( SDLK_SPACE ) == true )
+    {
         jumpLastAttackedUnit();
     }
 
     //If any of the four arrow-keys is pressed, scroll
-    if( KeyboardInterface::getKeyState( SDLK_UP ) == true ) {
+    if( KeyboardInterface::getKeyState( SDLK_UP ) == true )
+    {
     	WorldViewInterface::scroll_up( 15 );
     }
-    else if( KeyboardInterface::getKeyState( SDLK_DOWN ) == true ) {
+    else if( KeyboardInterface::getKeyState( SDLK_DOWN ) == true )
+    {
     	WorldViewInterface::scroll_down( 15 );
     }
-    if( KeyboardInterface::getKeyState( SDLK_RIGHT ) == true ) {
+    
+    if( KeyboardInterface::getKeyState( SDLK_RIGHT ) == true )
+    {
     	WorldViewInterface::scroll_right( 15 );
     }
-    else if( KeyboardInterface::getKeyState( SDLK_LEFT ) == true ) {
+    else if( KeyboardInterface::getKeyState( SDLK_LEFT ) == true )
+    {
     	WorldViewInterface::scroll_left( 15 );
     }
 }
@@ -300,12 +325,14 @@
 {
     const UnitInterface::Units&amp; units = UnitInterface::getUnits();
     for(UnitInterface::Units::const_iterator i = units.begin();
-            i != units.end(); ++i) {
+            i != units.end(); ++i)
+    {
         UnitBase* unit = i-&gt;second;
         if(unit-&gt;player != PlayerInterface::getLocalPlayer())
             continue;
 
-        if (unit-&gt;unit_state.threat_level == _threat_level_under_attack) {
+        if (unit-&gt;unit_state.threat_level == _threat_level_under_attack)
+        {
             WorldViewInterface::setCameraPosition(unit-&gt;unit_state.location);
 	    break;
         }
@@ -543,38 +570,49 @@
     if ( (manual_control_state == true) ||
             KeyboardInterface::getKeyState( SDLK_LCTRL ) ||
             KeyboardInterface::getKeyState( SDLK_RCTRL )
-       ) {
+       )
+    {
 
         if (event.event == MouseEvent::EVENT_DOWN )
         {
             sendManualFireCommand( world_pos );
         }
 
-    } else if (event.event == MouseEvent::EVENT_DOWN) {
+    }
+    else if (event.event == MouseEvent::EVENT_DOWN)
+    {
         Objective *objective = 0;
         click_status = ObjectiveInterface::quearyObjectiveLocationStatus(
             world_pos, PlayerInterface::getLocalPlayerIndex(), &amp;objective);
 	
-        if ( (click_status == _player_occupied_objective_found) ) {
+        if ( click_status == _player_occupied_objective_found )
+        {
             selection_box_active = false;
             outpost_goal_selection = objective-&gt;objective_state.ID;
             output_pos_press = objective-&gt;objective_state.location; 
-        } else {
+        }
+        else
+        {
             box_press = world_pos;
             box_release = world_pos;
             selection_box_active = true;
         }
-    } else if(event.event == MouseEvent::EVENT_UP) {
-        if (selection_box_active) {
+    }
+    else if(event.event == MouseEvent::EVENT_UP)
+    {
+        if (selection_box_active)
+        {
             selection_box_active = false;
             box_release = world_pos;
             if(abs(box_release.x - box_press.x) &gt; 3
-		    &amp;&amp; abs(box_release.y - box_press.y) &gt; 3) {
+		    &amp;&amp; abs(box_release.y - box_press.y) &gt; 3)
+            {
                 return;
             }
         }
         
-        if (outpost_goal_selection != -1 ){
+        if (outpost_goal_selection != OBJECTIVE_NONE )
+        {
             Objective *objective = 0;
             int cs = ObjectiveInterface::quearyObjectiveLocationStatus(
                     world_pos, PlayerInterface::getLocalPlayerIndex(),
@@ -582,13 +620,15 @@
             
             if ( (cs == _player_occupied_objective_found) 
                     &amp;&amp; outpost_goal_selection == objective-&gt;objective_state.ID
-               ) {
+               )
+            {
                 // we've let go of the mouse on the building so we're
                 //  not changing the spawn point
-                selected_objective_id = CURRENT_SELECTED_OUTPOST_ID = objective-&gt;objective_state.ID;
+                selected_objective_id = objective-&gt;objective_state.ID;
                 activateVehicleSelectionView( selected_objective_id );
             }
-            else {
+            else
+            {
                 TerminalOutpostOutputLocRequest term_mesg;
                 
                 term_mesg.output_loc_request.set( outpost_goal_selection,
@@ -596,46 +636,58 @@
                 
                 CLIENT-&gt;sendMessage(&amp;term_mesg, sizeof(TerminalOutpostOutputLocRequest));
 
-                if ( NetworkState::status == _network_state_client ) {
-                    
+                if ( NetworkState::status == _network_state_client )
+                {    
                     ObjectiveInterface::sendMessage( &amp;(term_mesg.output_loc_request) );
                 }
             }
-            outpost_goal_selection = -1;
+            outpost_goal_selection = OBJECTIVE_NONE;
             return;
         }
         
         click_status = getCursorStatus(world_pos);
-        switch(click_status) {
-            case _cursor_player_unit: {
+        switch(click_status)
+        {
+            case _cursor_player_unit:
+            {
                 static NTimer dclick_timer(200);
                 static int click_times = 0;
                 bool addunits = false;
                 if( (KeyboardInterface::getKeyState(SDLK_LSHIFT) == true) ||
-                        (KeyboardInterface::getKeyState(SDLK_RSHIFT) == true)) {
+                        (KeyboardInterface::getKeyState(SDLK_RSHIFT) == true))
+                {
                     addunits = true;
                 }
-                if ( ! dclick_timer.isTimeOut() ) {
-                    if ( click_times ) {
+                if ( ! dclick_timer.isTimeOut() )
+                {
+                    if ( click_times )
+                    {
                         iRect wr;
                         WorldViewInterface::getViewWindow(&amp;wr);
                         working_list.selectBounded(wr, addunits);
                         click_times=0;
-                    } else {
+                    }
+                    else
+                    {
                         working_list.selectSameTypeVisible(world_pos,addunits);
                         dclick_timer.reset();
                         click_times++;
                     }
                     break;
-                } else if (addunits) {
+                }
+                else if (addunits)
+                {
                     working_list.addUnit(world_pos);
-                } else {
+                }
+                else
+                {
                     working_list.selectUnit(world_pos );
                 }
 
                 current_selection_list_bits=0;
                 current_selection_list_index = 0xFFFF;
-                if (working_list.unit_list.size() &gt; 0) {
+                if (working_list.unit_list.size() &gt; 0)
+                {
                     UnitBase *unit = UnitInterface::getUnit(
                             working_list.unit_list[0]);
                     if(unit)
@@ -644,10 +696,10 @@
                 dclick_timer.reset();
                 click_times=0;
                 break;
-            } // case
+            }
             case _cursor_move:
             case _cursor_blocked:
-                if(outpost_goal_selection == -1)
+                if(outpost_goal_selection == OBJECTIVE_NONE)
                     sendMoveCommand(world_pos);
                 break;
 
@@ -924,7 +976,8 @@
 void
 WorldInputCmdProcessor::draw()
 {
-    if (selection_box_active == true &amp;&amp; box_press != box_release) {
+    if (selection_box_active == true &amp;&amp; box_press != box_release)
+    {
         WorldViewInterface::getViewWindow(&amp;world_win);
         iXY box1, box2;
         WorldViewInterface::worldXYtoClientXY(world_win, box_press, &amp;box1);
@@ -935,7 +988,8 @@
         screen-&gt;drawRect(iRect(box1, box2), Color::white);
     }
 
-    if (outpost_goal_selection != -1) {
+    if (outpost_goal_selection != OBJECTIVE_NONE)
+    {
         iXY mouse_pos;
         MouseInterface::getMousePosition( &amp;mouse_pos.x, &amp;mouse_pos.y );
 

Modified: trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -32,7 +32,7 @@
     bool selection_box_active;
     iXY box_press, box_release;
 
-    short outpost_goal_selection; //number of the outpost, -1 if none
+    ObjectiveID outpost_goal_selection; //number of the outpost, -1 if none
     iXY output_pos_press;
 
     iXY right_mouse_scroll_pos;
@@ -97,7 +97,7 @@
 
     bool getConsoleInputString(char *input_string);
 
-    static short selected_objective_id;
+    static ObjectiveID selected_objective_id;
 
 public:
     WorldInputCmdProcessor();

Added: trunk/netpanzer/src/NetPanzer/Core/CoreTypes.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Core/CoreTypes.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Core/CoreTypes.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -0,0 +1,40 @@
+/*
+Copyright (C) 2008 by Aaron Perez &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/netpanzer-cvs">aaronps at gmail.com</A>&gt;
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2 of the License, or
+(at your option) any later version.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+
+ * Created on September 4, 2008, 11:43 PM
+ */
+
+#ifndef _CORETYPES_HPP
+#define	_CORETYPES_HPP
+
+// SDL.h included for the basic types [U|S]int[8|16|32]
+#include &quot;SDL.h&quot;
+#include &quot;Util/Endian.hpp&quot;
+
+typedef Sint32 PowerUpID;
+#define PowerUpID_toPortable(a) htol32(a)
+#define PowerUpID_fromPortable(a) ltoh32(a)
+
+typedef Uint16 ObjectiveID;
+#define ObjectiveID_toPortable(a) htol16(a)
+#define ObjectiveID_fromPortable(a) ltoh16(a)
+#define OBJECTIVE_NONE 0xffff
+
+typedef Uint16 UnitID;
+
+#endif	/* _CORETYPES_HPP */
+

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/MiniMapInterface.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/MiniMapInterface.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/MiniMapInterface.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -138,7 +138,7 @@
     iRect world_rect, map_rect;
     unsigned char objective_disposition;
     PIX color;
-    int objective_id;
+    ObjectiveID objective_id;
 
     ObjectiveInterface::startObjectivePositionEnumeration();
 

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/ObjectiveInterface.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/ObjectiveInterface.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/ObjectiveInterface.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -42,7 +42,7 @@
 std::vector&lt;Objective*&gt; ObjectiveInterface::objective_list;
 
 unsigned long ObjectiveInterface::objective_position_enum_list_size;
-unsigned long ObjectiveInterface::objective_position_enum_index;
+ObjectiveID   ObjectiveInterface::objective_position_enum_index;
 Uint16        ObjectiveInterface::objective_position_enum_player_id;
 
 NetMessageEncoder ObjectiveInterface::message_encoder;
@@ -119,9 +119,10 @@
 void
 ObjectiveInterface::loadObjectiveList(const char *file_path)
 {
-    int objective_count = 0;
+    ObjectiveID objective_count = 0;
 
-    try {
+    try
+    {
         IFileStream in(file_path);
 
         cleanUpObjectiveList();
@@ -134,7 +135,8 @@
         size_t world_x, world_y;
         std::string name;
         cleanUpObjectiveList();
-        for (int objective_index = 0; objective_index &lt; objective_count; objective_index++ ) {
+        for (ObjectiveID objective_index = 0; objective_index &lt; objective_count; objective_index++ )
+        {
             Objective *objective_obj;
        
             name = readToken(in, &quot;Name:&quot;);
@@ -151,7 +153,9 @@
             strcpy(objective_obj-&gt;objective_state.name, name.c_str());
             objective_list.push_back(objective_obj);
         } // ** for
-    } catch(std::exception&amp; e) {
+    }
+    catch(std::exception&amp; e)
+    {
         throw Exception(&quot;Error while reading outpost definition '%s': %s&quot;,
                 file_path, e.what());
     }
@@ -333,13 +337,13 @@
 }
 
 ObjectiveState*
-ObjectiveInterface::getObjectiveState( short objective_id )
+ObjectiveInterface::getObjectiveState( ObjectiveID objective_id )
 {
     return &amp; (objective_list.at(objective_id)-&gt;objective_state);
 }
 
 OutpostStatus
-ObjectiveInterface::getOutpostStatus( short objective_id )
+ObjectiveInterface::getOutpostStatus( ObjectiveID objective_id )
 {
     OutpostStatus outpost_status;
     
@@ -362,7 +366,7 @@
 
 bool
 ObjectiveInterface::objectivePositionEnumeration(iRect *objective_rect,
-        unsigned char *objective_disposition, int *objective_id)
+        unsigned char *objective_disposition, ObjectiveID *objective_id)
 {
     ObjectiveState *objective_state;
 

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/ObjectiveInterface.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/ObjectiveInterface.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/ObjectiveInterface.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -74,9 +74,9 @@
 
     static void disownPlayerObjectives(Uint16 player_id);
 
-    static ObjectiveState * getObjectiveState( short objective_id );
+    static ObjectiveState * getObjectiveState( ObjectiveID objective_id );
 
-    static OutpostStatus getOutpostStatus( short objective_id );
+    static OutpostStatus getOutpostStatus( ObjectiveID objective_id );
 
     static size_t getObjectiveCount()
     {
@@ -95,13 +95,13 @@
 
     // Objective positions, almost exclusivly for mini map
 protected:
-    static unsigned long objective_position_enum_index;
+    static ObjectiveID   objective_position_enum_index;
     static unsigned long objective_position_enum_list_size;
     static Uint16        objective_position_enum_player_id;
 
 public:
-    static void    startObjectivePositionEnumeration();
-    static bool objectivePositionEnumeration(iRect *objective_rect, unsigned char *objective_disposition, int *objective_id);
+    static void startObjectivePositionEnumeration();
+    static bool objectivePositionEnumeration(iRect *objective_rect, unsigned char *objective_disposition, ObjectiveID *objective_id);
 };
 
 

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/PowerUpInterface.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/PowerUpInterface.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/PowerUpInterface.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -72,10 +72,10 @@
     power_up_regen_time_lower_bound =  60;
 }
 
-int
+PowerUpID
 PowerUpInterface::getNextPowerUpID()
 {
-    static unsigned int nextid = 0;
+    static PowerUpID nextid = 0;
     return nextid++;
 }
 

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/PowerUpInterface.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/PowerUpInterface.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/PowerUpInterface.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -31,7 +31,7 @@
     typedef std::vector&lt;PowerUp *&gt; PowerUpList;
     static PowerUpList powerup_list;
     
-    static int getNextPowerUpID();
+    static PowerUpID getNextPowerUpID();
     
     static int power_up_limit;
     static int power_up_regen_time_upper_bound;

Modified: trunk/netpanzer/src/NetPanzer/Views/Game/VehicleSelectionView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Game/VehicleSelectionView.cpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Views/Game/VehicleSelectionView.cpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -42,7 +42,7 @@
 int vsvSelectedUnit   = 0;
 int vsvUnitGenOn      = true;
 bool changeMade       = false;
-unsigned short CURRENT_SELECTED_OUTPOST_ID;
+ObjectiveID CURRENT_SELECTED_OUTPOST_ID;
 
 static void sendOutpostStatus()
 {
@@ -134,7 +134,7 @@
 
 
 
-void activateVehicleSelectionView(unsigned short outpost_id)
+void activateVehicleSelectionView(ObjectiveID outpost_id)
 {
     OutpostStatus outpost_status;
 
@@ -379,7 +379,8 @@
 
     outpost_status = ObjectiveInterface::getOutpostStatus( CURRENT_SELECTED_OUTPOST_ID );
 
-    if (vsvUnitGenOn) {
+    if (vsvUnitGenOn)
+    {
         sprintf(strBuf, &quot;%s&quot;, getUnitName(vsvSelectedUnit));
         clientArea.bltString(   productionUnitPos.x, productionUnitPos.y, 
                                 strBuf, color);
@@ -392,7 +393,9 @@
          
         clientArea.bltString(   timeRequiredPos.x, timeRequiredPos.y, 
                                 strBuf, color);
-    } else {
+    }
+    else
+    {
         sprintf(strBuf, &quot;power off&quot;);
         clientArea.bltString(   productionUnitPos.x, productionUnitPos.y, 
                                 strBuf, color);
@@ -506,7 +509,7 @@
     unsigned char objectiveOwner;
     iRect         gameViewRect;
     OutpostStatus outpostStatus;
-    int           objectiveID = 0;
+    ObjectiveID   objectiveID = 0;
 
     WorldViewInterface::getViewWindow(&amp;gameViewRect);
     ObjectiveInterface::startObjectivePositionEnumeration();

Modified: trunk/netpanzer/src/NetPanzer/Views/Game/VehicleSelectionView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Game/VehicleSelectionView.hpp	2008-09-03 15:45:02 UTC (rev 1043)
+++ trunk/netpanzer/src/NetPanzer/Views/Game/VehicleSelectionView.hpp	2008-09-09 14:23:46 UTC (rev 1044)
@@ -18,6 +18,7 @@
 #ifndef __VehicleSelectionView_hpp__
 #define __VehicleSelectionView_hpp__
 
+#include &quot;Core/CoreTypes.hpp&quot;
 #include &quot;2D/Surface.hpp&quot;
 #include &quot;Views/Components/View.hpp&quot;
 #include &quot;GameTemplateView.hpp&quot;
@@ -53,9 +54,7 @@
 extern int vsvSelectedUnit;     // Vehicle Selection View Selected Unit
 extern int vsvTempSelectedUnit; // Vehicle Selection View Temp Selected Unit
 
-extern unsigned short CURRENT_SELECTED_OUTPOST_ID;
-
-void activateVehicleSelectionView( unsigned short outpost_id );
+void activateVehicleSelectionView( ObjectiveID outpost_id );
 void toggleDisplayOutpostNames( void );
 
 //--------------------------------------------------------------------------


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000083.html">[Netpanzer-cvs] r1043 - in trunk/netpanzer/src/NetPanzer:	Classes/Network Interfaces
</A></li>
	<LI>Next message: <A HREF="000085.html">[Netpanzer-cvs] r1046 - in trunk/netpanzer: . nbproject	src/NetPanzer src/NetPanzer/Classes/Network	src/NetPanzer/Interfaces src/NetPanzer/PowerUps	src/NetPanzer/Views/Game
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#84">[ date ]</a>
              <a href="thread.html#84">[ thread ]</a>
              <a href="subject.html#84">[ subject ]</a>
              <a href="author.html#84">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/netpanzer-cvs">More information about the Netpanzer-cvs
mailing list</a><br>
</body></html>
