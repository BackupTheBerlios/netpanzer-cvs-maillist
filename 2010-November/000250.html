<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Netpanzer-cvs] r1224 - in trunk/netpanzer/src/NetPanzer: Classes	Classes/Network Core
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/netpanzer-cvs/2010-November/index.html" >
   <LINK REL="made" HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1224%20-%20in%20trunk/netpanzer/src/NetPanzer%3A%20Classes%0A%09Classes/Network%20Core&In-Reply-To=%3C20101110132918.93325480562%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000249.html">
   <LINK REL="Next"  HREF="000251.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Netpanzer-cvs] r1224 - in trunk/netpanzer/src/NetPanzer: Classes	Classes/Network Core</H1>
    <B>kromxp at mail.berlios.de</B> 
    <A HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1224%20-%20in%20trunk/netpanzer/src/NetPanzer%3A%20Classes%0A%09Classes/Network%20Core&In-Reply-To=%3C20101110132918.93325480562%40sheep.berlios.de%3E"
       TITLE="[Netpanzer-cvs] r1224 - in trunk/netpanzer/src/NetPanzer: Classes	Classes/Network Core">kromxp at mail.berlios.de
       </A><BR>
    <I>Wed Nov 10 14:29:18 CET 2010</I>
    <P><UL>
        <LI>Previous message: <A HREF="000249.html">[Netpanzer-cvs] r1223 - trunk/netpanzer/src/NetPanzer/Interfaces
</A></li>
        <LI>Next message: <A HREF="000251.html">[Netpanzer-cvs] r1225 - in trunk/netpanzer/src/NetPanzer:	Classes/Network Interfaces Network Objectives Units
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: kromxp
Date: 2010-11-10 14:29:18 +0100 (Wed, 10 Nov 2010)
New Revision: 1224

Removed:
   trunk/netpanzer/src/NetPanzer/Classes/Network/ClientServerNetMessage.hpp
Modified:
   trunk/netpanzer/src/NetPanzer/Classes/Network/ClientConnectDaemon.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/ClientConnectDaemon.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/ClientMessageRouter.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/ConnectNetMessage.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/ConnectNetMessage.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/NetMessage.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/NetPacketDebugger.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/NetPacketDebugger.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkClient.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkClient.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/PlayerNetMessage.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/ServerConnectDaemon.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/ServerMessageRouter.cpp
   trunk/netpanzer/src/NetPanzer/Classes/PlayerState.cpp
   trunk/netpanzer/src/NetPanzer/Classes/PlayerState.hpp
   trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp
   trunk/netpanzer/src/NetPanzer/Core/CoreTypes.hpp
Log:
-removed teaming and allying functions
-connecting process changes
-send selected flag when connecting to server
-simplify some connection packets (uses less bytes)

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/ClientConnectDaemon.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/ClientConnectDaemon.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/ClientConnectDaemon.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -26,15 +26,20 @@
 #include &quot;Interfaces/GameConfig.hpp&quot;
 #include &quot;Interfaces/GameManager.hpp&quot;
 
+#include &quot;Resources/ResourceManager.hpp&quot;
+
 #include &quot;Util/Log.hpp&quot;
 #include &quot;ConnectNetMessage.hpp&quot;
 #include &quot;Interfaces/ConsoleInterface.hpp&quot;
 #include &quot;Views/Game/LoadingView.hpp&quot;
 
 enum { _connect_state_idle,
-       _connect_state_wait_for_connect_start,
-       _connect_state_send_connect_request,
-       _connect_state_wait_for_connect_result,
+       _connect_state_waiting_link,
+
+
+
+       _connect_state_waiting_connect_start,
+       _connect_state_waiting_connect_result,
        _connect_state_wait_for_server_game_setup,
        _connect_state_setup_client_game,
        _connect_state_connect_failure
@@ -71,13 +76,14 @@
     failure_display_timer.changePeriod( 10 );
     time_out_timer.changePeriod( _CLIENT_CONNECT_TIME_OUT_TIME );
     time_out_counter = 0;
-    connection_state = _connect_state_wait_for_connect_start;
+    connection_state = _connect_state_waiting_connect_start;
 }
 
-void ClientConnectDaemon::netMessageLinkAck(const NetMessage* message)
+unsigned char ClientConnectDaemon::netMessageLinkAck(const NetMessage* message)
 {
     ClientConnectJoinRequestAck *join_request_ack_mesg;
     char buf[80];
+    unsigned char rval;
 
     join_request_ack_mesg = (ClientConnectJoinRequestAck *) message;
 
@@ -87,6 +93,7 @@
         sprintf( buf, &quot;Protocol Version: %u&quot;,
                 join_request_ack_mesg-&gt;getServerProtocolVersion());
         LoadingView::append( buf );
+        rval = _connect_state_waiting_connect_start;
         break;
 
     case _join_request_result_invalid_protocol :
@@ -96,7 +103,7 @@
         sprintf( buf, &quot;Server Protocol Version: %u&quot;,
                 join_request_ack_mesg-&gt;getServerProtocolVersion());
         LoadingView::append( buf );
-        connection_state = _connect_state_connect_failure;
+        rval = _connect_state_connect_failure;
         failure_display_timer.reset();
         break;
 
@@ -104,7 +111,7 @@
         LoadingView::append( &quot;Link to Server FAILED!&quot; );
         LoadingView::append( &quot;Server is VERY busy&quot; );
         LoadingView::append( &quot;Please try in a few minutes&quot; );
-        connection_state = _connect_state_connect_failure;
+        rval = _connect_state_connect_failure;
         failure_display_timer.reset();
         break;
 
@@ -113,6 +120,7 @@
         break;
     }
 
+    return rval;
 }
 
 void ClientConnectDaemon::netMessageConnectProcessUpdate(const NetMessage* message )
@@ -184,16 +192,7 @@
 void ClientConnectDaemon::processNetMessage(const NetMessage* message)
 {
     switch (message-&gt;message_id) {
-    case _net_message_id_connect_join_game_request_ack : {
-            netMessageLinkAck( message );
-        }
-        break;
 
-    case _net_message_id_client_connect_process_update : {
-            netMessageConnectProcessUpdate( message );
-        }
-        break;
-
     case _net_message_id_client_connect_process_state_mesg : {
             netMessageConnectProcessMessage( message );
         }
@@ -234,37 +233,50 @@
 
 void ClientConnectDaemon::connectFsm(const NetMessage* message )
 {
-    bool end_cycle = false;
+    unsigned char message_id = message ? message-&gt;message_id : 0xff;
 
     switch ( connection_state )
     {
         case _connect_state_idle :
             return;
 
-        case _connect_state_wait_for_connect_start :
-            if ( message &amp;&amp; message-&gt;message_id == _net_message_id_client_start_connect )
+        case _connect_state_waiting_link:
+            if ( message_id == _net_message_id_connect_join_game_request_ack )
             {
-                LoadingView::append( &quot;Connecting ...&quot; );
-                connection_state = _connect_state_send_connect_request;
+                connection_state = netMessageLinkAck( message );
             }
-            else
+            break;
+
+        case _connect_state_waiting_connect_start :
+            if ( message_id == _net_message_id_client_connect_process_update )
             {
+                netMessageConnectProcessUpdate( message );
                 break;
             }
+            else if ( message_id == _net_message_id_client_start_connect )
+            {
+                LoadingView::append( &quot;Connecting ...&quot; );
 
-        case _connect_state_send_connect_request : {
                 ClientConnectRequest connect_request;
-
                 CLIENT-&gt;sendMessage(&amp;connect_request, sizeof(ClientConnectRequest));
 
-                connection_state = _connect_state_wait_for_connect_result;
+                connection_state = _connect_state_waiting_connect_result;
+            }
+            else if ( message_id == _net_message_id_connect_server_full )
+            {
+                LoadingView::append( &quot;Connect Failure: Server Full&quot; );
 
-                end_cycle = true;
+                failure_display_timer.reset();
+                connection_state = _connect_state_connect_failure;
+                break;
             }
-            break;
+            else
+            {
+                break;
+            }
 
-        case _connect_state_wait_for_connect_result :
-            if ( message &amp;&amp; message-&gt;message_id == _net_message_id_client_connect_result )
+        case _connect_state_waiting_connect_result :
+            if (message_id == _net_message_id_client_connect_result )
             {
                 ClientConnectResult *connect_result;
 
@@ -282,6 +294,7 @@
                     ConnectClientSettings client_setting;
 
                     client_setting.set(gameconfig-&gt;playername.c_str());
+                    memcpy(&amp;client_setting.player_flag, GameConfig::player_flag_data, sizeof(client_setting.player_flag));
 
                     CLIENT-&gt;sendMessage( &amp;client_setting, sizeof(ConnectClientSettings));
 
@@ -363,8 +376,6 @@
                     LoadingView::update( str_buf );
                     CLIENT-&gt;sendMessage( &amp;client_game_setup_ping, sizeof(ConnectMesgClientGameSetupPing));
                 }
-
-                end_cycle = true;
             }
             break;
 
@@ -374,7 +385,6 @@
                     LoadingView::loadError();
                     connection_state = _connect_state_idle;
                 }
-                end_cycle = true;
             }
             break;
 

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/ClientConnectDaemon.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/ClientConnectDaemon.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/ClientConnectDaemon.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -30,7 +30,7 @@
     static int   time_out_counter;
     static unsigned char connection_state;
 
-    static void netMessageLinkAck(const NetMessage* message);
+    static unsigned char netMessageLinkAck(const NetMessage* message);
     static void netMessageConnectProcessUpdate(const NetMessage* message);
     static void netMessageConnectProcessMessage(const NetMessage* message);
     static void netMessageConnectServerDisconnect(const NetMessage* message);

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/ClientMessageRouter.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/ClientMessageRouter.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/ClientMessageRouter.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -55,10 +55,6 @@
 ClientMessageRouter::routeMessage(const NetMessage* message)
 {
     switch (message-&gt;message_class) {
-        case _net_message_class_client_server:
-            // already handled in the NetworkClient class
-            break;
-        
         case _net_message_class_unit:
             UnitInterface::processNetMessage(message);
             break;

Deleted: trunk/netpanzer/src/NetPanzer/Classes/Network/ClientServerNetMessage.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/ClientServerNetMessage.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/ClientServerNetMessage.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -1,105 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-#ifndef _CLIENT_SERVER_NETMESSAGE_HPP
-#define _CLIENT_SERVER_NETMESSAGE_HPP
-
-#include &quot;NetMessage.hpp&quot;
-
-enum { _net_message_id_transport_client_accept,
-       _net_message_id_client_connect_ack,
-       _net_message_id_client_server_id,
-       _net_message_id_client_keep_alive,
-       _net_message_id_client_set_keepalive_state,
-       _net_message_id_server_client_disconnect,
-       _net_message_id_server_keep_alive,
-       _net_message_id_server_ping_request,
-       _net_message_id_client_ping_ack
-     };
-
-#ifdef MSVC
-#pragma pack(1)
-#endif
-
-class ClientMesgConnectAck : public NetMessage
-{
-public:
-    ClientMesgConnectAck()
-    {
-        message_class = _net_message_class_client_server;
-        message_id = _net_message_id_client_connect_ack;
-    }
-} __attribute__((packed));
-
-class ClientMesgKeepAlive : public NetMessage
-{
-public :
-    ClientMesgKeepAlive()
-    {
-        message_class = _net_message_class_client_server;
-        message_id = _net_message_id_client_keep_alive;
-    }
-} __attribute__((packed));
-
-class ClientMesgSetKeepAlive : public NetMessage
-{
-public :
-    bool keep_alive_state;
-
-    ClientMesgSetKeepAlive()
-    {
-        message_class = _net_message_class_client_server;
-        message_id = _net_message_id_client_set_keepalive_state;
-    }
-} __attribute__((packed));
-
-
-class ServerMesgKeepAlive: public NetMessage
-{
-public:
-    ServerMesgKeepAlive()
-    {
-        message_class = _net_message_class_client_server;
-        message_id = _net_message_id_server_keep_alive;
-    }
-} __attribute__((packed));
-
-class ServerMesgPingRequest: public NetMessage
-{
-public:
-    ServerMesgPingRequest()
-    {
-        message_class = _net_message_class_client_server;
-        message_id = _net_message_id_server_ping_request;
-    }
-} __attribute__((packed));
-
-class ClientMesgPingAck: public NetMessage
-{
-public:
-    ClientMesgPingAck()
-    {
-        message_class = _net_message_class_client_server;
-        message_id = _net_message_id_client_ping_ack;
-    }
-} __attribute__((packed));
-
-#ifdef MSVC
-#pragma pack()
-#endif
-
-#endif // ** _CLIENT_SERVER_NETMESSAGE_HPP

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/ConnectNetMessage.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/ConnectNetMessage.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/ConnectNetMessage.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -44,16 +44,6 @@
     message_id = _net_message_id_connect_join_game_request_ack;
 }
 
-Sint32 ClientConnectJoinRequestAck::getResultCode() const
-{
-    return ltoh32(result_code);
-}
-
-void ClientConnectJoinRequestAck::setResultCode(Sint32 result)
-{
-    result_code = htol32(result);
-}
-
 Uint32 ClientConnectJoinRequestAck::getServerProtocolVersion() const
 {
     return ltoh32(server_protocol_version);
@@ -71,44 +61,12 @@
     message_id = _net_message_id_client_connect_process_update;
 }
 
-Uint32 ConnectProcessUpdate::getQueuePosition() const
-{
-    return ltoh32(queue_position);
-}
-
-void ConnectProcessUpdate::setQueuePosition(Uint32 position)
-{
-    queue_position = htol32(position);
-}
-
-
 ConnectProcessStateMessage::ConnectProcessStateMessage()
 {
     message_class = _net_message_class_connect;
     message_id = _net_message_id_client_connect_process_state_mesg;
 }
 
-Uint32 ConnectProcessStateMessage::getMessageEnum() const
-{
-    return ltoh32(message_enum);
-}
-
-void ConnectProcessStateMessage::setMessageEnum(Uint32 message)
-{
-    message_enum = htol32(message);
-}
-
-Sint32 ConnectProcessStateMessage::getPercentComplete() const
-{
-    return ltoh32(percent_complete);
-}
-
-void ConnectProcessStateMessage::setPercentComplete(Sint32 percent)
-{
-    percent_complete = htol32(percent);
-}
-
-
 ConnectClientSettings::ConnectClientSettings()
 {
     message_class = _net_message_class_connect;

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/ConnectNetMessage.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/ConnectNetMessage.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/ConnectNetMessage.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -25,6 +25,10 @@
 enum { _net_message_id_connect_join_game_request,
        _net_message_id_connect_join_game_request_ack,
        _net_message_id_client_start_connect,
+
+       _net_message_id_connect_server_full,
+       _net_message_id_connect_server_busy,
+
        _net_message_id_client_connect_request,
        _net_message_id_client_connect_result,
        _net_message_id_connect_client_settings,
@@ -61,14 +65,14 @@
 class ClientConnectJoinRequestAck : public NetMessage
 {
 private:
-    Sint32  result_code;
+    Uint8  result_code;
     Uint32 server_protocol_version;
 
 public:
     ClientConnectJoinRequestAck();
 
-    Sint32 getResultCode() const;
-    void setResultCode(Sint32 result);
+    Uint8 getResultCode() const { return result_code; }
+    void setResultCode(Uint8 result) { result_code = result; }
     Uint32 getServerProtocolVersion() const;
     void setServerProtocolVersion(Uint32 protocol_version);
 } __attribute__((packed));
@@ -114,12 +118,12 @@
 class ConnectProcessUpdate : public NetMessage
 {
 private:
-    Uint32 queue_position;
+    Uint8 queue_position;
 
 public:
     ConnectProcessUpdate();
-    Uint32 getQueuePosition() const;
-    void setQueuePosition(Uint32 position);
+    Uint8 getQueuePosition() const { return queue_position; }
+    void setQueuePosition(Uint8 position) { queue_position = position; }
 } __attribute__((packed));
 
 enum { _connect_state_message_load_game_data,
@@ -133,22 +137,22 @@
 class ConnectProcessStateMessage : public NetMessage
 {
 private:
-    Uint32 message_enum;
-    Sint32  percent_complete;
+    Uint8 message_enum;
+    Uint8 percent_complete;
 
 public:
     ConnectProcessStateMessage();
-    Uint32 getMessageEnum() const;
-    void setMessageEnum(Uint32 message);
-    Sint32 getPercentComplete() const;
-    void setPercentComplete(Sint32 percent);
+    Uint8 getMessageEnum() const { return message_enum; }
+    void setMessageEnum(Uint8 message) { message_enum = message; }
+    Uint8 getPercentComplete() const { return percent_complete; }
+    void setPercentComplete(Uint8 percent) { percent_complete = percent; }
 } __attribute__((packed));
 
 class ConnectClientSettings : public NetMessage
 {
 public:
     char player_name[64];
-
+    Uint8 player_flag[FLAG_WIDTH*FLAG_HEIGHT];
     ConnectClientSettings();
     void set(const char *player_name);
 } __attribute__((packed));

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/NetMessage.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/NetMessage.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/NetMessage.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -21,7 +21,6 @@
 #include &quot;Util/Endian.hpp&quot;
 
 enum { _net_message_class_multi = 0,
-       _net_message_class_client_server,
        _net_message_class_system,
        _net_message_class_connect,
        _net_message_class_player,

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/NetPacketDebugger.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/NetPacketDebugger.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/NetPacketDebugger.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -30,7 +30,6 @@
 
 #include &quot;NetPacketDebugger.hpp&quot;
 #include &quot;Classes/OpcodeDebugger.hpp&quot;
-#include &quot;ClientServerNetMessage.hpp&quot;
 #include &quot;ConnectNetMessage.hpp&quot;
 
 void NetPacketDebugger::logPacket(const char* domain, const NetPacket* packet)
@@ -55,11 +54,6 @@
             logMultiMessage(*log, message);
             break;
         }
-        case _net_message_class_client_server:
-        {
-            logClientServerMessage(*log, message);
-            break;
-        }
         case _net_message_class_system:
         {
             *log &lt;&lt; &quot;System&quot;;
@@ -143,43 +137,6 @@
     }
 }
 
-void NetPacketDebugger::logClientServerMessage(std::ostream&amp; log,
-        const NetMessage* message)
-{
-    log &lt;&lt; &quot;Client/Server &quot;;
-    switch(message-&gt;message_id) {
-        case _net_message_id_transport_client_accept:
-            log &lt;&lt; &quot;(transport client accept)&quot;;
-            break;
-        case _net_message_id_client_connect_ack:
-            log &lt;&lt; &quot;(client connect ack)&quot;;
-            break;
-        case _net_message_id_client_server_id:
-            log &lt;&lt; &quot;(client server id)&quot;;
-            break;
-        case _net_message_id_client_keep_alive:
-            log &lt;&lt; &quot;(client keep alive)&quot;;
-            break;
-        case _net_message_id_client_set_keepalive_state:
-            log &lt;&lt; &quot;(client set keepalive state)&quot;;
-            break;
-        case _net_message_id_server_client_disconnect:
-            log &lt;&lt; &quot;(server client disconnect)&quot;;
-            break;
-        case _net_message_id_server_keep_alive:
-            log &lt;&lt; &quot;(server keep alive)&quot;;
-            break;
-        case _net_message_id_server_ping_request:
-            log &lt;&lt; &quot;(server ping request)&quot;;
-            break;
-        case _net_message_id_client_ping_ack:
-            log &lt;&lt; &quot;(client ping ack)&quot;;
-            break;
-        default:
-            log &lt;&lt; &quot;(invalid messageid)&quot;;            
-            break;                           }
-}
-
 void NetPacketDebugger::logConnectMessage(std::ostream&amp; log,
         const NetMessage* message)
 {

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/NetPacketDebugger.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/NetPacketDebugger.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/NetPacketDebugger.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -36,7 +36,6 @@
     static void logMultiMessage(std::ostream&amp; str, const NetMessage* message);
     static void logUnitMessage(std::ostream&amp; log, const NetMessage* message);
     static void logUnitOpcodeMessage(std::ostream&amp; log, const NetMessage* message);
-    static void logClientServerMessage(std::ostream&amp; log, const NetMessage* message);
     static void logConnectMessage(std::ostream&amp; log, const NetMessage* message);
 };
 

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkClient.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkClient.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkClient.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -24,7 +24,6 @@
 
 #include &quot;Classes/Network/NetworkState.hpp&quot;
 
-#include &quot;ClientServerNetMessage.hpp&quot;
 #include &quot;ConnectNetMessage.hpp&quot;
 
 #include &quot;Interfaces/PlayerInterface.hpp&quot;
@@ -50,23 +49,10 @@
         delete clientsocket;
 }
 
-void NetworkClient::netMessageClientKeepAlive(const NetMessage* )
+void
+NetworkClient::onClientConnected(ClientSocket *s)
 {
-    // nothing
-}
-
-void NetworkClient::netMessageClientSetKeepAliveState(const NetMessage* )
-{
-    // nothing
-}
-
-void NetworkClient::netMessageClientPingAck(const NetMessage* )
-{
-    // nothing
-}
-
-void NetworkClient::netMessageClientConnectAck(const NetMessage* )
-{
+    (void)s;
     ClientConnectJoinRequest join_request;
 
     connection_status = _connection_status_connected;
@@ -76,41 +62,7 @@
     sendMessage( &amp;join_request, sizeof(ClientConnectJoinRequest));
 }
 
-
-void NetworkClient::processNetMessage(const NetMessage* message)
-{
-    switch(message-&gt;message_id)
-    {
-        case _net_message_id_client_keep_alive:
-            netMessageClientKeepAlive(message);
-            break;
-
-        case _net_message_id_client_set_keepalive_state: 
-            netMessageClientSetKeepAliveState(message);
-            break;
-
-        case _net_message_id_client_ping_ack:
-            netMessageClientPingAck(message);
-            break;
-
-        case _net_message_id_client_connect_ack:
-            netMessageClientConnectAck(message);
-            break;
-
-        default:
-            LOGGER.warning(&quot;Unknown messageid in clientnetmessage (id %d)&quot;,
-                    message-&gt;message_id);
-            break;
-    }
-}
-
 void
-NetworkClient::onClientConnected(ClientSocket *s)
-{
-    (void)s;
-}
-
-void
 NetworkClient::onClientDisconected(ClientSocket *s, const char *msg)
 {
     (void)s;
@@ -187,11 +139,6 @@
     NetPacketDebugger::logMessage(&quot;R&quot;, message);
 #endif
 
-    if ( message-&gt;message_class == _net_message_class_client_server )
-    {
-        processNetMessage( message );
-    }
-
     NetworkState::incPacketsReceived(net_packet.getSize());
 
     return true;

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkClient.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkClient.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkClient.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -41,13 +41,6 @@
     NetPacket net_packet;
     unsigned short connection_status;
 
-    void netMessageClientKeepAlive(const NetMessage* message);
-    void netMessageClientSetKeepAliveState(const NetMessage* message);
-    void netMessageClientPingAck(const NetMessage* message);
-    void netMessageClientConnectAck(const NetMessage* message);
-
-    void processNetMessage(const NetMessage* message);
-
     void onClientConnected(ClientSocket *s);
     void onClientDisconected(ClientSocket *s, const char *msg);    
 

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -24,7 +24,6 @@
 #include &quot;Util/Log.hpp&quot;
 #include &quot;Classes/Network/NetworkServer.hpp&quot;
 
-#include &quot;ClientServerNetMessage.hpp&quot;
 #include &quot;Classes/Network/ServerConnectDaemon.hpp&quot;
 #include &quot;Classes/Network/NetworkState.hpp&quot;
 
@@ -87,36 +86,6 @@
     return true;
 }
 
-void NetworkServer::netPacketClientKeepAlive(const NetPacket* )
-{
-    // nothing
-}
-
-void NetworkServer::netPacketServerPingRequest(const NetPacket* )
-{
-    // nothing
-}
-
-void NetworkServer::processNetPacket(const NetPacket* packet)
-{
-    const NetMessage* message = packet-&gt;getNetMessage();
-    switch(message-&gt;message_id)
-    {
-        case _net_message_id_server_keep_alive: 
-            netPacketClientKeepAlive(packet);
-            break;
-
-        case _net_message_id_server_ping_request:
-            netPacketServerPingRequest(packet);
-            break;
-
-        default:
-            LOGGER.warning(&quot;Unknown networkserverpacket: id:%d.&quot;,
-                    message-&gt;message_id);
-            break;
-    }
-}
-
 void
 NetworkServer::openSession()
 {
@@ -226,12 +195,6 @@
         receive_queue.dequeue(packet);
         NetworkState::incPacketsReceived(packet-&gt;getSize());
 
-        if (packet-&gt;getNetMessage()-&gt;message_class 
-                == _net_message_class_client_server)
-        {
-            processNetPacket(packet);
-        }
-
 #ifdef NETWORKDEBUG
         NetPacketDebugger::logPacket(&quot;R&quot;, packet);
 #endif
@@ -308,16 +271,7 @@
 void
 NetworkServer::onClientConnected(ClientSocket *s)
 {
-    int id = s-&gt;getId();
-    LOGGER.debug(&quot;NetworkServer: client connected [%d]&quot;, id);
-    //clients[id] = s;
-    
-    // this class handle this packet and it only sends the answer
-    // send it here right now
-    ClientMesgConnectAck connect_ack_mesg;
-    connect_ack_mesg.setSize(sizeof(ClientMesgConnectAck));
-    s-&gt;sendMessage( &amp;connect_ack_mesg,sizeof(ClientMesgConnectAck));
-    s-&gt;sendRemaining();
+    LOGGER.debug(&quot;NetworkServer: client connected [%d]&quot;, s-&gt;getId());
 }
 
 void

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -54,10 +54,6 @@
     void updateKeepAliveState();
     void resetClientList();
 
-    void netPacketClientKeepAlive(const NetPacket* packet);
-    void netPacketServerPingRequest(const NetPacket* packet);
-
-    void processNetPacket(const NetPacket* packet);
     
 public:
     NetworkServer();

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/PlayerNetMessage.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/PlayerNetMessage.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/PlayerNetMessage.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -18,13 +18,12 @@
 #ifndef _PLAYERNETMESSAGE_HPP
 #define _PLAYERNETMESSAGE_HPP
 
+#include &quot;Core/CoreTypes.hpp&quot;
 #include &quot;NetMessage.hpp&quot;
 
 enum { _net_message_id_player_connect_id,
        _net_message_id_player_sync_state,
-       _net_message_id_player_score_update,
-       _net_message_id_player_alliance_request,
-       _net_message_id_player_alliance_update
+       _net_message_id_player_score_update
      };
 
 #ifdef MSVC
@@ -34,10 +33,10 @@
 class PlayerConnectID : public NetMessage
 {
 public:
-    NetworkPlayerState connect_state;
+    PlayerID player_id;
 
-    PlayerConnectID(NetworkPlayerState state)
-        : connect_state(state)
+    PlayerConnectID(PlayerID id)
+        : player_id(id)
     {
         message_class = _net_message_class_player;
         message_id = _net_message_id_player_connect_id;
@@ -63,7 +62,8 @@
         message_class = _net_message_class_player;
         message_id = _net_message_id_player_sync_state;
     }
-} __attribute__((packed));
+}
+__attribute__((packed));
 
 class PlayerScoreUpdate : public NetMessage
 {
@@ -106,77 +106,6 @@
 }
 __attribute__((packed));
 
-
-enum { _player_make_alliance,
-       _player_break_alliance
-     };
-
-class PlayerAllianceRequest : public NetMessage
-{
-private:
-    PlayerID allie_by_player_index;
-    PlayerID allie_with_player_index;
-public:
-    Uint8  alliance_request_type;
-
-    PlayerAllianceRequest()
-    {
-        message_class = _net_message_class_player;
-        message_id = _net_message_id_player_alliance_request;
-    }
-
-    void set(PlayerID allie_by_player_index, PlayerID allie_with_player_index,
-            Uint8 alliance_request_type)
-    {
-        this-&gt;allie_by_player_index = allie_by_player_index;
-        this-&gt;allie_with_player_index = allie_with_player_index;
-        this-&gt;alliance_request_type = alliance_request_type;
-    }
-    PlayerID getAllieByPlayerIndex() const
-    {
-        return allie_by_player_index;
-    }
-    PlayerID getAllieWithPlayerIndex() const
-    {
-        return allie_with_player_index;
-    }
-}
-__attribute__((packed));
-
-
-class PlayerAllianceUpdate : public NetMessage
-{
-private:
-    Uint16 allie_by_player_index;
-    Uint16 allie_with_player_index;
-public:
-    Uint8  alliance_update_type;
-
-    PlayerAllianceUpdate()
-    {
-        message_class = _net_message_class_player;
-        message_id = _net_message_id_player_alliance_update;
-    }
-
-    void set(Uint16 by_player_index, Uint16 with_player_index,
-            Uint8 update_type )
-    {
-        allie_by_player_index = htol16(by_player_index);
-        allie_with_player_index = htol16(with_player_index);
-        alliance_update_type = update_type;
-    }
-
-    Uint16 getAllieByPlayerIndex() const
-    {
-        return ltoh16(allie_by_player_index);
-    }
-    Uint16 getAllieWithPlayerIndex() const
-    {
-        return ltoh16(allie_with_player_index);
-    }
-}
-__attribute__((packed));
-
 #ifdef MSVC
 #pragma pack()
 #endif

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/ServerConnectDaemon.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/ServerConnectDaemon.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/ServerConnectDaemon.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -32,6 +32,8 @@
 #include &quot;Interfaces/GameManager.hpp&quot;
 #include &quot;Interfaces/GameConfig.hpp&quot;
 
+#include &quot;Resources/ResourceManager.hpp&quot;
+
 #include &quot;PlayerNetMessage.hpp&quot;
 #include &quot;ConnectNetMessage.hpp&quot;
 #include &quot;SystemNetMessage.hpp&quot;
@@ -129,19 +131,14 @@
         = (const ClientConnectJoinRequest *) packet-&gt;getNetMessage();
     ClientConnectJoinRequestAck join_request_ack;
 
-    if(join_request_mesg-&gt;getProtocolVersion() == NETPANZER_PROTOCOL_VERSION)
+    join_request_ack.setResultCode(_join_request_result_success);
+
+    if ( join_request_mesg-&gt;getProtocolVersion() != NETPANZER_PROTOCOL_VERSION )
     {
-        join_request_ack.setResultCode(_join_request_result_success);
+        join_request_ack.setResultCode(_join_request_result_invalid_protocol);
     }
     else
     {
-        join_request_ack.setResultCode(_join_request_result_invalid_protocol);
-    }
-
-    join_request_ack.setServerProtocolVersion(NETPANZER_PROTOCOL_VERSION);
-
-    if( join_request_ack.getResultCode() == _join_request_result_success )
-    {
         if ( !inConnectQueue( packet-&gt;fromClient ) )
         {
             if (connect_queue.size() &gt; 25)
@@ -154,6 +151,8 @@
             }
         }
     }
+
+    join_request_ack.setServerProtocolVersion(NETPANZER_PROTOCOL_VERSION);
     join_request_ack.setSize(sizeof(ClientConnectJoinRequestAck));
     packet-&gt;fromClient-&gt;sendMessage(&amp;join_request_ack,
                          sizeof(ClientConnectJoinRequestAck));
@@ -283,7 +282,7 @@
 
             client_setting = (ConnectClientSettings *) message;
             player-&gt;setName( client_setting-&gt;player_name );
-            // XXX FLAG
+            ResourceManager::getFlag(connect_client-&gt;getPlayerIndex())-&gt;bufferToFrame(client_setting-&gt;player_flag, sizeof(ConnectClientSettings::player_flag));
             player-&gt;setStatus( _player_state_connecting );
 
             // ** send server game setting map, units, player, etc.
@@ -320,7 +319,7 @@
     {
         if ( message-&gt;message_id == _net_message_id_connect_client_game_setup_ack )
         {
-            PlayerConnectID player_connect_mesg(player-&gt;getNetworkPlayerState());
+            PlayerConnectID player_connect_mesg(connect_client-&gt;getPlayerIndex());
             player_connect_mesg.setSize(sizeof(PlayerConnectID));
             connect_client-&gt;sendMessage( &amp;player_connect_mesg,
                                          sizeof(PlayerConnectID));

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/ServerMessageRouter.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/ServerMessageRouter.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/ServerMessageRouter.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -86,9 +86,6 @@
             PlayerInterface::processNetMessage(message);
             break;
 
-        case _net_message_class_client_server:
-            break;
-
         default:
             LOGGER.warning(&quot;Packet contained unknown message class: %d&quot;,
                     message-&gt;message_class);

Modified: trunk/netpanzer/src/NetPanzer/Classes/PlayerState.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/PlayerState.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/PlayerState.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -102,31 +102,27 @@
 }
 
 PlayerState::PlayerState()
-    : team_id(NO_TEAM_ID), status(0), kills(0), kill_points(0), losses(0),
+    : status(0), kills(0), kill_points(0), losses(0),
       loss_points(0), total(0), objectives_held(0), stats_locked(false),
       colorIndex(0)
 {
-    team_name[0]=0;
+    // nothing
 }
 
 PlayerState::PlayerState(const PlayerState&amp; other)
-    :  id(other.id), name(other.name), team_id(other.team_id),
+    :  id(other.id), name(other.name),
       status(other.status), kills(other.kills), kill_points(other.kill_points),
       losses(other.losses), loss_points(other.loss_points),
       total(other.total), objectives_held(other.objectives_held),
       stats_locked(other.stats_locked), unit_config(other.unit_config)
 {
-    memcpy(team_name, other.team_name, MAX_TEAM_NAME_LEN+1);
+    // nothing
 }
 
 void PlayerState::operator= (const PlayerState&amp; other)
 {
     id = other.id;
     name = other.name;
-
-    team_id = other.team_id;
-    memcpy(team_name, other.team_name, MAX_TEAM_NAME_LEN+1);
-    
     status = other.status;
     kills = other.kills;
     kill_points = other.kill_points;
@@ -184,26 +180,6 @@
     } while (recheck);
 }
 
-void
-PlayerState::setTeamName(const char * team_name)
-{
-    int len = strlen(team_name);
-    if ( len &gt; 0 )
-    {
-        if ( len &gt; MAX_TEAM_NAME_LEN )
-        {
-            len = MAX_TEAM_NAME_LEN;
-        }
-
-        memcpy(this-&gt;team_name, team_name, len);
-        this-&gt;team_name[len] = 0;
-    }
-    else
-    {
-        this-&gt;team_name[0] = 0;
-    }
-}
-
 void PlayerState::resetStats()
 {
     kills  = 0;
@@ -328,11 +304,9 @@
 {
     NetworkPlayerState state;
 
+    state.id = id;
     memset(state.name, 0, sizeof(state.name));
     strncpy(state.name, name.c_str(), sizeof(state.name)-1);
-    state.id = id;
-    state.team_id = team_id;
-    memcpy(state.team_name, team_name, MAX_TEAM_NAME_LEN+1);
     state.status = status;
     state.kills = htol16(kills);
     state.kill_points = htol16(kill_points);
@@ -351,12 +325,7 @@
     memcpy(tmp, state-&gt;name, 64); 
     tmp[63] = 0;
     name = tmp;
-
-    memcpy(team_name, state-&gt;team_name, MAX_TEAM_NAME_LEN);
-    team_name[MAX_TEAM_NAME_LEN] = 0;
-    
     id = state-&gt;id;
-    team_id = state-&gt;team_id;
     status = state-&gt;status;
     kills = ltoh16(state-&gt;kills);
     kill_points = ltoh16(state-&gt;kill_points);

Modified: trunk/netpanzer/src/NetPanzer/Classes/PlayerState.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/PlayerState.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/PlayerState.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -47,8 +47,6 @@
     
     PlayerID id;
     char name[64];
-    TeamID team_id;
-    char team_name[MAX_TEAM_NAME_LEN+1];
     Uint8 status;
     Sint16 kills;
     Sint16 kill_points;
@@ -68,10 +66,6 @@
 private:
     PlayerID id;
     std::string name;
-
-    TeamID  team_id;
-    char team_name[MAX_TEAM_NAME_LEN+1];
-
     unsigned char status;
     short kills;
     short kill_points;
@@ -91,17 +85,11 @@
     void operator= (const PlayerState&amp; other);
 
     void setName(const std::string&amp; newname);
+    const std::string&amp; getName() const;
 
     PlayerID getID() const { return id; }
 
-    TeamID getTeamID() const               { return team_id; }
-    void   setTeamID(const TeamID team_id) { this-&gt;team_id = team_id; }
-
-    const char * getTeamName() const { return team_name; }
-    void setTeamName(const char * team_name);
-
     void resetStats();
-    const std::string&amp; getName() const;
     void lockStats();
     void unlockStats();
     short getKills() const;

Modified: trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -930,18 +930,19 @@
     if ( target_list.isSelected() == true ) {
         target_ptr = UnitInterface::getUnit( target_list.unit_list[0] );
 
-        Uint8 type;
-        if ( make_break ) {
-            type = _player_make_alliance;
-        } else {
-            type = _player_break_alliance;
-        }
+        //Uint8 type;
+        //if ( make_break ) {
+        //    type = _player_make_alliance;
+        //} else {
+        //    type = _player_break_alliance;
+        //}
 
-        PlayerAllianceRequest allie_request;
-        allie_request.set(PlayerInterface::getLocalPlayerIndex(),
-                target_ptr-&gt;player-&gt;getID(), type);
+        // XXX ALLY
+        //PlayerAllianceRequest allie_request;
+        //allie_request.set(PlayerInterface::getLocalPlayerIndex(),
+        //        target_ptr-&gt;player-&gt;getID(), type);
 
-        CLIENT-&gt;sendMessage( &amp;allie_request, sizeof(PlayerAllianceRequest));
+        //CLIENT-&gt;sendMessage( &amp;allie_request, sizeof(PlayerAllianceRequest));
     }
 }
 

Modified: trunk/netpanzer/src/NetPanzer/Core/CoreTypes.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Core/CoreTypes.hpp	2010-11-10 13:20:20 UTC (rev 1223)
+++ trunk/netpanzer/src/NetPanzer/Core/CoreTypes.hpp	2010-11-10 13:29:18 UTC (rev 1224)
@@ -43,13 +43,6 @@
 #define FLAG_WIDTH 20
 #define FLAG_HEIGHT 14
 
-typedef Uint8 TeamID;
-#define NO_TEAM_ID (0)
-#define MIN_TEAM_ID (1)
-#define MAX_TEAM_ID (0xfe)
-#define INVALID_TEAM_ID (0xff)
-#define MAX_TEAM_NAME_LEN (20)
-
 #ifndef __TEST_PLAYERID__
     typedef Uint8 PlayerID;
     #define MIN_PLAYER_ID (0)
@@ -87,5 +80,9 @@
 
 #endif
 
+#ifndef __GNUC__
+    #define __attribute__(x) /*nothing*/
+#endif
+
 #endif	/* _CORETYPES_HPP */
 


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000249.html">[Netpanzer-cvs] r1223 - trunk/netpanzer/src/NetPanzer/Interfaces
</A></li>
	<LI>Next message: <A HREF="000251.html">[Netpanzer-cvs] r1225 - in trunk/netpanzer/src/NetPanzer:	Classes/Network Interfaces Network Objectives Units
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#250">[ date ]</a>
              <a href="thread.html#250">[ thread ]</a>
              <a href="subject.html#250">[ subject ]</a>
              <a href="author.html#250">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/netpanzer-cvs">More information about the Netpanzer-cvs
mailing list</a><br>
</body></html>
