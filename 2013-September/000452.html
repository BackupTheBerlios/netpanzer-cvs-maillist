<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Netpanzer-cvs] r1430 - in trunk/netpanzer:	projects/netpanzer-svn-windows/nbproject	projects/netpanzer-svn-windows/nbproject/private src/Lib/2D	src/Lib/2D/Components src/Lib/ArrayUtil src/Lib/GameInput	src/NetPanzer/Interfaces src/NetPanzer/Network	src/NetPanzer/Scenes src/NetPanzer/Scenes/Common	src/NetPanzer/Scenes/MainMenu src/NetPanzer/Views/Components	src/NetPanzer/Views/MainMenu
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/netpanzer-cvs/2013-September/index.html" >
   <LINK REL="made" HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1430%20-%20in%20trunk/netpanzer%3A%0A%09projects/netpanzer-svn-windows/nbproject%0A%09projects/netpanzer-svn-windows/nbproject/private%20src/Lib/2D%0A%09src/Lib/2D/Components%20src/Lib/ArrayUtil%20src/Lib/GameInput%0A%09src/NetPanzer/Interfaces%20src/NetPanzer/Network%0A%09src/NetPanzer/Scenes%20src/NetPanzer/Scenes/Common%0A%09src/NetPanzer/Scenes/MainMenu%20src/NetPanzer/Views/Components%0A%09src/NetPanzer/Views/MainMenu&In-Reply-To=%3C20130906123325.B3D9655B0C%40scm.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000453.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Netpanzer-cvs] r1430 - in trunk/netpanzer:	projects/netpanzer-svn-windows/nbproject	projects/netpanzer-svn-windows/nbproject/private src/Lib/2D	src/Lib/2D/Components src/Lib/ArrayUtil src/Lib/GameInput	src/NetPanzer/Interfaces src/NetPanzer/Network	src/NetPanzer/Scenes src/NetPanzer/Scenes/Common	src/NetPanzer/Scenes/MainMenu src/NetPanzer/Views/Components	src/NetPanzer/Views/MainMenu</H1>
    <B>kromxp at scm.berlios.de</B> 
    <A HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1430%20-%20in%20trunk/netpanzer%3A%0A%09projects/netpanzer-svn-windows/nbproject%0A%09projects/netpanzer-svn-windows/nbproject/private%20src/Lib/2D%0A%09src/Lib/2D/Components%20src/Lib/ArrayUtil%20src/Lib/GameInput%0A%09src/NetPanzer/Interfaces%20src/NetPanzer/Network%0A%09src/NetPanzer/Scenes%20src/NetPanzer/Scenes/Common%0A%09src/NetPanzer/Scenes/MainMenu%20src/NetPanzer/Views/Components%0A%09src/NetPanzer/Views/MainMenu&In-Reply-To=%3C20130906123325.B3D9655B0C%40scm.berlios.de%3E"
       TITLE="[Netpanzer-cvs] r1430 - in trunk/netpanzer:	projects/netpanzer-svn-windows/nbproject	projects/netpanzer-svn-windows/nbproject/private src/Lib/2D	src/Lib/2D/Components src/Lib/ArrayUtil src/Lib/GameInput	src/NetPanzer/Interfaces src/NetPanzer/Network	src/NetPanzer/Scenes src/NetPanzer/Scenes/Common	src/NetPanzer/Scenes/MainMenu src/NetPanzer/Views/Components	src/NetPanzer/Views/MainMenu">kromxp at scm.berlios.de
       </A><BR>
    <I>Fri Sep  6 14:33:25 CEST 2013</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000453.html">[Netpanzer-cvs] r1432 - in trunk/netpanzer:	projects/netpanzer-svn-windows/nbproject	projects/netpanzer-svn-windows/nbproject/private src/Lib/2D	src/Lib/2D/Components src/Lib/Types	src/NetPanzer/Scenes/MainMenu src/NetPanzer/Views/Game	src/NetPanzer/Views/MainMenu/Multi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#452">[ date ]</a>
              <a href="thread.html#452">[ thread ]</a>
              <a href="subject.html#452">[ subject ]</a>
              <a href="author.html#452">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: kromxp
Date: 2013-09-06 14:33:24 +0200 (Fri, 06 Sep 2013)
New Revision: 1430

Added:
   trunk/netpanzer/src/Lib/2D/Components/ScrollableList.cpp
   trunk/netpanzer/src/Lib/2D/Components/ScrollableList.hpp
   trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/JoinGameLayer.cpp
   trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/JoinGameLayer.hpp
Removed:
   trunk/netpanzer/src/NetPanzer/Views/Components/ListBox.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/ListBox.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/ViewGlobals.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/MainMenuView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/MainMenuView.hpp
Modified:
   trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/configurations.xml
   trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/private/configurations.xml
   trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/private/private.xml
   trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/project.xml
   trunk/netpanzer/src/Lib/2D/ComponentLayer.cpp
   trunk/netpanzer/src/Lib/2D/ComponentLayer.hpp
   trunk/netpanzer/src/Lib/2D/Components/AreaComponent.hpp
   trunk/netpanzer/src/Lib/2D/Components/Button.cpp
   trunk/netpanzer/src/Lib/2D/Components/Button.hpp
   trunk/netpanzer/src/Lib/2D/Components/CheckBox.cpp
   trunk/netpanzer/src/Lib/2D/Components/CheckBox.hpp
   trunk/netpanzer/src/Lib/2D/Components/Choice.cpp
   trunk/netpanzer/src/Lib/2D/Components/Choice.hpp
   trunk/netpanzer/src/Lib/2D/Components/InputField.cpp
   trunk/netpanzer/src/Lib/2D/Components/InputField.hpp
   trunk/netpanzer/src/Lib/2D/Components/Label.cpp
   trunk/netpanzer/src/Lib/2D/Components/Label.hpp
   trunk/netpanzer/src/Lib/2D/Components/Separator.hpp
   trunk/netpanzer/src/Lib/2D/Components/Slider.cpp
   trunk/netpanzer/src/Lib/2D/Components/Slider.hpp
   trunk/netpanzer/src/Lib/2D/Layer.hpp
   trunk/netpanzer/src/Lib/2D/Scene.cpp
   trunk/netpanzer/src/Lib/2D/Scene.hpp
   trunk/netpanzer/src/Lib/2D/SceneManager.cpp
   trunk/netpanzer/src/Lib/2D/Surface.cpp
   trunk/netpanzer/src/Lib/2D/TextRenderer.cpp
   trunk/netpanzer/src/Lib/2D/TextRenderer.hpp
   trunk/netpanzer/src/Lib/2D/TextRenderingSystem.cpp
   trunk/netpanzer/src/Lib/2D/TextRenderingSystem.hpp
   trunk/netpanzer/src/Lib/ArrayUtil/PtrArray.hpp
   trunk/netpanzer/src/Lib/GameInput/InputConstants.hpp
   trunk/netpanzer/src/Lib/GameInput/InputManager.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/GameManager.cpp
   trunk/netpanzer/src/NetPanzer/Network/NewsGetter.cpp
   trunk/netpanzer/src/NetPanzer/Scenes/Common/ModalMessageLayer.cpp
   trunk/netpanzer/src/NetPanzer/Scenes/InitialScene.cpp
   trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/HostGameLayer.cpp
   trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/HostGameLayer.hpp
   trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/IntroLayer.cpp
   trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/IntroLayer.hpp
   trunk/netpanzer/src/NetPanzer/Scenes/MainMenuScene.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/BoxedLabel.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/Component.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/InfoBar.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/InfoBar.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/MiniMap.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/MiniMap.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/ViewGlobals.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/tHScrollBar.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/tHScrollBar.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/tStringListBox.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/tStringListBox.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/tVScrollBar.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/tVScrollBar.hpp
Log:
Added new scrolling view.

Modified: trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/configurations.xml
===================================================================
--- trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/configurations.xml	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/configurations.xml	2013-09-06 12:33:24 UTC (rev 1430)
@@ -1,7 +1,7 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 &lt;configurationDescriptor version=&quot;89&quot;&gt;
   &lt;logicalFolder name=&quot;root&quot; displayName=&quot;root&quot; projectFiles=&quot;true&quot; kind=&quot;ROOT&quot;&gt;
-    &lt;df root=&quot;../..&quot; name=&quot;netpanzer-svn&quot;&gt;
+    &lt;df root=&quot;../..&quot; name=&quot;0&quot;&gt;
       &lt;df name=&quot;src&quot;&gt;
         &lt;df name=&quot;Lib&quot;&gt;
           &lt;df name=&quot;2D&quot;&gt;
@@ -17,6 +17,8 @@
               &lt;in&gt;InputField.hpp&lt;/in&gt;
               &lt;in&gt;Label.cpp&lt;/in&gt;
               &lt;in&gt;Label.hpp&lt;/in&gt;
+              &lt;in&gt;ScrollableList.cpp&lt;/in&gt;
+              &lt;in&gt;ScrollableList.hpp&lt;/in&gt;
               &lt;in&gt;Separator.hpp&lt;/in&gt;
               &lt;in&gt;Slider.cpp&lt;/in&gt;
               &lt;in&gt;Slider.hpp&lt;/in&gt;
@@ -594,6 +596,8 @@
               &lt;in&gt;HostGameLayer.hpp&lt;/in&gt;
               &lt;in&gt;IntroLayer.cpp&lt;/in&gt;
               &lt;in&gt;IntroLayer.hpp&lt;/in&gt;
+              &lt;in&gt;JoinGameLayer.cpp&lt;/in&gt;
+              &lt;in&gt;JoinGameLayer.hpp&lt;/in&gt;
             &lt;/df&gt;
             &lt;in&gt;InitialScene.cpp&lt;/in&gt;
             &lt;in&gt;InitialScene.hpp&lt;/in&gt;
@@ -647,19 +651,15 @@
           &lt;df name=&quot;Views&quot;&gt;
             &lt;df name=&quot;Components&quot;&gt;
               &lt;in&gt;BoxedLabel.hpp&lt;/in&gt;
-              &lt;in&gt;Component.cpp&lt;/in&gt;
               &lt;in&gt;Component.hpp&lt;/in&gt;
               &lt;in&gt;InfoBar.cpp&lt;/in&gt;
               &lt;in&gt;InfoBar.hpp&lt;/in&gt;
               &lt;in&gt;InputEvent.hpp&lt;/in&gt;
-              &lt;in&gt;ListBox.cpp&lt;/in&gt;
-              &lt;in&gt;ListBox.hpp&lt;/in&gt;
               &lt;in&gt;MiniMap.cpp&lt;/in&gt;
               &lt;in&gt;MiniMap.hpp&lt;/in&gt;
               &lt;in&gt;MouseEvent.hpp&lt;/in&gt;
               &lt;in&gt;StateChangedCallback.hpp&lt;/in&gt;
               &lt;in&gt;View.hpp&lt;/in&gt;
-              &lt;in&gt;ViewGlobals.cpp&lt;/in&gt;
               &lt;in&gt;ViewGlobals.hpp&lt;/in&gt;
               &lt;in&gt;tChatBox.cpp&lt;/in&gt;
               &lt;in&gt;tChatBox.hpp&lt;/in&gt;
@@ -717,8 +717,6 @@
                 &lt;in&gt;ServerListView.cpp&lt;/in&gt;
                 &lt;in&gt;ServerListView.hpp&lt;/in&gt;
               &lt;/df&gt;
-              &lt;in&gt;MainMenuView.cpp&lt;/in&gt;
-              &lt;in&gt;MainMenuView.hpp&lt;/in&gt;
             &lt;/df&gt;
             &lt;in&gt;GameViewGlobals.cpp&lt;/in&gt;
             &lt;in&gt;GameViewGlobals.hpp&lt;/in&gt;
@@ -758,7 +756,6 @@
   &lt;confs&gt;
     &lt;conf name=&quot;Default&quot; type=&quot;0&quot;&gt;
       &lt;toolsSet&gt;
-        &lt;remote-sources-mode&gt;LOCAL_SOURCES&lt;/remote-sources-mode&gt;
         &lt;compilerSet&gt;default&lt;/compilerSet&gt;
         &lt;dependencyChecking&gt;false&lt;/dependencyChecking&gt;
         &lt;rebuildPropChanged&gt;false&lt;/rebuildPropChanged&gt;
@@ -906,6 +903,16 @@
             tool=&quot;3&quot;
             flavor2=&quot;0&quot;&gt;
       &lt;/item&gt;
+      &lt;item path=&quot;../../src/Lib/2D/Components/ScrollableList.cpp&quot;
+            ex=&quot;false&quot;
+            tool=&quot;1&quot;
+            flavor2=&quot;0&quot;&gt;
+      &lt;/item&gt;
+      &lt;item path=&quot;../../src/Lib/2D/Components/ScrollableList.hpp&quot;
+            ex=&quot;false&quot;
+            tool=&quot;3&quot;
+            flavor2=&quot;0&quot;&gt;
+      &lt;/item&gt;
       &lt;item path=&quot;../../src/Lib/2D/Components/Separator.hpp&quot;
             ex=&quot;false&quot;
             tool=&quot;3&quot;
@@ -5501,6 +5508,16 @@
             tool=&quot;3&quot;
             flavor2=&quot;0&quot;&gt;
       &lt;/item&gt;
+      &lt;item path=&quot;../../src/NetPanzer/Scenes/MainMenu/JoinGameLayer.cpp&quot;
+            ex=&quot;false&quot;
+            tool=&quot;1&quot;
+            flavor2=&quot;0&quot;&gt;
+      &lt;/item&gt;
+      &lt;item path=&quot;../../src/NetPanzer/Scenes/MainMenu/JoinGameLayer.hpp&quot;
+            ex=&quot;false&quot;
+            tool=&quot;3&quot;
+            flavor2=&quot;0&quot;&gt;
+      &lt;/item&gt;
       &lt;item path=&quot;../../src/NetPanzer/Scenes/MainMenuScene.cpp&quot;
             ex=&quot;false&quot;
             tool=&quot;1&quot;
@@ -6036,27 +6053,6 @@
             tool=&quot;3&quot;
             flavor2=&quot;0&quot;&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;../../src/NetPanzer/Views/Components/Component.cpp&quot;
-            ex=&quot;false&quot;
-            tool=&quot;1&quot;
-            flavor2=&quot;0&quot;&gt;
-        &lt;ccTool&gt;
-          &lt;incDir&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/Types&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/NetPanzer/Views/Components&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/lib/i386-linux-gnu/gcc/i686-linux-gnu/4.5.2/include&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/ext&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/bits&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/debug&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/bits&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/2D&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/Util&lt;/pElem&gt;
-            &lt;pElem&gt;/home/krom/program/netpanzer-svn&lt;/pElem&gt;
-          &lt;/incDir&gt;
-        &lt;/ccTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;../../src/NetPanzer/Views/Components/Component.hpp&quot;
             ex=&quot;false&quot;
             tool=&quot;3&quot;
@@ -6102,31 +6098,6 @@
             tool=&quot;3&quot;
             flavor2=&quot;0&quot;&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;../../src/NetPanzer/Views/Components/ListBox.cpp&quot;
-            ex=&quot;false&quot;
-            tool=&quot;1&quot;
-            flavor2=&quot;0&quot;&gt;
-        &lt;ccTool&gt;
-          &lt;incDir&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/Types&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/NetPanzer/Views/Components&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/lib/i386-linux-gnu/gcc/i686-linux-gnu/4.5.2/include&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/ext&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/bits&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/debug&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/bits&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/2D&lt;/pElem&gt;
-            &lt;pElem&gt;/home/krom/program/netpanzer-svn&lt;/pElem&gt;
-          &lt;/incDir&gt;
-        &lt;/ccTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;../../src/NetPanzer/Views/Components/ListBox.hpp&quot;
-            ex=&quot;false&quot;
-            tool=&quot;3&quot;
-            flavor2=&quot;0&quot;&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;../../src/NetPanzer/Views/Components/MiniMap.cpp&quot;
             ex=&quot;false&quot;
             tool=&quot;1&quot;
@@ -6178,19 +6149,6 @@
             tool=&quot;3&quot;
             flavor2=&quot;0&quot;&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;../../src/NetPanzer/Views/Components/ViewGlobals.cpp&quot;
-            ex=&quot;false&quot;
-            tool=&quot;1&quot;
-            flavor2=&quot;0&quot;&gt;
-        &lt;ccTool&gt;
-          &lt;incDir&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/NetPanzer/Views/Components&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/SDL&lt;/pElem&gt;
-            &lt;pElem&gt;/home/krom/program/netpanzer-svn&lt;/pElem&gt;
-          &lt;/incDir&gt;
-        &lt;/ccTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;../../src/NetPanzer/Views/Components/ViewGlobals.hpp&quot;
             ex=&quot;false&quot;
             tool=&quot;3&quot;
@@ -6886,40 +6844,6 @@
             tool=&quot;3&quot;
             flavor2=&quot;0&quot;&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;../../src/NetPanzer/Views/MainMenu/MainMenuView.cpp&quot;
-            ex=&quot;false&quot;
-            tool=&quot;1&quot;
-            flavor2=&quot;0&quot;&gt;
-        &lt;ccTool&gt;
-          &lt;incDir&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/Types&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/NetPanzer/Views/Components&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/NetPanzer/Views/MainMenu&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/ArrayUtil&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/bits&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/lib/i386-linux-gnu/gcc/i686-linux-gnu/4.5.2/include&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/ext&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/debug&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/bits&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/c++/4.5/i686-linux-gnu/bits&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/2D&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/Util&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/Network&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../usr/include/SDL&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/NetPanzer/Classes&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/NetPanzer/Classes/Network&lt;/pElem&gt;
-            &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/NetPanzer/Views&lt;/pElem&gt;
-            &lt;pElem&gt;/home/krom/program/netpanzer-svn&lt;/pElem&gt;
-          &lt;/incDir&gt;
-        &lt;/ccTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;../../src/NetPanzer/Views/MainMenu/MainMenuView.hpp&quot;
-            ex=&quot;false&quot;
-            tool=&quot;3&quot;
-            flavor2=&quot;0&quot;&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;../../src/NetPanzer/Views/MainMenu/Multi/MasterServer/ServerInfo.cpp&quot;
             ex=&quot;false&quot;
             tool=&quot;1&quot;
@@ -7259,7 +7183,7 @@
             tool=&quot;3&quot;
             flavor2=&quot;0&quot;&gt;
       &lt;/item&gt;
-      &lt;folder path=&quot;netpanzer-svn/src/Lib/GameInput&quot;&gt;
+      &lt;folder path=&quot;0/src/Lib/GameInput&quot;&gt;
         &lt;ccTool&gt;
           &lt;incDir&gt;
             &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/GameInput&lt;/pElem&gt;
@@ -7276,28 +7200,28 @@
           &lt;/incDir&gt;
         &lt;/ccTool&gt;
       &lt;/folder&gt;
-      &lt;folder path=&quot;netpanzer-svn/src/Lib/lua&quot;&gt;
+      &lt;folder path=&quot;0/src/Lib/lua&quot;&gt;
         &lt;cTool&gt;
           &lt;incDir&gt;
             &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/lua/src&lt;/pElem&gt;
           &lt;/incDir&gt;
         &lt;/cTool&gt;
       &lt;/folder&gt;
-      &lt;folder path=&quot;netpanzer-svn/src/Lib/physfs/archivers&quot;&gt;
+      &lt;folder path=&quot;0/src/Lib/physfs/archivers&quot;&gt;
         &lt;cTool&gt;
           &lt;incDir&gt;
             &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/physfs/archivers&lt;/pElem&gt;
           &lt;/incDir&gt;
         &lt;/cTool&gt;
       &lt;/folder&gt;
-      &lt;folder path=&quot;netpanzer-svn/src/NetPanzer/Objectives&quot;&gt;
+      &lt;folder path=&quot;0/src/NetPanzer/Objectives&quot;&gt;
         &lt;ccTool&gt;
           &lt;incDir&gt;
             &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/Util&lt;/pElem&gt;
           &lt;/incDir&gt;
         &lt;/ccTool&gt;
       &lt;/folder&gt;
-      &lt;folder path=&quot;netpanzer-svn/src/NetPanzer/Resources&quot;&gt;
+      &lt;folder path=&quot;0/src/NetPanzer/Resources&quot;&gt;
         &lt;ccTool&gt;
           &lt;incDir&gt;
             &lt;pElem&gt;../../../../usr/include/c++/4.5/bits&lt;/pElem&gt;
@@ -7321,14 +7245,14 @@
           &lt;/incDir&gt;
         &lt;/ccTool&gt;
       &lt;/folder&gt;
-      &lt;folder path=&quot;netpanzer-svn/src/NetPanzer/Scenes&quot;&gt;
+      &lt;folder path=&quot;0/src/NetPanzer/Scenes&quot;&gt;
         &lt;ccTool&gt;
           &lt;incDir&gt;
             &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/2D&lt;/pElem&gt;
           &lt;/incDir&gt;
         &lt;/ccTool&gt;
       &lt;/folder&gt;
-      &lt;folder path=&quot;netpanzer-svn/src/NetPanzer/Scenes/Common&quot;&gt;
+      &lt;folder path=&quot;0/src/NetPanzer/Scenes/Common&quot;&gt;
         &lt;ccTool&gt;
           &lt;incDir&gt;
             &lt;pElem&gt;../../../../home/krom/program/netpanzer-svn/src/Lib/Types&lt;/pElem&gt;

Modified: trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/private/configurations.xml
===================================================================
--- trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/private/configurations.xml	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/private/configurations.xml	2013-09-06 12:33:24 UTC (rev 1430)
@@ -1,7 +1,7 @@
 &lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
 &lt;configurationDescriptor version=&quot;89&quot;&gt;
   &lt;logicalFolder name=&quot;root&quot; displayName=&quot;root&quot; projectFiles=&quot;true&quot; kind=&quot;ROOT&quot;&gt;
-    &lt;df root=&quot;../..&quot; name=&quot;netpanzer-svn&quot;&gt;
+    &lt;df root=&quot;../..&quot; name=&quot;0&quot;&gt;
       &lt;df name=&quot;build&quot;&gt;
         &lt;df name=&quot;debug&quot;&gt;
           &lt;df name=&quot;libs&quot;&gt;
@@ -283,6 +283,8 @@
               &lt;in&gt;InputField.hpp&lt;/in&gt;
               &lt;in&gt;Label.cpp&lt;/in&gt;
               &lt;in&gt;Label.hpp&lt;/in&gt;
+              &lt;in&gt;ScrollableList.cpp&lt;/in&gt;
+              &lt;in&gt;ScrollableList.hpp&lt;/in&gt;
               &lt;in&gt;Separator.hpp&lt;/in&gt;
               &lt;in&gt;Slider.cpp&lt;/in&gt;
               &lt;in&gt;Slider.hpp&lt;/in&gt;
@@ -1459,6 +1461,8 @@
               &lt;in&gt;HostGameLayer.hpp&lt;/in&gt;
               &lt;in&gt;IntroLayer.cpp&lt;/in&gt;
               &lt;in&gt;IntroLayer.hpp&lt;/in&gt;
+              &lt;in&gt;JoinGameLayer.cpp&lt;/in&gt;
+              &lt;in&gt;JoinGameLayer.hpp&lt;/in&gt;
             &lt;/df&gt;
             &lt;in&gt;InitialScene.cpp&lt;/in&gt;
             &lt;in&gt;InitialScene.hpp&lt;/in&gt;
@@ -1512,19 +1516,15 @@
           &lt;df name=&quot;Views&quot;&gt;
             &lt;df name=&quot;Components&quot;&gt;
               &lt;in&gt;BoxedLabel.hpp&lt;/in&gt;
-              &lt;in&gt;Component.cpp&lt;/in&gt;
               &lt;in&gt;Component.hpp&lt;/in&gt;
               &lt;in&gt;InfoBar.cpp&lt;/in&gt;
               &lt;in&gt;InfoBar.hpp&lt;/in&gt;
               &lt;in&gt;InputEvent.hpp&lt;/in&gt;
-              &lt;in&gt;ListBox.cpp&lt;/in&gt;
-              &lt;in&gt;ListBox.hpp&lt;/in&gt;
               &lt;in&gt;MiniMap.cpp&lt;/in&gt;
               &lt;in&gt;MiniMap.hpp&lt;/in&gt;
               &lt;in&gt;MouseEvent.hpp&lt;/in&gt;
               &lt;in&gt;StateChangedCallback.hpp&lt;/in&gt;
               &lt;in&gt;View.hpp&lt;/in&gt;
-              &lt;in&gt;ViewGlobals.cpp&lt;/in&gt;
               &lt;in&gt;ViewGlobals.hpp&lt;/in&gt;
               &lt;in&gt;tChatBox.cpp&lt;/in&gt;
               &lt;in&gt;tChatBox.hpp&lt;/in&gt;
@@ -1582,8 +1582,6 @@
                 &lt;in&gt;ServerListView.cpp&lt;/in&gt;
                 &lt;in&gt;ServerListView.hpp&lt;/in&gt;
               &lt;/df&gt;
-              &lt;in&gt;MainMenuView.cpp&lt;/in&gt;
-              &lt;in&gt;MainMenuView.hpp&lt;/in&gt;
             &lt;/df&gt;
             &lt;in&gt;GameViewGlobals.cpp&lt;/in&gt;
             &lt;in&gt;GameViewGlobals.hpp&lt;/in&gt;

Modified: trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/private/private.xml
===================================================================
--- trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/private/private.xml	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/private/private.xml	2013-09-06 12:33:24 UTC (rev 1430)
@@ -8,6 +8,12 @@
         &lt;activeConfIndexElem&gt;0&lt;/activeConfIndexElem&gt;
     &lt;/data&gt;
     &lt;editor-bookmarks xmlns=&quot;<A HREF="http://www.netbeans.org/ns/editor-bookmarks/2">http://www.netbeans.org/ns/editor-bookmarks/2</A>&quot; lastBookmarkId=&quot;0&quot;/&gt;
+    &lt;open-files xmlns=&quot;<A HREF="http://www.netbeans.org/ns/projectui-open-files/2">http://www.netbeans.org/ns/projectui-open-files/2</A>&quot;&gt;
+        &lt;group&gt;
+            &lt;file&gt;file:/C:/prog/netpanzer-svn/src/Lib/2D/Components/ScrollableList.hpp&lt;/file&gt;
+            &lt;file&gt;file:/C:/prog/netpanzer-svn/src/Lib/2D/Components/ScrollableList.cpp&lt;/file&gt;
+        &lt;/group&gt;
+    &lt;/open-files&gt;
     &lt;preferences xmlns=&quot;<A HREF="http://www.netbeans.org/ns/auxiliary-configuration-preferences/1">http://www.netbeans.org/ns/auxiliary-configuration-preferences/1</A>&quot;&gt;
         &lt;module name=&quot;org-netbeans-modules-cnd-discovery&quot;&gt;
             &lt;property name=&quot;rootFolder&quot; value=&quot;C:\prog\netpanzer-svn&quot;/&gt;

Modified: trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/project.xml
===================================================================
--- trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/project.xml	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/projects/netpanzer-svn-windows/nbproject/project.xml	2013-09-06 12:33:24 UTC (rev 1430)
@@ -18,6 +18,9 @@
                     &lt;type&gt;0&lt;/type&gt;
                 &lt;/confElem&gt;
             &lt;/confList&gt;
+            &lt;formatting&gt;
+                &lt;project-formatting-style&gt;false&lt;/project-formatting-style&gt;
+            &lt;/formatting&gt;
         &lt;/data&gt;
     &lt;/configuration&gt;
 &lt;/project&gt;

Modified: trunk/netpanzer/src/Lib/2D/ComponentLayer.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/ComponentLayer.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/ComponentLayer.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -47,16 +47,8 @@
     visible_components.push_back(c);
 }
 
-void ComponentLayer::draw()
+void ComponentLayer::draw() const
 {
-    if ( (prev_screen_x != screen-&gt;getWidth())
-       ||(prev_screen_y != screen-&gt;getHeight()) )
-    {
-        recalculateComponentLocations();
-        prev_screen_x = screen-&gt;getWidth();
-        prev_screen_y = screen-&gt;getHeight();
-    }
-
     for ( size_t n = 0; n &lt; visible_components.size(); n++ )
     {
         if ( visible_components[n] != keyfocus_component )
@@ -76,6 +68,33 @@
     }
 }
 
+void ComponentLayer::logic()
+{
+    if ( (prev_screen_x != screen-&gt;getWidth())
+       ||(prev_screen_y != screen-&gt;getHeight()) )
+    {
+        recalculateComponentLocations();
+        prev_screen_x = screen-&gt;getWidth();
+        prev_screen_y = screen-&gt;getHeight();
+    }
+    
+    int i = visible_components.size();
+    if ( i ) do
+    {
+        i -= 1;
+        visible_components[i]-&gt;logic();
+    } while ( i );
+    
+    if ( sublayer )
+        sublayer-&gt;logic();
+
+    if ( ! component_events.empty() )
+    {
+        handleComponentEvents();
+        component_events.reset();
+    }
+}
+
 Component * ComponentLayer::reverseSearchComponentAt( const int x, const int y)
 {
     int i = visible_components.size();
@@ -154,6 +173,12 @@
                     keyfocus_component = 0;
                 }
             }
+            
+            if ( hover_component &amp;&amp; input-&gt;hasAction(GameInput::Action_PointerMove) )
+            {
+                hover_component-&gt;onPointerMove(input-&gt;getAxis(GameInput::Axis_RelativePointerX),
+                                               input-&gt;getAxis(GameInput::Axis_RelativePointerY));
+            }
         }
         else // there is a component that is &quot;Selecting&quot; (mouse-pressing)
         {
@@ -174,6 +199,12 @@
                 }
             }
             
+            if ( input-&gt;hasAction(GameInput::Action_PointerMove) )
+            {
+                select_component-&gt;onPointerMove(input-&gt;getAxis(GameInput::Axis_RelativePointerX),
+                                                input-&gt;getAxis(GameInput::Axis_RelativePointerY));
+            }
+            
             if ( input-&gt;hasAction(GameInput::Action_StopSelect) )
             {
                 select_component-&gt;onSelectStop();
@@ -187,12 +218,6 @@
         keyfocus_component-&gt;handleInput(input);
     }
 
-    if ( ! component_events.empty() )
-    {
-        handleComponentEvents();
-        component_events.reset();
-    }
-
     return handled_by_sublayer || modal || hover_component || select_component;
 }
 

Modified: trunk/netpanzer/src/Lib/2D/ComponentLayer.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/ComponentLayer.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/ComponentLayer.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -47,7 +47,8 @@
     void setModal(bool modal) { this-&gt;modal = modal; }
     
 private:
-    void draw();
+    void draw() const;
+    virtual void logic();
     Component * reverseSearchComponentAt( const int x, const int y);
 
     bool handleInput( GameInput::InputState * input );

Modified: trunk/netpanzer/src/Lib/2D/Components/AreaComponent.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/AreaComponent.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/AreaComponent.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -17,7 +17,7 @@
     AreaComponent(unsigned width, unsigned height) : Component() { setSize(width, height); }
     
 private:
-    void draw(Surface&amp; dest) {}
+    void draw(Surface&amp; dest) const {}
     void render() {}
 };
 

Modified: trunk/netpanzer/src/Lib/2D/Components/Button.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/Button.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/Button.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -23,6 +23,7 @@
 
 #include &quot;Actions/Action.hpp&quot;
 #include &quot;2D/ComponentEvents.hpp&quot;
+#include &quot;Util/NTimer.hpp&quot;
 
 Button::Button()
 {
@@ -35,6 +36,10 @@
     extraBorder = 0;
     clickEvent = 0;
     selecting = false;
+    
+    repeat_timer.setTimeOut(0);
+    repeat_initial = 0;
+    repeat_other = 0;
 }
 
 Button::~Button()
@@ -167,18 +172,28 @@
     painted_bstate = BMAX_STATE;
 }
 
-void Button::draw(Surface&amp; dest)
+void Button::draw(Surface&amp; dest) const
 {
+    surface.bltTrans(dest, rect.getLocationX(), rect.getLocationY());
+}
+
+void Button::logic()
+{
     if ( painted_bstate != bstate )
     {
         render();
         painted_bstate = bstate;
     }
     
-    surface.bltTrans(dest, rect.getLocationX(), rect.getLocationY());
+    if ( repeat_other &amp;&amp; selecting &amp;&amp; (bstate == BPRESSED) &amp;&amp; repeat_timer.isTimeOut())
+    {
+        events-&gt;push(clickEvent);
+        repeat_timer.setTimeOut(repeat_other);
+        repeat_timer.reset();
+    }
+    
 }
 
-
 // render
 void
 Button::render()
@@ -219,6 +234,12 @@
     {
         bstate = BPRESSED;
         selecting = true;
+        if ( repeat_other )
+        {
+            events-&gt;push(clickEvent);
+            repeat_timer.setTimeOut(repeat_initial);
+            repeat_timer.reset();
+        }
     }
 }
 
@@ -226,7 +247,10 @@
 {
     if ( bstate == BPRESSED )
     {
-        events-&gt;push(clickEvent);
+        if ( ! repeat_other )
+        {
+            events-&gt;push(clickEvent);
+        }
         bstate = BOVER;
     }
     
@@ -237,7 +261,20 @@
 {
     if ( bstate != BDISABLED )
     {
-        bstate = selecting ? BPRESSED : BOVER;
+        if ( selecting )
+        {
+            bstate = BPRESSED;
+            if ( repeat_other )
+            {
+                events-&gt;push(clickEvent);
+                repeat_timer.setTimeOut(repeat_initial);
+                repeat_timer.reset();
+            }   
+        }
+        else
+        {
+            bstate = BOVER;
+        }
     }
 }
 

Modified: trunk/netpanzer/src/Lib/2D/Components/Button.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/Button.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/Button.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -27,6 +27,7 @@
 #include &quot;ArrayUtil/PtrArray.hpp&quot;
 #include &quot;Core/CoreTypes.hpp&quot;
 #include &quot;Types/iXY.hpp&quot;
+#include &quot;Util/NTimer.hpp&quot;
 
 //--------------------------------------------------------------------------
 class Button : public Component
@@ -48,6 +49,10 @@
     bool selecting;
     Surface surface;
     
+    NTimer repeat_timer;
+    int repeat_initial;
+    int repeat_other;
+    
 protected:
     void onSelectStart();
     void onSelectStop();
@@ -78,9 +83,12 @@
 
     virtual ~Button();
 
+    void setAutoRepeat(const int initial, const int other) { repeat_initial = initial; repeat_other = other; }
+    
     void setClickEvent(int event) { clickEvent = event; }
     
-    virtual void draw(Surface&amp; dest);
+    virtual void draw(Surface&amp; dest) const;
+    virtual void logic();
 
     static Button * createTextButton(   const NPString&amp; label,
                                         const iXY&amp; loc,

Modified: trunk/netpanzer/src/Lib/2D/Components/CheckBox.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/CheckBox.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/CheckBox.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -38,7 +38,7 @@
     setSize( label_render.getWidth() + TextRenderingSystem::line_height(), TextRenderingSystem::line_height());
 }
 
-void CheckBox::draw(Surface&amp; s)
+void CheckBox::draw(Surface&amp; s) const
 {
     iRect r(rect.getLocation(), iXY(TextRenderingSystem::line_height(), TextRenderingSystem::line_height()));
     r.grow(-4, -4);

Modified: trunk/netpanzer/src/Lib/2D/Components/CheckBox.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/CheckBox.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/CheckBox.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -54,10 +54,8 @@
 
     PIX textColor;
     
-    void render() {}
+    void draw(Surface&amp; s) const;
     
-    void draw(Surface&amp; s);
-    
 };
 
 #endif // end __CheckBox_hpp__

Modified: trunk/netpanzer/src/Lib/2D/Components/Choice.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/Choice.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/Choice.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -73,35 +73,15 @@
 
 // draw
 //---------------------------------------------------------------------------
-void Choice::draw(Surface &amp;dest)
+void Choice::draw(Surface &amp;dest) const
 {
-    iRect   r;
-    getBounds(r);
+    iRect   r(rect);
 
-    if ( selecting &amp;&amp; (rect.getLocationY() == real_y) )
-    {
-        // Make sure the choice fits on the screen.
-        if ( static_cast&lt;unsigned&gt;(rect.getEndY()) &gt;= dest.getHeight() )
-        {
-            // Check to see if it will fit above the base position.
-            if ( (rect.getLocationY() + TextRenderingSystem::line_height()) - rect.getHeight() &gt; 0)
-            {
-                // Since it fits above, put it there.
-                rect.translate(0,-(rect.getHeight() - TextRenderingSystem::line_height()));
-            }
-            else
-            {
-                // Since it does not fit above, just put it below and keep it on the screen.
-                rect.translate(0,-(rect.getEndY() + 1 - dest.getHeight()));
-            }
-        }
-    }
-
     dest.RoundRect(iRect(r.getLocationX(), r.getLocationY(), r.getWidth() - 2, r.getHeight() - 2), 4, Color::gray96);
     dest.RoundRect(iRect(r.getLocationX()+1, r.getLocationY()+1, r.getWidth() - 1, r.getHeight() - 1), 4, componentActiveTextColor);
     dest.FillRoundRect(iRect(r.getLocationX()+1, r.getLocationY()+1, r.getWidth() - 2, r.getHeight() - 2), 4, componentBodyColor);
 
-    TextRenderer *t;
+    const TextRenderer *t;
 
     int width = r.getWidth();
 
@@ -140,6 +120,29 @@
     //isOpen = 0;
 } // end Choice::draw
 
+void Choice::logic()
+{
+    // @todo fix/redo the choice fit test
+//    if ( selecting &amp;&amp; (rect.getLocationY() == real_y) )
+//    {
+//        // Make sure the choice fits on the screen.
+//        if ( static_cast&lt;unsigned&gt;(rect.getEndY()) &gt;= dest.getHeight() )
+//        {
+//            // Check to see if it will fit above the base position.
+//            if ( (rect.getLocationY() + TextRenderingSystem::line_height()) - rect.getHeight() &gt; 0)
+//            {
+//                // Since it fits above, put it there.
+//                rect.translate(0,-(rect.getHeight() - TextRenderingSystem::line_height()));
+//            }
+//            else
+//            {
+//                // Since it does not fit above, just put it below and keep it on the screen.
+//                rect.translate(0,-(rect.getEndY() + 1 - dest.getHeight()));
+//            }
+//        }
+//    }
+}
+
 // setMinWidth
 //---------------------------------------------------------------------------
 void Choice::setMinWidth(int minWidth)

Modified: trunk/netpanzer/src/Lib/2D/Components/Choice.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/Choice.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/Choice.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -77,7 +77,8 @@
     void   select(size_t index);
     void   setMinWidth(int minWidth);
 
-    virtual void draw(Surface &amp;dest);
+    virtual void draw(Surface &amp;dest) const;
+    void logic();
     virtual void render()
     {
     }

Modified: trunk/netpanzer/src/Lib/2D/Components/InputField.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/InputField.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/InputField.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -86,22 +86,13 @@
     last_event = 0;
 }
 
-void InputField::draw(Surface &amp;dest)
+void InputField::draw(Surface &amp;dest) const
 {
-    iRect r;
-    getBounds(r);
+    iRect r(rect);
 
     dest.FillRoundRect(r, 3, Color::black);
 
-    if ( has_focus )
-    {
-        checkRepeatKey();
-        dest.RoundRect(r, 3, Color::gray64);
-    }
-    else
-    {
-        dest.RoundRect(r, 3, Color::white);
-    }
+    dest.RoundRect(r, 3, has_focus ? Color::gray64 : Color::white);
     
     r.grow(-2,-2);
 
@@ -126,6 +117,14 @@
     }
 }
 
+void InputField::logic()
+{
+    if ( has_focus )
+    {
+        checkRepeatKey();
+    }
+}
+
 void InputField::handleInput(GameInput::InputState* input)
 {
     uint32_t te;

Modified: trunk/netpanzer/src/Lib/2D/Components/InputField.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/InputField.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/InputField.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -65,7 +65,8 @@
     void checkRepeatKey();
     void fixStringDisplayStart();
 
-    virtual void draw(Surface &amp;dest);
+    void draw(Surface &amp;dest) const;
+    void logic();
     void render() {}
     
     void onFocusStart();

Modified: trunk/netpanzer/src/Lib/2D/Components/Label.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/Label.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/Label.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -19,7 +19,7 @@
 #include &quot;Label.hpp&quot;
 
 void
-Label::draw(Surface &amp;dest)
+Label::draw(Surface &amp;dest) const
 {
     text_render.draw(dest, rect.getLocationX(), rect.getLocationY(), text_color);
 }

Modified: trunk/netpanzer/src/Lib/2D/Components/Label.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/Label.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/Label.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -46,13 +46,8 @@
     size_t getTextWidth() const { return text_render.getWidth(); }
     size_t getTextHeight() const { return text_render.getHeight(); }
     
-    void draw(Surface &amp;dest);
+    void draw(Surface &amp;dest) const;
     
-    virtual void render()
-    {
-        // nothing
-    }
-    
 private:
     TextRenderer text_render;
     PIX text_color;

Added: trunk/netpanzer/src/Lib/2D/Components/ScrollableList.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/ScrollableList.cpp	                        (rev 0)
+++ trunk/netpanzer/src/Lib/2D/Components/ScrollableList.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -0,0 +1,601 @@
+/*
+Copyright (C) 2013 Netpanzer Team. (www.netpanzer.org), Aaron Perez
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2 of the License, or
+(at your option) any later version.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA 
+ * 
+ * Created on August 29, 2013, 10:18 PM
+ */
+
+#include &quot;ScrollableList.hpp&quot;
+
+#include &quot;Button.hpp&quot;
+
+#include &quot;ArrayUtil/PtrArray.hpp&quot;
+#include &quot;Util/Log.hpp&quot;
+
+#include &quot;GameInput/InputManager.hpp&quot;
+
+#include &quot;2D/TextRenderingSystem.hpp&quot;
+
+#include &lt;algorithm&gt;
+#include &lt;math.h&gt;
+
+#define BSIZE (15)
+#define REPEAT_INITIAL (500)
+#define REPEAT_TIME (50)
+
+struct Events
+{
+    enum
+    {
+        ScrollChange = 1,
+        GoUp,
+        GoDown
+    };
+};
+
+class ScrollSlider : public Component
+{
+public:
+    ScrollSlider()
+    {
+        overScrollable = false;
+        mouseScrolling = false;
+        value = 0;
+        visibleHeight = 0;
+        totalHeight = 0;
+        stepSize = 15;
+        virtualTotalHeight = 0;
+        movableAreaHeight = 0;
+        changeEvent = 0;
+        movableClickPos = 0;
+        
+        repeat_timer.setTimeOut(0);
+        repeat_scroll = 0;
+        repeat_initial = 0;
+        repeat_other = 0;
+    }
+    
+    ~ScrollSlider() {}
+    
+    void draw(Surface&amp; s) const
+    {
+        s.fillRect(rect, Color::darkGray);
+        if ( ! movableBar.isEmpty() )
+        {
+            s.fillRect(movableBar, overScrollable ? Color::gray128 : Color::gray96);
+        }
+    }
+    
+    int getValue() const { return value; }
+    
+    void setValue(const int v)
+    {
+        const int newValue = std::max(0,std::min(virtualTotalHeight, v));
+        if ( newValue != value )
+        {
+            value = newValue;
+            if ( changeEvent )
+            {
+                events-&gt;push(changeEvent);
+            }
+        }
+        
+        if ( movableBar.getHeight() )
+        {
+            const int starth = (movableAreaHeight * value) / virtualTotalHeight;
+            movableBar.setLocationY( rect.getLocationY() + std::min( movableAreaHeight-1, starth) );
+        }
+    }
+    
+    void updateValue(const int v)
+    {
+        setValue( std::max(0, value + v) );
+    }
+    
+    void setTotalHeight(const int h)
+    {
+        if ( h != totalHeight )
+        {
+            totalHeight = h;
+            virtualTotalHeight = std::max(0, h - visibleHeight);
+            updateMovableBarSize();
+            setValue(value);
+        }
+    }
+    
+    void setLocation(const int x, const int y)
+    {
+        Component::setLocation(x, y);
+        movableBar.setLocationX(x);
+        setValue(value);
+    }
+    
+    void setSize(const int x, const int y)
+    {
+        Component::setSize(x, y);
+        movableBar.setWidth(x);
+        updateMovableBarSize();
+        setValue(value);
+    }
+
+    void setVisibleHeight( const int h )
+    {
+        if ( h != visibleHeight )
+        {
+            visibleHeight = h;
+            virtualTotalHeight = std::max(0, totalHeight - h);
+            updateMovableBarSize();
+            setValue(value);
+        }
+    }
+    
+    void setStepSize(const int s)
+    {
+        stepSize = s;
+    }
+    
+    void pageUp()
+    {
+        updateValue(-visibleHeight);
+    }
+    
+    void pageDown()
+    {
+        updateValue(visibleHeight);
+    }
+    
+    void stepUp()
+    {
+        updateValue(-stepSize);
+    }
+    
+    void stepDown()
+    {
+        updateValue(stepSize);
+    }
+    
+    void onHoverStart()
+    {
+        const int mx = GameInput::InputManager::getMouseX();
+        const int my = GameInput::InputManager::getMouseY();
+        overScrollable = movableBar.contains(mx, my);
+    }
+    
+    void onHoverStop()
+    {
+        overScrollable = false;
+    }
+    
+    void onSelectStart()
+    {
+        const int my = GameInput::InputManager::getMouseY();
+        if ( ! overScrollable )
+        {
+            if ( my &lt; movableBar.getLocationY() )
+            {
+                pageUp();
+                repeat_scroll = -1;
+                repeat_timer.setTimeOut(repeat_initial);
+                repeat_timer.reset();
+            }
+            else if ( my &gt;= movableBar.getEndY() )
+            {
+                pageDown();
+                repeat_scroll = 1;
+                repeat_timer.setTimeOut(repeat_initial);
+                repeat_timer.reset();
+            }
+        }
+        else
+        {
+            mouseScrolling = true;
+            movableClickPos = movableBar.getLocationY() - my;
+        }
+    }
+    
+    void onSelectStop()
+    {
+        repeat_scroll = 0;
+        mouseScrolling = false;
+    }
+
+    void onPointerMove(int rel_x, int rel_y)
+    {
+        const int mx = GameInput::InputManager::getMouseX();
+        const int my = GameInput::InputManager::getMouseY();
+        overScrollable = mouseScrolling || movableBar.contains(mx, my);
+        
+        if ( mouseScrolling )
+        {
+            int between = movableAreaHeight / virtualTotalHeight;
+            int new_value = (((my-getLocationY()+movableClickPos) + (between/2)) * virtualTotalHeight ) / movableAreaHeight;
+            
+            setValue(new_value);
+        }
+    }
+    
+    void updateMovableBarSize()
+    {
+        if ( totalHeight &lt;= visibleHeight )
+        {
+            movableBar.setHeight(0);
+        }
+        else
+        {
+            // min 24;
+            // totalHeight here IS &gt; 0
+            const int h = (getHeight() * visibleHeight) / totalHeight;
+            movableBar.setHeight(std::max(24, h));
+            movableAreaHeight = getHeight() - movableBar.getHeight();
+        }
+    }
+    
+    void setChangeEvent(int e)
+    {
+        changeEvent = e;
+    }
+    
+    void logic()
+    {
+        if ( repeat_scroll &amp;&amp; repeat_timer.isTimeOut() )
+        {
+            if ( repeat_scroll &gt; 0 )
+            {
+                pageDown();
+            }
+            else
+            {
+                pageUp();
+            }
+            
+            repeat_timer.setTimeOut(repeat_other);
+            repeat_timer.reset();
+
+            if ( (value == 0) || (value == virtualTotalHeight) )
+            {
+                repeat_scroll = 0;
+            }
+        }
+
+    }
+    
+    void setAutoRepeat(const int initial, const int other)
+    {
+        repeat_initial = initial;
+        repeat_other = other;
+    }
+    
+private:
+    iRect movableBar;
+    bool overScrollable;
+    bool mouseScrolling;
+    int movableClickPos;
+    
+    int changeEvent;
+    int value;
+    int totalHeight;
+    int visibleHeight;
+    int virtualTotalHeight;
+    int movableAreaHeight;
+    int stepSize;
+
+    NTimer repeat_timer;
+    int repeat_scroll;
+    int repeat_initial;
+    int repeat_other;
+    
+    // scrollbar height is component height
+
+};
+
+ScrollableList::ScrollableList(const int width, const int height)
+{
+    firstVisibleLineIterator = lines.end();
+    totalLinesHeight = 0;
+    totalDisplayStart = 0;
+    rendedTotalDisplayStart = 0; // or -1?
+    maxLines = 1000;
+    visibleWidth = 0;
+    drawRenderOffset = 0;
+    dirty = false;
+
+    hoveringComponent = 0;
+    selectingComponent = 0;
+    
+    Surface pics;
+    pics.loadBMP(&quot;pics/buttons/scrollbutton.bmp&quot;);
+    
+    PtrArray&lt;Surface&gt; piclist(3);
+
+    piclist.fillNew();
+    piclist[0]-&gt;grab(pics, iRect(BSIZE*3, 0, BSIZE, BSIZE));
+    piclist[1]-&gt;grab(pics, iRect(BSIZE*2, 0, BSIZE, BSIZE));
+    piclist[2]-&gt;grab(pics, iRect(BSIZE*2, 0, BSIZE, BSIZE));
+    
+    upButton = new Button();
+    upButton-&gt;setImage(piclist);
+    upButton-&gt;setStateOffset(Button::BPRESSED, 1, 1);
+    upButton-&gt;setComponentEvents(&amp;myEvents);
+    upButton-&gt;setClickEvent(Events::GoUp);
+    upButton-&gt;setAutoRepeat(REPEAT_INITIAL, REPEAT_TIME);
+
+    piclist.fillNew();
+    piclist[0]-&gt;grab(pics, iRect(BSIZE, 0, BSIZE, BSIZE));
+    piclist[1]-&gt;grab(pics, iRect(    0, 0, BSIZE, BSIZE));
+    piclist[2]-&gt;grab(pics, iRect(    0, 0, BSIZE, BSIZE));
+    
+    downButton = new Button();
+    downButton-&gt;setImage(piclist);
+    downButton-&gt;setStateOffset(Button::BPRESSED, 1, 1);
+    downButton-&gt;setComponentEvents(&amp;myEvents);
+    downButton-&gt;setClickEvent(Events::GoDown);
+    downButton-&gt;setAutoRepeat(REPEAT_INITIAL, REPEAT_TIME);
+    
+    scrollSlider = new ScrollSlider();
+
+    setSize(width, height);
+    
+    scrollSlider-&gt;setStepSize(TextRenderingSystem::line_height());
+    scrollSlider-&gt;setComponentEvents(&amp;myEvents);
+    scrollSlider-&gt;setChangeEvent(Events::ScrollChange);
+    scrollSlider-&gt;setAutoRepeat(REPEAT_INITIAL, REPEAT_TIME);
+}
+
+ScrollableList::~ScrollableList()
+{
+    delete upButton;
+    delete downButton;
+    delete scrollSlider;
+}
+
+void ScrollableList::setMaxLines(const unsigned n)
+{
+    bool iter_removed = false;
+    maxLines = n;
+    while ( lines.size() &gt; maxLines )
+    {
+        totalLinesHeight -= lines.front().height;
+        if ( firstVisibleLineIterator == lines.begin() )
+        {
+            iter_removed = true;
+        }
+        lines.pop_front();
+    }
+    
+    if ( iter_removed )
+    {
+        firstVisibleLineIterator = lines.begin();
+    }
+    
+    scrollSlider-&gt;setTotalHeight(totalLinesHeight);
+}
+
+void ScrollableList::addLine(const UString&amp; str, const int firstLineOffset, const uint8_t color)
+{
+    bool iter_removed = false;
+    if ( lines.size() &gt;= maxLines )
+    {
+        totalLinesHeight -= lines.front().height;
+        iter_removed = firstVisibleLineIterator == lines.begin();
+        lines.pop_front();
+    }
+    
+    const int vh = TextRenderingSystem::getMultilineStringHeight(str, visibleWidth);
+    lines.push_back(ListElement(str, vh, firstLineOffset, color));
+    totalLinesHeight += vh;
+    
+    if ( iter_removed || (firstVisibleLineIterator == lines.end()) )
+    {
+        firstVisibleLineIterator = lines.begin();
+        dirty = true;
+    }
+    
+    scrollSlider-&gt;setTotalHeight(totalLinesHeight);
+}
+
+void ScrollableList::setLocation(const int x, const int y)
+{
+    Component::setLocation(x, y);
+    const int x_start = rect.getEndX() - BSIZE;
+    const int y_bottom = rect.getEndY() - BSIZE;
+    upButton-&gt;setLocation(x_start, y);
+    downButton-&gt;setLocation(x_start,y_bottom);
+    scrollSlider-&gt;setLocation(x_start, y+BSIZE);
+}
+
+void ScrollableList::setSize(const int x, const int y)
+{
+    Component::setSize(x, y);
+    scrollSlider-&gt;setSize(BSIZE, y - BSIZE*2);
+    scrollSlider-&gt;setVisibleHeight(y);
+    visibleWidth = x - BSIZE;
+}
+
+void ScrollableList::draw(Surface&amp; s) const
+{
+    scrollSlider-&gt;draw(s);
+    upButton-&gt;draw(s);
+    downButton-&gt;draw(s);
+    
+    if ( ! visibleRenders.empty() )
+    {
+        std::list&lt;ListElement&gt;::iterator i = firstVisibleLineIterator;
+        iRect r(0, drawRenderOffset, visibleWidth, visibleRenders[0]-&gt;getHeight() - drawRenderOffset);
+        int x = getLocationX();
+        int y = getLocationY();
+        
+        visibleRenders[0]-&gt;drawPart(s, x, y, r, i-&gt;color);
+        
+        i++;
+        y += visibleRenders[0]-&gt;getHeight() - drawRenderOffset;
+        r.setLocationY(0);
+        
+        for ( unsigned n = 1; n &lt; visibleRenders.size(); n++ )
+        {
+            r.setHeight(rect.getEndY() - y);
+            visibleRenders[n]-&gt;drawPart(s, x, y, r, i-&gt;color);
+            y += visibleRenders[n]-&gt;getHeight();
+            i++;
+        }
+    }
+}
+
+void ScrollableList::logic()
+{
+    scrollSlider-&gt;logic();
+    upButton-&gt;logic();
+    downButton-&gt;logic();
+    
+    int event;
+    while ( (event = myEvents.nextEvent()) ) switch ( event )
+    {
+        case Events::ScrollChange:
+//            LOGGER.warning(&quot;Scroll pos changed: %d&quot;, scrollSlider-&gt;getValue());
+            totalDisplayStart = scrollSlider-&gt;getValue();
+            dirty = true;
+            break;
+            
+        case Events::GoUp:
+            scrollSlider-&gt;stepUp();
+            break;
+            
+        case Events::GoDown:
+            scrollSlider-&gt;stepDown();
+            break;
+            
+    }
+    
+    myEvents.reset();
+    
+    // @todo optimize the rendering, it is possible that doesn't need to re-render all
+    if ( dirty )
+    {
+        visibleRenders.deleteAll();
+        if ( lines.size() )
+        {
+            if ( rendedTotalDisplayStart &lt; totalDisplayStart )
+            {
+                // note: in theory all data is correct and iterator++ cannot fail.
+                while ( (rendedTotalDisplayStart + firstVisibleLineIterator-&gt;height - 1) &lt; totalDisplayStart )
+                {
+                    rendedTotalDisplayStart += firstVisibleLineIterator-&gt;height;
+                    firstVisibleLineIterator++;
+                }
+            }
+            else if ( rendedTotalDisplayStart &gt; totalDisplayStart )
+            {
+                // note: in theory all data is correct and iterator++ cannot fail.
+                do
+                {
+                    firstVisibleLineIterator--;
+                    rendedTotalDisplayStart -= firstVisibleLineIterator-&gt;height;
+                } while ( rendedTotalDisplayStart &gt; totalDisplayStart );
+            }
+            
+            TextRenderer * tr;
+            std::list&lt;ListElement&gt;::iterator i = firstVisibleLineIterator;
+            int cur_h = rendedTotalDisplayStart;
+            const int end_h = totalDisplayStart + getHeight();
+            
+            do
+            {
+                tr = new TextRenderer(i-&gt;str, visibleWidth, i-&gt;firstLineOffset);
+                visibleRenders.push_back(tr);
+                cur_h += tr-&gt;getHeight();
+                i++;
+            } while ( i != lines.end() &amp;&amp; (cur_h &lt; end_h) );
+            
+            drawRenderOffset = totalDisplayStart - rendedTotalDisplayStart;
+            
+            dirty = false;
+        }
+        
+    }
+}
+
+void ScrollableList::onSelectStart()
+{
+    if ( hoveringComponent )
+    {
+        hoveringComponent-&gt;onSelectStart();
+        selectingComponent = hoveringComponent;
+    }
+}
+
+void ScrollableList::onSelectStop()
+{
+    if ( selectingComponent )
+    {
+        selectingComponent-&gt;onSelectStop();
+        selectingComponent = 0;
+        onPointerMove( 0, 0);
+    }
+}
+
+void ScrollableList::onHoverStart()
+{
+    // unused
+}
+
+void ScrollableList::onHoverStop()
+{
+    if ( ! selectingComponent &amp;&amp; hoveringComponent )
+    {
+        hoveringComponent-&gt;onHoverStop();
+        hoveringComponent = 0;
+    }
+}
+
+void ScrollableList::onPointerMove(int rel_x, int rel_y)
+{
+    const int mx = GameInput::InputManager::getMouseX();
+    const int my = GameInput::InputManager::getMouseY();
+    
+    if ( ! selectingComponent )
+    {
+        Component * c = 0;
+
+        if ( upButton-&gt;contains(mx, my) )
+        {
+            c = upButton;
+        }
+        else if ( downButton-&gt;contains(mx, my) )
+        {
+            c = downButton;
+        }
+        else if ( scrollSlider-&gt;contains(mx, my) )
+        {
+            c = scrollSlider;
+        }
+
+        if ( c != hoveringComponent )
+        {
+            if ( hoveringComponent ) hoveringComponent-&gt;onHoverStop();
+            hoveringComponent = c;
+            if ( hoveringComponent ) hoveringComponent-&gt;onHoverStart();
+        }
+        
+        if ( hoveringComponent )
+        {
+            hoveringComponent-&gt;onPointerMove(rel_x, rel_y);
+        }
+    }
+    else
+    {
+        selectingComponent-&gt;onPointerMove(rel_x, rel_y);
+    }
+    
+}

Added: trunk/netpanzer/src/Lib/2D/Components/ScrollableList.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/ScrollableList.hpp	                        (rev 0)
+++ trunk/netpanzer/src/Lib/2D/Components/ScrollableList.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -0,0 +1,111 @@
+/*
+Copyright (C) 2013 Netpanzer Team. (www.netpanzer.org), Aaron Perez
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2 of the License, or
+(at your option) any later version.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA 
+ *
+ * Created on August 29, 2013, 10:18 PM
+ */
+
+#ifndef SCROLLABLELIST_HPP
+#define	SCROLLABLELIST_HPP
+
+#include &quot;Views/Components/Component.hpp&quot;
+#include &quot;Types/UString.hpp&quot;
+#include &quot;ArrayUtil/PtrArray.hpp&quot;
+#include &quot;2D/Color.hpp&quot;
+#include &lt;list&gt;
+
+class Button;
+class ScrollSlider;
+class TextRenderer;
+
+class ScrollableList : public Component
+{
+public:
+    ScrollableList(const int width, const int height);
+    ~ScrollableList();
+    
+    void setMaxLines(const unsigned n);
+    
+    void addLine(const UString&amp; str, const int firstLineOffset = 0, const uint8_t color = Color::gray224);
+    
+    void setLocation(const int x, const int y);
+    void setSize(const int x, const int y);
+    
+private:
+    void draw(Surface&amp; s) const;
+    void logic();
+    
+    void onSelectStart();
+    void onSelectStop();
+
+    void onHoverStart();
+    void onHoverStop();
+    
+    void onPointerMove(int rel_x, int rel_y);
+    
+    struct ListElement
+    {
+        ListElement( const UString&amp; str, const int height, const int firstLineOffset, uint8_t color)
+            : str(str), height(height), firstLineOffset(firstLineOffset), color(color) {}
+        
+        UString str;
+        int     height;
+        int     firstLineOffset;
+        uint8_t   color;
+    };
+    
+    /** lines list */
+    std::list&lt;ListElement&gt; lines;
+    
+    /** first visible line iterator, used for scrolling */
+    std::list&lt;ListElement&gt;::iterator firstVisibleLineIterator;
+    
+    /** sum of all the rendered lines heigh, one line might be broken in several */
+    int totalLinesHeight;
+    
+    /** Offset where the line list should start */
+    int totalDisplayStart;
+    
+    /** Offset of the first TextRenderer */
+    int rendedTotalDisplayStart;
+    
+    /** max number of lines in the list */
+    unsigned maxLines;
+    
+    /** Width of the visible are for the text lines of the ScrollableList */    
+    int visibleWidth;
+    
+    /** Offset (y) to begin drawing the first renderer */
+    int drawRenderOffset;
+    
+    /** array of visible TextRenderers, used in draw() */
+    PtrArray&lt;TextRenderer&gt; visibleRenders;
+    
+    /** shall redraw the text lines? */
+    bool dirty;
+
+    Button       * upButton;
+    Button       * downButton;
+    ScrollSlider * scrollSlider;
+    
+    Component * hoveringComponent;
+    Component * selectingComponent;
+    
+    ComponentEvents myEvents;
+};
+
+#endif	/* SCROLLABLELIST_HPP */
+

Modified: trunk/netpanzer/src/Lib/2D/Components/Separator.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/Separator.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/Separator.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -43,7 +43,7 @@
         xend = endx - x;
     }
     
-    void draw(Surface &amp;dest)
+    void draw(Surface &amp;dest) const
     {
         int m = text_render.getHeight() / 2;
         dest.drawHLine(rect.getLocationX(), rect.getLocationY()+m, 19, color);
@@ -51,12 +51,7 @@
         int lentxt = 30+text_render.getWidth();
         dest.drawHLine(rect.getLocationX()+lentxt,   rect.getLocationY()+m, xend - lentxt, color);
     }
-    
-    virtual void render()
-    {
-        // nothing
-    }
-    
+
 private:
     TextRenderer text_render;
     int xend;

Modified: trunk/netpanzer/src/Lib/2D/Components/Slider.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/Slider.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/Slider.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -68,7 +68,7 @@
     update_selector_position();
 }
 
-void Slider::draw(Surface &amp;dest)
+void Slider::draw(Surface &amp;dest) const
 {
     iRect r(rect);
     

Modified: trunk/netpanzer/src/Lib/2D/Components/Slider.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Components/Slider.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Components/Slider.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -37,7 +37,7 @@
 
     virtual void setSize(const int x, const int y);
 
-    virtual void draw(Surface &amp;dest);
+    void draw(Surface &amp;dest) const;
 
     void setChangeEvent(int event) { changeEvent = event; }
 
@@ -52,8 +52,6 @@
     void onHoverStop();
     void handleInput( GameInput::InputState * input );
     
-    void render() {}
-    
     int min_value;
     int max_value;
     int value;

Modified: trunk/netpanzer/src/Lib/2D/Layer.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Layer.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Layer.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -32,8 +32,9 @@
     Layer(const int z_index) : z_index(z_index) {}
     virtual ~Layer() {}
     
-    virtual void draw() = 0; // XXX could this be const in the future?
-
+    virtual void draw() const = 0;
+    virtual void logic() {}
+    
 protected:
     virtual void onAddedToScene() {}
     virtual void onRemovedFromScene() {}

Modified: trunk/netpanzer/src/Lib/2D/Scene.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Scene.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Scene.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -128,3 +128,13 @@
         lay = lay-&gt;next_layer;
     }
 }
+
+void Scene::layersLogic() const
+{
+    Layer * lay = layers;
+    while ( lay )
+    {
+        lay-&gt;logic();
+        lay = lay-&gt;next_layer;
+    }
+}

Modified: trunk/netpanzer/src/Lib/2D/Scene.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Scene.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Scene.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -31,6 +31,8 @@
 
     bool isAlreadyAdded( const Layer * layer );
     void onEnterCurrentScene();
+    
+    void layersLogic() const;
 
 protected:
     bool addLayer(Layer * layer);
@@ -38,14 +40,15 @@
 
     virtual void onBecomeActive() {}
 
+    virtual void logic() {}
+    
 public:
     Scene() : layers(0) {}
     virtual ~Scene() {}
     
     void draw() const;
+    void doLogic() { layersLogic(); logic(); }
     
-    
-    virtual void logic() = 0;
 };
 
 

Modified: trunk/netpanzer/src/Lib/2D/SceneManager.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/SceneManager.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/SceneManager.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -100,19 +100,16 @@
 
 bool SceneManager::run()
 {
-    screen-&gt;lock();
+    GameInput::InputManager::logic();
     
-    current_scene-&gt;draw();
+    current_scene-&gt;doLogic();
     
+    screen-&gt;lock();
+    current_scene-&gt;draw();
     MouseInterface::draw(*screen);
-    
     screen-&gt;unlock();
     screen-&gt;copyToVideoFlip();
     
-    GameInput::InputManager::logic();
-    
-    current_scene-&gt;logic();
-    
     loopSleep();
         
     return shall_run;

Modified: trunk/netpanzer/src/Lib/2D/Surface.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Surface.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/Surface.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -1147,7 +1147,7 @@
 
         if ( ! mem )
             throw Exception(&quot;out of memory while allocating surface.&quot;);
-
+        
         totalByteCount += requestedBytes;
     }
 

Modified: trunk/netpanzer/src/Lib/2D/TextRenderer.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/TextRenderer.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/TextRenderer.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -40,6 +40,12 @@
     color = Color::white;
 }
 
+TextRenderer::TextRenderer(const UString&amp; str, const int width, const int firstLineOffset)
+{
+    setMultilineText(str, width, firstLineOffset);
+    color = Color::white;
+}
+
 void TextRenderer::setText(const char * utf8str)
 {
     UString str(utf8str);
@@ -57,3 +63,15 @@
     
     TextRenderingSystem::renderString(str, surface);
 }
+
+void TextRenderer::setMultilineText(const UString&amp; str, const int width, const int firstLineOffset)
+{
+    const int height = TextRenderingSystem::getMultilineStringHeight(str, width, firstLineOffset);
+    
+    if ( (surface.getWidth() != (unsigned)width) || (surface.getHeight() != (unsigned)height) )
+    {
+        surface.create( width, height);
+    }
+    
+    TextRenderingSystem::renderMultilineString(str, surface, firstLineOffset);
+}

Modified: trunk/netpanzer/src/Lib/2D/TextRenderer.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/TextRenderer.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/TextRenderer.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -35,9 +35,12 @@
     TextRenderer();
     TextRenderer(const char * utf8str);
     TextRenderer(const UString&amp; str);
+    TextRenderer(const UString&amp; str, const int width, const int firstLineOffset);
 
     void setText(const char * utf8str);
     void setText(const UString&amp; str);
+    void setMultilineText(const UString&amp; str, const int width, const int firstLineOffset = 0);
+    
     void setColor(PIX new_color) { color = new_color; }
 
     inline unsigned getWidth() const  { return surface.getWidth(); }

Modified: trunk/netpanzer/src/Lib/2D/TextRenderingSystem.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/TextRenderingSystem.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/TextRenderingSystem.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -175,6 +175,8 @@
 
 void TextRenderingSystem::renderString(const UString&amp; str, Surface&amp; dest)
 {
+    dest.fill(0);
+    
     const int count = str.length();
     if ( ! count )
     {
@@ -184,8 +186,71 @@
     int x_pos = 0;
     FT_GlyphSlot slot;
 
+    for (int index = 0; index &lt; count; index++)
+    {
+        const uint16_t uchar = str[index];
+        FT_Face face = faces[font_data-&gt;face_index[uchar]];
+        if ( FT_Load_Glyph( face, font_data-&gt;char_to_index[uchar], FT_LOAD_RENDER ) )
+        {
+            continue; // skip this char
+        }
+        
+        slot = face-&gt;glyph;
+        
+        if ( ! slot-&gt;bitmap.width  || ! slot-&gt;bitmap.rows )
+        {
+            x_pos += font_data-&gt;normal_advance[uchar];
+            continue;
+        }
+
+        int dest_x = x_pos + slot-&gt;bitmap_left;
+        if ( dest_x &lt; 0 )
+        {
+            dest_x = 0;
+        }
+        
+        const int new_base = baseline - slot-&gt;bitmap_top;
+
+        // @todo if new_base &lt; 0; line should start in -new_base, so it won't crash.
+        for ( int line = 0; line &lt; slot-&gt;bitmap.rows; line++ )
+        {
+            const int dest_y = new_base + line;
+            unsigned char * m = dest.pixPtr(dest_x, dest_y);
+            unsigned char * buf = &amp;slot-&gt;bitmap.buffer[slot-&gt;bitmap.pitch * line];
+
+            for ( int col = 0; col &lt; slot-&gt;bitmap.width; col++ )
+            {
+                m[col] = buf[col] &gt;&gt; 4;
+            }
+        }
+
+        if ( dest_x )
+        {
+            x_pos += font_data-&gt;normal_advance[uchar];
+        }
+        else
+        {
+            x_pos += font_data-&gt;first_advance[uchar];
+        }
+        
+    }
+}
+
+void TextRenderingSystem::renderMultilineString(const UString&amp; str, Surface&amp; dest, const int firstLineOffset)
+{
     dest.fill(0);
+    
+    const int count = str.length();
+    if ( ! count )
+    {
+        return;
+    }
 
+    int x_pos = firstLineOffset;
+    int y_pos = 0;
+    const int width = dest.getWidth();
+    FT_GlyphSlot slot;
+
     for (int index = 0; index &lt; count; index++)
     {
         const uint16_t uchar = str[index];
@@ -200,9 +265,22 @@
         if ( ! slot-&gt;bitmap.width  || ! slot-&gt;bitmap.rows )
         {
             x_pos += font_data-&gt;normal_advance[uchar];
+            if ( x_pos &gt;= width )
+            {
+                x_pos = 0;
+                y_pos += line_height();
+            }
+            
             continue;
         }
 
+        // XXX tricky, in theory the width will be enough for the first char, if not, probably will die.
+        if ( x_pos + font_data-&gt;normal_advance[uchar] &gt; width )
+        {
+            x_pos = 0;
+            y_pos += line_height();
+        }
+        
         int dest_x = x_pos + slot-&gt;bitmap_left;
         if ( dest_x &lt; 0 )
         {
@@ -214,7 +292,7 @@
         // @todo if new_base &lt; 0; line should start in -new_base, so it won't crash.
         for ( int line = 0; line &lt; slot-&gt;bitmap.rows; line++ )
         {
-            const int dest_y = new_base + line;
+            const int dest_y = y_pos + new_base + line;
             unsigned char * m = dest.pixPtr(dest_x, dest_y);
             unsigned char * buf = &amp;slot-&gt;bitmap.buffer[slot-&gt;bitmap.pitch * line];
 
@@ -253,6 +331,31 @@
     area.y = line_height();
 }
 
+int TextRenderingSystem::getMultilineStringHeight(const UString&amp; str, const int width, const int firstLineOffset)
+{
+    int w = firstLineOffset;
+    int lines = 1;
+    
+    if ( str.length() )
+    {
+        for ( unsigned n = 0; n &lt; str.length(); n++ )
+        {
+            if ( ! w )
+                w = font_data-&gt;first_advance[str[n]];
+            else
+                w += font_data-&gt;normal_advance[str[n]];
+            
+            if ( w &gt; width )
+            {
+                lines++;
+                w = font_data-&gt;first_advance[str[n]];
+            }
+        }
+    }
+    
+    return lines * line_height();
+}
+
 FT_Face* TextRenderingSystem::getFaces()
 {
     return faces;

Modified: trunk/netpanzer/src/Lib/2D/TextRenderingSystem.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/TextRenderingSystem.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/2D/TextRenderingSystem.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -54,8 +54,10 @@
     inline static unsigned line_height() { return font_line_height; }
 
     static void renderString(const UString&amp; str, Surface&amp; dest);
+    static void renderMultilineString(const UString&amp; str, Surface&amp; dest, const int firstLineOffset = 0);
     
     static void getRenderedStringArea(const UString&amp; str, iXY&amp; area);
+    static int getMultilineStringHeight(const UString&amp; str, const int width, const int firstLineOffset = 0);
     
     static FT_Face* getFaces();
     static unsigned getNumFaces();

Modified: trunk/netpanzer/src/Lib/ArrayUtil/PtrArray.hpp
===================================================================
--- trunk/netpanzer/src/Lib/ArrayUtil/PtrArray.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/ArrayUtil/PtrArray.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -82,6 +82,11 @@
         return data[i];
     }
     
+    inline const T* operator[](size_t i) const
+    {
+        return data[i];
+    }
+    
     inline T* get(size_t i) const
     {
         return data[i];

Modified: trunk/netpanzer/src/Lib/GameInput/InputConstants.hpp
===================================================================
--- trunk/netpanzer/src/Lib/GameInput/InputConstants.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/GameInput/InputConstants.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -38,6 +38,8 @@
         Action_StartRight,
         Action_StopRight,
         
+        Action_PointerMove,
+        
         Action_ScreenShot,
         
         ActionMAX

Modified: trunk/netpanzer/src/Lib/GameInput/InputManager.cpp
===================================================================
--- trunk/netpanzer/src/Lib/GameInput/InputManager.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/Lib/GameInput/InputManager.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -135,11 +135,13 @@
             case RawAxis_MouseX:
                 mapped_input-&gt;setAbsoluteAxis(Axis_RelativePointerX, value - mouse_x);
                 mouse_x = value;
+                mapped_input-&gt;setAction(Action_PointerMove);
                 break;
 
             case RawAxis_MouseY:
                 mapped_input-&gt;setAbsoluteAxis(Axis_RelativePointerY, value - mouse_y);
                 mouse_y = value;
+                mapped_input-&gt;setAction(Action_PointerMove);
                 break;
 
             default: ;

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/GameManager.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/GameManager.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/GameManager.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -64,7 +64,6 @@
 
 #include &quot;2D/Palette.hpp&quot;
 #include &quot;Views/Components/ViewGlobals.hpp&quot;
-#include &quot;Views/MainMenu/MainMenuView.hpp&quot;
 #include &quot;Views/Game/RankView.hpp&quot;
 #include &quot;Views/Game/VehicleSelectionView.hpp&quot;
 #include &quot;Views/Game/CodeStatsView.hpp&quot;

Modified: trunk/netpanzer/src/NetPanzer/Network/NewsGetter.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Network/NewsGetter.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Network/NewsGetter.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -19,8 +19,6 @@
 #include &quot;NewsGetter.hpp&quot;
 #include &quot;Util/Log.hpp&quot;
 
-#include &quot;Views/MainMenu/MainMenuView.hpp&quot;
-
 NewsGetter::NewsGetter()
 {
     LOGGER.debug(&quot;New news getter&quot;);
@@ -34,10 +32,10 @@
 {
     HTTPClientSocket::onSocketError(so);
     LOGGER.debug(&quot;news getter error&quot;);
-    MainMenuView::setNews(&quot;Error loading news&quot;);
+//    MainMenuView::setNews(&quot;Error loading news&quot;);
 }
 
 void NewsGetter::onContentFinished()
 {
-    MainMenuView::setNews(content);
+//    MainMenuView::setNews(content);
 }

Modified: trunk/netpanzer/src/NetPanzer/Scenes/Common/ModalMessageLayer.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Scenes/Common/ModalMessageLayer.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Scenes/Common/ModalMessageLayer.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -41,13 +41,11 @@
 class DarkGrayPanel : public Component
 {
 public:
-    void draw(Surface&amp; dest)
+    void draw(Surface&amp; dest) const
     {
         dest.BltRoundRect(rect, 10, Palette::filterDarkGray());
         dest.RoundRect(rect, 10, Color::gray);
     }
-
-    void render(){};
 };
 
 ModalMessageLayer::ModalMessageLayer(const char* message, ComponentEvents * parent_events, int event)

Modified: trunk/netpanzer/src/NetPanzer/Scenes/InitialScene.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Scenes/InitialScene.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Scenes/InitialScene.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -18,7 +18,7 @@
     TextRenderer loading_text;
 
 #ifdef TEST_TEXT
-    TextRenderer t1, t2, t3;
+    TextRenderer t1, t2, t3, t4;
 #endif
 
 public:
@@ -26,12 +26,13 @@
     {
 #ifdef TEST_TEXT
         t1.setText(&quot;JljKygL. L&#25105;L&quot;);
-        t2.setText(&quot;&#36825;&#26159;&#20160;&#20040;&#19996;&#35199;&quot;);
-        t3.setText(&quot;&#202;tes-vous s&#251;r de vouloir quitter netPanzer ?&quot;);
+        t2.setMultilineText(UString(&quot;&#36825;&#26159;&#20160;&#20040;&#19996;&#35199;&quot;),50);
+        t3.setText(UString(&quot;&#202;tes-vous s&#251;r de vouloir quitter netPanzer ?&quot;));
+        t4.setMultilineText(UString(&quot;&#202;tes-vous s&#251;r de vouloir quitter netPanzer ?&quot;), 125, 25);
 #endif
     }
     
-    void draw() // const
+    void draw() const
     {
         screen-&gt;fill(Color::black);
         loading_text.drawCenter(*screen);
@@ -39,7 +40,8 @@
 #ifdef TEST_TEXT
         t1.draw(*screen, 100, 100);
         t2.draw(*screen, 100, 120);
-        t3.draw(*screen, 100, 140);
+        t3.draw(*screen, 100, 200);
+        t4.draw(*screen, 100, 220, Color::yellow);
 #endif
     }
     

Modified: trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/HostGameLayer.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/HostGameLayer.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/HostGameLayer.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -134,7 +134,7 @@
         mapimage.create(w - 2, h - 2);
     }
     
-    void draw(Surface &amp;dest)
+    void draw(Surface &amp;dest) const
     {
         dest.drawRect(rect, Color::lightGray);
         mapimage.blt(dest, rect.getLocationX()+1, rect.getLocationY()+1); // full blit
@@ -146,11 +146,6 @@
         mapimage.bltScale(from, r);
     }
     
-    virtual void render()
-    {
-        // nothing
-    }
-    
     void actionPerformed(const mMouseEvent &amp;me)
     {
         // nothing
@@ -226,61 +221,35 @@
     
     char number[50];
     
+#define ADD_SLIDER(name, label, minv, maxv, defv, event, strv) \
+    label_##name = new Label( UString(label), Color::yellow); \
+    slider_##name = new Slider( minv, maxv, defv, SLIDER_SIZE, event); \
+    label_##name##_value = new Label( UString(strv), Color::white); \
+    addComponent(label_##name); \
+    addComponent(slider_##name); \
+    addComponent(label_##name##_value)
+
     snprintf(number, sizeof(number), &quot;%d&quot;, GameConfig::game_maxplayers);
-    label_maxplayers = new Label( UString(_(&quot;Max Players&quot;)), Color::yellow);
-    slider_maxplayers = new Slider( 2, 16, GameConfig::game_maxplayers, SLIDER_SIZE, Events::ChangeMaxPlayers);
-    label_maxplayers_value = new Label( UString(number), Color::white);
+    ADD_SLIDER(maxplayers,  _(&quot;Max Players&quot;),               2,   16, GameConfig::game_maxplayers, Events::ChangeMaxPlayers, number);
 
     snprintf(number, sizeof(number), &quot;%d&quot;, GameConfig::game_maxunits);
-    label_maxunits = new Label( UString(_(&quot;Game Max Unit Count&quot;)), Color::yellow);
-    slider_maxunits = new Slider( 2, 1000, GameConfig::game_maxunits, SLIDER_SIZE, Events::ChangeMaxUnits);
-    label_maxunits_value = new Label( UString(number), Color::white);
+    ADD_SLIDER(maxunits,    _(&quot;Game Max Unit Count&quot;),       2, 1000, GameConfig::game_maxunits, Events::ChangeMaxUnits, number);
 
     snprintf(number, sizeof(number), &quot;%d%%&quot;, GameConfig::game_occupationpercentage);
-    label_occupation = new Label( UString(_(&quot;Objective Capture Percent&quot;)), Color::yellow);
-    slider_occupation = new Slider( 5, 100, GameConfig::game_occupationpercentage, SLIDER_SIZE, Events::ChangeOccupation);
-    label_occupation_value = new Label( UString(number), Color::white);
+    ADD_SLIDER(occupation,  _(&quot;Objective Capture Percent&quot;), 5,  100, GameConfig::game_occupationpercentage, Events::ChangeOccupation, number);
     
     snprintf(number, sizeof(number), &quot;%02d:%02d&quot;, GameConfig::game_timelimit / 60, GameConfig::game_timelimit % 60 );
-    label_timelimit = new Label( UString(_(&quot;Time Limit&quot;)), Color::yellow);
-    slider_timelimit = new Slider( 5, 240, GameConfig::game_timelimit, SLIDER_SIZE, Events::ChangeTimeLimit);
-    label_timelimit_value = new Label( UString(number), Color::white);
+    ADD_SLIDER(timelimit,   _(&quot;Time Limit&quot;),                5,  240, GameConfig::game_timelimit, Events::ChangeTimeLimit, number);
     
     snprintf(number, sizeof(number), &quot;%d&quot;, GameConfig::game_fraglimit);
-    label_fraglimit = new Label( UString(_(&quot;Frag Limit&quot;)), Color::yellow);
-    slider_fraglimit = new Slider( 5, 1000, GameConfig::game_fraglimit, SLIDER_SIZE, Events::ChangeFragLimit);
-    label_fraglimit_value = new Label( UString(number), Color::white);
+    ADD_SLIDER(fraglimit,   _(&quot;Frag Limit&quot;),                5, 1000, GameConfig::game_fraglimit, Events::ChangeFragLimit, number);
     
-    label_clouds = new Label( UString(_(&quot;Cloud Coverage&quot;)), Color::yellow);
-    slider_clouds = new Slider( 0, 4, GameConfig::game_cloudcoverage, SLIDER_SIZE, Events::ChangeClouds);
-    label_clouds_value = new Label( UString(getCloudText(GameConfig::game_cloudcoverage)), Color::white);
+    ADD_SLIDER(clouds,      _(&quot;Cloud Coverage&quot;),            0,    4, GameConfig::game_cloudcoverage, Events::ChangeClouds, getCloudText(GameConfig::game_cloudcoverage));
     
-    label_wind = new Label( UString(_(&quot;Wind&quot;)), Color::yellow);
     const int windIndex = getWindIndex(GameConfig::game_windspeed);
-    slider_wind = new Slider( 0, 4, windIndex, SLIDER_SIZE, Events::ChangeWind);
-    label_wind_value = new Label( UString(getWindText(windIndex)), Color::white);
+    ADD_SLIDER(wind,        _(&quot;Wind&quot;),                      0,    4, windIndex, Events::ChangeWind, getWindText(windIndex));
     
-    addComponent(label_maxplayers);
-    addComponent(slider_maxplayers);
-    addComponent(label_maxplayers_value);
-    addComponent(label_maxunits);
-    addComponent(slider_maxunits);
-    addComponent(label_maxunits_value);
-    addComponent(label_occupation);
-    addComponent(slider_occupation);
-    addComponent(label_occupation_value);
-    addComponent(label_timelimit);
-    addComponent(slider_timelimit);
-    addComponent(label_timelimit_value);
-    addComponent(label_fraglimit);
-    addComponent(slider_fraglimit);
-    addComponent(label_fraglimit_value);
-    addComponent(label_clouds);
-    addComponent(slider_clouds);
-    addComponent(label_clouds_value);
-    addComponent(label_wind);
-    addComponent(slider_wind);
-    addComponent(label_wind_value);
+#undef ADD_SLIDER
     
     refreshMaps();
     setSelectedMap(&quot;&quot;);
@@ -322,47 +291,23 @@
     choice_gametype-&gt;setLocation(choice_x, y + TextRenderingSystem::line_height());
     
     y += 104 + 30; // 30 is the button size, haha
-    
-    label_maxplayers-&gt;setLocation(x, y);
-    slider_maxplayers-&gt;setLocation(x + SLIDER_OFFSET, y);
-    label_maxplayers_value-&gt;setLocation(x + SLIDER_VALUE_OFFSET, y);
-    
-    y += 30;
-    
-    label_maxunits-&gt;setLocation(x, y);
-    slider_maxunits-&gt;setLocation(x + SLIDER_OFFSET, y);
-    label_maxunits_value-&gt;setLocation(x + SLIDER_VALUE_OFFSET, y);
 
-    y += 30;
+#define SLIDER_LOCATION(name) \
+    label_##name -&gt;setLocation(x, y); \
+    slider_##name -&gt;setLocation(x + SLIDER_OFFSET, y); \
+    label_##name##_value -&gt;setLocation(x + SLIDER_VALUE_OFFSET, y); \
+    y += 30
+
+    SLIDER_LOCATION(maxplayers);
+    SLIDER_LOCATION(maxunits);
+    SLIDER_LOCATION(occupation);
+    SLIDER_LOCATION(timelimit);
+    SLIDER_LOCATION(fraglimit);
+    SLIDER_LOCATION(clouds);
+    SLIDER_LOCATION(wind);
     
-    label_occupation-&gt;setLocation(x, y);
-    slider_occupation-&gt;setLocation(x + SLIDER_OFFSET, y);
-    label_occupation_value-&gt;setLocation(x + SLIDER_VALUE_OFFSET, y);
+#undef SLIDER_LOCATION
     
-    y += 30;
-    
-    label_timelimit-&gt;setLocation(x, y);
-    slider_timelimit-&gt;setLocation(x + SLIDER_OFFSET, y);
-    label_timelimit_value-&gt;setLocation(x + SLIDER_VALUE_OFFSET, y);
-    
-    y += 30;
-    
-    label_fraglimit-&gt;setLocation(x, y);
-    slider_fraglimit-&gt;setLocation(x + SLIDER_OFFSET, y);
-    label_fraglimit_value-&gt;setLocation(x + SLIDER_VALUE_OFFSET, y);
-    
-    y += 30;
-    
-    label_clouds-&gt;setLocation(x, y);
-    slider_clouds-&gt;setLocation(x + SLIDER_OFFSET, y);
-    label_clouds_value-&gt;setLocation(x + SLIDER_VALUE_OFFSET, y);
-    
-    y += 30;
-    
-    label_wind-&gt;setLocation(x, y);
-    slider_wind-&gt;setLocation(x + SLIDER_OFFSET, y);
-    label_wind_value-&gt;setLocation(x + SLIDER_VALUE_OFFSET, y);
-    
 }
 
 void HostGameLayer::handleComponentEvents()

Modified: trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/HostGameLayer.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/HostGameLayer.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/HostGameLayer.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -61,34 +61,21 @@
     Label  * label_mapsize;
     Label  * label_mapobjectives;
     
-    Label  * label_maxplayers;
-    Slider * slider_maxplayers;
-    Label  * label_maxplayers_value;
+#define DEFINE_SLIDER(name) \
+    Label  * label_##name; \
+    Slider * slider_##name; \
+    Label  * label_##name##_value
     
-    Label  * label_maxunits;
-    Slider * slider_maxunits;
-    Label  * label_maxunits_value;
+    DEFINE_SLIDER(maxplayers);
+    DEFINE_SLIDER(maxunits);
+    DEFINE_SLIDER(occupation);
+    DEFINE_SLIDER(timelimit);
+    DEFINE_SLIDER(fraglimit);
+    DEFINE_SLIDER(clouds);
+    DEFINE_SLIDER(wind);
     
-    Label  * label_occupation;
-    Slider * slider_occupation;
-    Label  * label_occupation_value;
+#undef DEFINE_SLIDER
     
-    Label  * label_timelimit;
-    Slider * slider_timelimit;
-    Label  * label_timelimit_value;
-    
-    Label  * label_fraglimit;
-    Slider * slider_fraglimit;
-    Label  * label_fraglimit_value;
-    
-    Label  * label_clouds;
-    Slider * slider_clouds;
-    Label  * label_clouds_value;
-            
-    Label  * label_wind;
-    Slider * slider_wind;
-    Label  * label_wind_value;
-    
     Label  * label_gametype;
     Choice * choice_gametype;
     

Modified: trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/IntroLayer.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/IntroLayer.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/IntroLayer.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -24,13 +24,26 @@
 
 #include &quot;2D/Components/Label.hpp&quot;
 #include &quot;2D/Components/InputField.hpp&quot;
+#include &quot;2D/Components/ScrollableList.hpp&quot;
+#include &quot;2D/Components/AreaComponent.hpp&quot;
 
 #include &quot;2D/Color.hpp&quot;
 
 #include &quot;Types/UString.hpp&quot;
+#include &quot;Interfaces/StrManager.hpp&quot;
+#include &quot;Util/StringTokenizer.hpp&quot;
 
+#define MENU_WIDTH  (640)
+#define MENU_HEIGHT (480-26-26)
+
+#ifndef PACKAGE_VERSION
+	#define PACKAGE_VERSION &quot;testing&quot;
+#endif
+
 IntroLayer::IntroLayer() : ComponentLayer(0)
 {
+    area = new AreaComponent( MENU_WIDTH, MENU_HEIGHT );
+    
     label = new Label( UString(&quot;The input field&quot;), Color::white);
     input_field = new InputField();
     input_field-&gt;setMaxTextLength(20);
@@ -39,6 +52,24 @@
     input_field-&gt;setText(UString(&quot;Jafgjy this is a very long line lets see what happens&quot;));
 //    input_field-&gt;setText(UString(&quot;12345&quot;));
     
+    intro_text = new ScrollableList(MENU_WIDTH-20, MENU_HEIGHT-150);
+
+    char Buf[1024];    
+    snprintf(Buf, sizeof(Buf), 
+                _(&quot;Main Menu Message %s&quot;),
+                PACKAGE_VERSION);
+    
+    std::string s(Buf);
+    StringTokenizer tok(s,'\n');
+    
+    while ( tok.hasMore() )
+    {
+        intro_text-&gt;addLine(UString(tok.getNextToken(true).c_str()));
+    }
+    
+    
+    addComponent(area);
+    addComponent(intro_text);
     addComponent(label);
     addComponent(input_field);
 }
@@ -50,11 +81,20 @@
 
 void IntroLayer::recalculateComponentLocations()
 {
-    int mx = screen-&gt;getWidth();
-    int my = screen-&gt;getHeight();
+    int sw = screen-&gt;getWidth();
+    int sh = screen-&gt;getHeight();
     
-    label-&gt;setLocation(mx/2, my/2);
-    input_field-&gt;setLocation(mx/2, (my/2) + 30);
+    area-&gt;setLocation((sw/2) - (area-&gt;getWidth()/2), ((sh/2) - (area-&gt;getHeight()/2)) );
+
+    int x = area-&gt;getLocationX() + 10;
+    int y = area-&gt;getLocationY() + 10;
+    
+    intro_text-&gt;setLocation(x, y);
+    
+    y += intro_text-&gt;getHeight();
+    
+    label-&gt;setLocation(x, y+20);
+    input_field-&gt;setLocation(x, y + 50);
 }
 
 void IntroLayer::handleComponentEvents()

Modified: trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/IntroLayer.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/IntroLayer.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/IntroLayer.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -23,12 +23,14 @@
 
 #include &quot;2D/ComponentLayer.hpp&quot;
 
+class Component;
 class CheckBox;
 class Choice;
 class Slider;
 class Label;
 class Slider;
 class InputField;
+class ScrollableList;
 
 class IntroLayer : public ComponentLayer
 {
@@ -40,6 +42,9 @@
     void recalculateComponentLocations();
     void handleComponentEvents();
     
+    Component   * area;
+    ScrollableList * intro_text;
+    
     Label       * label;
     InputField  * input_field;
     

Added: trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/JoinGameLayer.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/JoinGameLayer.cpp	                        (rev 0)
+++ trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/JoinGameLayer.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -0,0 +1,75 @@
+/*
+Copyright (C) 2013 Netpanzer Team. (www.netpanzer.org), Aaron Perez
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2 of the License, or
+(at your option) any later version.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA  * 
+ * Created on August 29, 2013, 9:48 PM
+ */
+
+#include &quot;JoinGameLayer.hpp&quot;
+
+#include &quot;2D/Components/AreaComponent.hpp&quot;
+
+#include &quot;Classes/ScreenSurface.hpp&quot;
+
+#define MENU_WIDTH  (640)
+#define MENU_HEIGHT (480-26-26)
+
+struct Events
+{
+    enum
+    {
+        RefreshGameList = 1,
+        RefreshGameData
+    };
+};
+
+JoinGameLayer::JoinGameLayer() : ComponentLayer(0)
+{
+    area = new AreaComponent( MENU_WIDTH, MENU_HEIGHT );
+    
+    addComponent(area);
+    
+}
+
+JoinGameLayer::~JoinGameLayer()
+{
+}
+
+void JoinGameLayer::recalculateComponentLocations()
+{
+    int sw = screen-&gt;getWidth();
+    int sh = screen-&gt;getHeight();
+
+    area-&gt;setLocation((sw/2) - (area-&gt;getWidth()/2), ((sh/2) - (area-&gt;getHeight()/2)) );
+
+    int x = area-&gt;getLocationX() + 10;
+    int y = area-&gt;getLocationY() + 10;
+    
+    // @todo move the components
+}
+
+void JoinGameLayer::handleComponentEvents()
+{
+    int event;
+    while ( (event = component_events.nextEvent()) ) switch ( event )
+    {
+        case Events::RefreshGameList:
+            break;
+            
+        case Events::RefreshGameData:
+            break;
+            
+    }
+}

Added: trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/JoinGameLayer.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/JoinGameLayer.hpp	                        (rev 0)
+++ trunk/netpanzer/src/NetPanzer/Scenes/MainMenu/JoinGameLayer.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -0,0 +1,41 @@
+/*
+Copyright (C) 2013 Netpanzer Team. (www.netpanzer.org), Aaron Perez
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2 of the License, or
+(at your option) any later version.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA 
+ * 
+ * Created on August 29, 2013, 9:48 PM
+ */
+
+#ifndef JOINGAMELAYER_HPP
+#define	JOINGAMELAYER_HPP
+
+#include &quot;2D/ComponentLayer.hpp&quot;
+
+class JoinGameLayer : public ComponentLayer
+{
+public:
+    JoinGameLayer();
+    ~JoinGameLayer();
+    
+private:
+    void recalculateComponentLocations();
+    void handleComponentEvents();
+    
+    Component * area;
+    
+};
+
+#endif	/* JOINGAMELAYER_HPP */
+

Modified: trunk/netpanzer/src/NetPanzer/Scenes/MainMenuScene.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Scenes/MainMenuScene.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Scenes/MainMenuScene.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -51,7 +51,7 @@
         hh = image.getHeight()/2;
     }
     
-    void draw()
+    void draw() const
     {
         screen-&gt;fill(0);
         
@@ -66,13 +66,11 @@
 class DarkGrayPanel : public Component
 {
 public:
-    void draw(Surface&amp; dest)
+    void draw(Surface&amp; dest) const
     {
         dest.BltRoundRect(rect, 10, Palette::filterDarkGray());
         dest.RoundRect(rect, 10, Color::gray);
     }
-
-    void render(){};
 };
 
 static Button* createMainMenuButton(const NPString&amp; label, const unsigned event, const bool inverted = false)
@@ -192,11 +190,6 @@
         }
     }
     
-    void logic()
-    {
-        
-    }
-    
 private:
     void handleComponentEvents()
     {

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/BoxedLabel.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/BoxedLabel.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/BoxedLabel.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -37,7 +37,7 @@
         bordered = hasBorder;
     }
     
-    void draw(Surface &amp;dest)
+    void draw(Surface &amp;dest) const
     {
         dest.FillRoundRect(rect, 3, background_color);
         if ( bordered )

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/Component.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/Component.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/Component.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -32,8 +32,6 @@
 protected:
     iRect   rect;
 
-    static int borderSize;
-
     ComponentEvents * events;
 
     void reset() { rect.zero(); }
@@ -66,8 +64,9 @@
     virtual void setLocation(const int x, const int y) { rect.setLocation(x, y); }
     void setLocation(const iXY &amp;p) { setLocation(p.x, p.y); }
 
-    virtual void draw(Surface &amp;dest) = 0;
-
+    virtual void draw(Surface &amp;dest) const = 0;
+    virtual void logic() {}
+    
     virtual void actionPerformed(const mMouseEvent &amp;me) {}
     virtual void handleKeyboard() {}
 
@@ -81,15 +80,8 @@
     virtual void onFocusStop() {}
     virtual void handleInput( GameInput::InputState * input ) { (void)input; }
     
-    virtual void onPointerMove(int x, int y) {}
-
-    virtual void onMousePress(int button) {}
-    virtual void onMouseRelease(int button) {}
-    virtual void onMouseClick(int button) {} // @todo do we want this event?
-
-    virtual void onMouseMove(int x, int y) {}
-    virtual void onMouseDrag(int x, int y, int button) {}
-
+    virtual void onPointerMove(int rel_x, int rel_y) {}
+    
 private:
     Component(const Component&amp;);
     void operator=(const Component&amp;);

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/InfoBar.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/InfoBar.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/InfoBar.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -42,7 +42,7 @@
 
 
 void
-InfoBar::draw(Surface &amp;dest)
+InfoBar::draw(Surface &amp;dest) const
 {
     iRect r(rect.getLocationX(), rect.getLocationY(), dest.getWidth(), rect.getLocationY()+12);
     dest.bltLookup(r, Palette::filterDarkGray());

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/InfoBar.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/InfoBar.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/InfoBar.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -31,7 +31,7 @@
         rect.setLocation(x, y);
     }
     
-    void draw(Surface &amp;dest);
+    void draw(Surface &amp;dest) const;
     
     virtual void render()
     {

Deleted: trunk/netpanzer/src/NetPanzer/Views/Components/ListBox.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/ListBox.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/ListBox.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -1,19 +0,0 @@
-
-#include &quot;ListBox.hpp&quot;
-
-ListBox::ListBox(ListBoxDataSource* data_source)
-    : Component(), data_source(data_source)
-{
-    
-}
-
-ListBox::~ListBox()
-{
-    delete data_source;
-    data_source = 0;
-}
-
-void ListBox::draw(Surface&amp; dest)
-{
-    
-}

Deleted: trunk/netpanzer/src/NetPanzer/Views/Components/ListBox.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/ListBox.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/ListBox.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -1,41 +0,0 @@
-/* 
- * File:   ListBox.hpp
- * Author: krom
- *
- * Created on February 8, 2013, 5:59 PM
- */
-
-#ifndef LISTBOX_HPP
-#define	LISTBOX_HPP
-
-#include &quot;Component.hpp&quot;
-#include &quot;Types/iRect.hpp&quot;
-
-class ListBoxDataSource
-{
-public:
-    virtual ~ListBoxDataSource() {}
-    
-    virtual void getElementCount() = 0;
-    virtual void paintRow(size_t row, Surface&amp; dest) = 0;
-    virtual void setSelectedRow(size_t row) = 0;
-};
-
-class ListBox : public Component
-{
-public:
-    ListBox(ListBoxDataSource * data_source);
-    ~ListBox();
-    
-    void draw(Surface&amp; dest);
-    
-private:
-    ListBoxDataSource * data_source;
-    
-    iRect rows_area;
-    
-};
-
-
-#endif	/* LISTBOX_HPP */
-

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/MiniMap.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/MiniMap.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/MiniMap.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -57,13 +57,13 @@
 }
 
 void
-MiniMap::draw(Surface &amp;dest)
+MiniMap::draw(Surface &amp;dest) const
 {
     //regenerate();
     mapimage.blt(dest,rect.getLocationX(), rect.getLocationY()); // full blit
-    drawObjectives(dest);
-    drawUnits(dest);
-    drawWorldAndMouseBox(dest);
+//    drawObjectives(dest);
+//    drawUnits(dest);
+//    drawWorldAndMouseBox(dest);
 }
 
 void

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/MiniMap.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/MiniMap.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/MiniMap.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -31,7 +31,7 @@
     MiniMap(int x, int y, int w, int h);
     virtual ~MiniMap();
     
-    void draw(Surface &amp;dest);
+    void draw(Surface &amp;dest) const;
     
     void setSize(const int x, const int y)
     {

Deleted: trunk/netpanzer/src/NetPanzer/Views/Components/ViewGlobals.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/ViewGlobals.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/ViewGlobals.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -1,34 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-
-
-#include &quot;ViewGlobals.hpp&quot;
-
-
-Uint8 gForeground = 0;
-Uint8 gBackground = 0;
-
-void setForeground(Uint8 color)
-{
-    gForeground = color;
-}
-
-void setBackground(Uint8 color)
-{
-    gBackground = color;
-}

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/ViewGlobals.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/ViewGlobals.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/ViewGlobals.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -34,10 +34,4 @@
 #define inactiveWindowTitleTextColor (Color::gray)
 #define inactiveWindowTitleBodyColor (componentBodyColor)
 
-extern Uint8 gForeground;
-extern Uint8 gBackground;
-
-void setForeground(Uint8 color);
-void setBackground(Uint8 color);
-
 #endif // end __ViewGlobals_hpp__

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/tHScrollBar.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/tHScrollBar.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/tHScrollBar.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -63,13 +63,13 @@
     dirty = true;
 }
 
-void tHScrollBar::draw(Surface&amp; dest)
+void tHScrollBar::draw(Surface&amp; dest) const
 {
-    if ( dirty )
-    {
-        render();
-        dirty = false;
-    }
+//    if ( dirty )
+//    {
+//        render();
+//        dirty = false;
+//    }
     
     surface.bltTrans(dest, rect.getLocationX(), rect.getLocationY());
 }

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/tHScrollBar.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/tHScrollBar.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/tHScrollBar.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -36,7 +36,7 @@
         PRESSED=   2,
     } ;
     
-    void draw(Surface&amp; dest);
+    void draw(Surface&amp; dest) const;
     
     StateChangedCallback* callback;
     

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/tStringListBox.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/tStringListBox.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/tStringListBox.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -51,13 +51,13 @@
     hasHeader = false;
 }
 
-void tStringListBox::draw(Surface&amp; dest)
+void tStringListBox::draw(Surface&amp; dest) const
 {
-    if ( dirty )
-    {
-        render();
-        dirty = false;
-    }
+//    if ( dirty )
+//    {
+//        render();
+//        dirty = false;
+//    }
     
     surface.bltTrans(dest, rect.getLocationX(), rect.getLocationY());
 }

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/tStringListBox.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/tStringListBox.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/tStringListBox.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -70,7 +70,7 @@
     
     PIX background_color;
     
-    void draw(Surface&amp; dest);
+    void draw(Surface&amp; dest) const;
     virtual void render();
     virtual void actionPerformed(const mMouseEvent &amp;me);
 public:

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/tVScrollBar.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/tVScrollBar.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/tVScrollBar.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -189,15 +189,15 @@
     }
 }
 
-void tVScrollBar::draw(Surface&amp; dest)
+void tVScrollBar::draw(Surface&amp; dest) const
 {
-    if ( dirty )
-    {
-        render();
-        dirty = false;
-    }
+//    if ( dirty )
+//    {
+//        render();
+//        dirty = false;
+//    }
     
-    dest.bltTrans(surface, rect.getLocationX(), rect.getLocationY());
+//    dest.bltTrans(surface, rect.getLocationX(), rect.getLocationY());
 }
 
 void tVScrollBar::render()

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/tVScrollBar.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/tVScrollBar.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/tVScrollBar.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -65,7 +65,7 @@
     virtual void actionPerformed(const mMouseEvent &amp;me);
     void initScrollBar();
     
-    void draw(Surface&amp; dest);
+    void draw(Surface&amp; dest) const;
     
 public:
 

Deleted: trunk/netpanzer/src/NetPanzer/Views/MainMenu/MainMenuView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/MainMenuView.cpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/MainMenuView.cpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -1,120 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-
-
-#include &quot;MainMenuView.hpp&quot;
-#include &quot;Views/Components/tStringListBox.hpp&quot;
-#include &quot;Views/Components/tVScrollBar.hpp&quot;
-#include &quot;Interfaces/GameManager.hpp&quot;
-#include &quot;Views/GameViewGlobals.hpp&quot;
-
-#include &quot;Interfaces/GameConfig.hpp&quot;
-#include &quot;Interfaces/StrManager.hpp&quot;
-
-#ifndef PACKAGE_VERSION
-	#define PACKAGE_VERSION &quot;testing&quot;
-#endif
-
-// size is: 620x450 located @ 90,90
-static iRect mainTextRect(0, 0, 612, 270);
-static iRect mainNewsRect(0, 270, 612, 70);
-
-//void MainMenuView::setNews(const std::string &amp;news)
-//{
-//    MainMenuView * mmv = 0; //(MainMenuView*)Desktop::getView(&quot;MainView&quot;);
-//    mmv-&gt;news_text-&gt;Clear();
-//    mmv-&gt;news_text-&gt;Add(_(&quot;NetPanzer news:&quot;));
-//    mmv-&gt;news_text-&gt;AddBlock(news);
-//}
-
-//static Surface xxx;
-
-// MainMenuView
-//---------------------------------------------------------------------------
-MainMenuView::MainMenuView() : View()
-{
-    setSearchName(&quot;MainView&quot;);
-    
-    setAllowMove(false);
-    setAlwaysOnBottom(true);
-
-    moveTo(bodyTextRect.getLocation());
-    resize(bodyTextRect.getSize());
-  
-    char Buf[1024];    
-    snprintf(Buf, sizeof(Buf), 
-                _(&quot;Main Menu Message %s&quot;),
-                PACKAGE_VERSION);
-    
-    intro_text = new tStringListBox(mainTextRect);
-    tVScrollBar * sbar = new tVScrollBar();
-    sbar-&gt;setLargeChange(intro_text-&gt;getNumVisibleLines()-1);
-    intro_text-&gt;setVscrollBar(sbar);
-    intro_text-&gt;setColor(0); // transparent
-    intro_text-&gt;setSelectable(false);
-    intro_text-&gt;setBordered(false);
-    intro_text-&gt;AddBlock(Buf);
-    
-    add(intro_text);
-    add(sbar);
-    
-    news_text = new tStringListBox(mainNewsRect);
-    sbar = new tVScrollBar();
-    sbar-&gt;setLargeChange(news_text-&gt;getNumVisibleLines()-1);
-    news_text-&gt;setVscrollBar(sbar);
-//    news_text-&gt;setColor(0); // transparent
-    news_text-&gt;setSelectable(false);
-//    news_text-&gt;setBordered(false);
-    news_text-&gt;Add(_(&quot;Loading news...&quot;));
-    
-    add(news_text);
-    add(sbar);
-
-//    xxx.loadBMP(&quot;pics/buttons/page.bmp&quot;);
-    
-} // end MainMenuView::MainMenuView
-
-MainMenuView::~MainMenuView()
-{
-    
-}
-
-//void MainMenuView::doDraw(Surface&amp; surface)
-//{
-//    surface.drawHLine(100, 95, 100, Color::yellow);
-//    surface.drawVLine(95, 100, 100, Color::yellow);
-//
-//    surface.drawRect(iRect(100,100, 100, 100), Color::yellow);
-////    surface.fillRect(iRect(101,101,98,98), Color::green);
-//
-//    surface.drawLine(100,100, 199, 199, Color::cyan);
-//    surface.drawLine(199,100, 100, 199, Color::cyan);
-//
-//    surface.BltRoundRect(iRect(100,100, 100, 100), 8, Palette::darkGray256.getColorArray());
-//
-//    xxx.blt(surface, 100, 100);
-//    xxx.bltTrans(surface, 100, 200);
-//
-//    Surface X;
-//    X.copy(xxx);
-//
-//    X.blt(surface, 350, 100);
-//    X.bltTrans(surface, 350, 200);
-//
-//
-//}

Deleted: trunk/netpanzer/src/NetPanzer/Views/MainMenu/MainMenuView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/MainMenuView.hpp	2013-08-28 16:23:22 UTC (rev 1429)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/MainMenuView.hpp	2013-09-06 12:33:24 UTC (rev 1430)
@@ -1,44 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-#ifndef __MainMenuView_hpp__
-#define __MainMenuView_hpp__
-
-#include &quot;Views/Components/View.hpp&quot;
-#include &quot;Network/NewsGetter.hpp&quot;
-
-class tStringListBox;
-
-//--------------------------------------------------------------------------
-class MainMenuView : public View
-{
-private:
-//    NewsGetter news_getter;
-    tStringListBox * intro_text;
-    tStringListBox * news_text;
-
-//    void doDraw(Surface &amp;surface);
-
-public:
-    MainMenuView();
-    ~MainMenuView();
-
-    static void setNews(const std::string&amp; news){}
-    
-}; // end MainMenuView
-
-#endif // end __MainMenuView_hpp__

</PRE>


<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000453.html">[Netpanzer-cvs] r1432 - in trunk/netpanzer:	projects/netpanzer-svn-windows/nbproject	projects/netpanzer-svn-windows/nbproject/private src/Lib/2D	src/Lib/2D/Components src/Lib/Types	src/NetPanzer/Scenes/MainMenu src/NetPanzer/Views/Game	src/NetPanzer/Views/MainMenu/Multi
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#452">[ date ]</a>
              <a href="thread.html#452">[ thread ]</a>
              <a href="subject.html#452">[ subject ]</a>
              <a href="author.html#452">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/netpanzer-cvs">More information about the Netpanzer-cvs
mailing list</a><br>
</body></html>
