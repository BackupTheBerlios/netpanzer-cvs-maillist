<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Netpanzer-cvs] r1422 - in trunk/netpanzer: Languages src/Lib/2D	src/NetPanzer/Classes src/NetPanzer/Classes/Network	src/NetPanzer/Interfaces src/NetPanzer/PowerUps	src/NetPanzer/System support/scripts
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/netpanzer-cvs/2012-October/index.html" >
   <LINK REL="made" HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1422%20-%20in%20trunk/netpanzer%3A%20Languages%20src/Lib/2D%0A%09src/NetPanzer/Classes%20src/NetPanzer/Classes/Network%0A%09src/NetPanzer/Interfaces%20src/NetPanzer/PowerUps%0A%09src/NetPanzer/System%20support/scripts&In-Reply-To=%3C20121031210827.7493B55B0C%40scm.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000445.html">
   
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Netpanzer-cvs] r1422 - in trunk/netpanzer: Languages src/Lib/2D	src/NetPanzer/Classes src/NetPanzer/Classes/Network	src/NetPanzer/Interfaces src/NetPanzer/PowerUps	src/NetPanzer/System support/scripts</H1>
    <B>wile64 at scm.berlios.de</B> 
    <A HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1422%20-%20in%20trunk/netpanzer%3A%20Languages%20src/Lib/2D%0A%09src/NetPanzer/Classes%20src/NetPanzer/Classes/Network%0A%09src/NetPanzer/Interfaces%20src/NetPanzer/PowerUps%0A%09src/NetPanzer/System%20support/scripts&In-Reply-To=%3C20121031210827.7493B55B0C%40scm.berlios.de%3E"
       TITLE="[Netpanzer-cvs] r1422 - in trunk/netpanzer: Languages src/Lib/2D	src/NetPanzer/Classes src/NetPanzer/Classes/Network	src/NetPanzer/Interfaces src/NetPanzer/PowerUps	src/NetPanzer/System support/scripts">wile64 at scm.berlios.de
       </A><BR>
    <I>Wed Oct 31 22:08:27 CET 2012</I>
    <P><UL>
        <LI>Previous message: <A HREF="000445.html">[Netpanzer-cvs] r1421 - in trunk/netpanzer/src/NetPanzer:	Classes/Network Interfaces Scripts
</A></li>
        
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#446">[ date ]</a>
              <a href="thread.html#446">[ thread ]</a>
              <a href="subject.html#446">[ subject ]</a>
              <a href="author.html#446">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: wile64
Date: 2012-10-31 22:08:26 +0100 (Wed, 31 Oct 2012)
New Revision: 1422

Modified:
   trunk/netpanzer/Languages/de.po
   trunk/netpanzer/Languages/fr.po
   trunk/netpanzer/Languages/it.po
   trunk/netpanzer/Languages/netPanzer.pot
   trunk/netpanzer/src/Lib/2D/Palette.cpp
   trunk/netpanzer/src/Lib/2D/Palette.hpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.cpp
   trunk/netpanzer/src/NetPanzer/Classes/Network/ServerConnectDaemon.cpp
   trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/ChatInterface.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/GameControlRulesDaemon.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/PlayerGameManager.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/PlayerInterface.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/Team.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/Team.hpp
   trunk/netpanzer/src/NetPanzer/Interfaces/TeamManager.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/VoteManager.cpp
   trunk/netpanzer/src/NetPanzer/PowerUps/BonusUnitPowerUp.cpp
   trunk/netpanzer/src/NetPanzer/PowerUps/EnemyRadarPowerUp.cpp
   trunk/netpanzer/src/NetPanzer/PowerUps/UnitPowerUp.cpp
   trunk/netpanzer/src/NetPanzer/System/SDLVideo.cpp
   trunk/netpanzer/src/NetPanzer/System/SDLVideo.hpp
   trunk/netpanzer/support/scripts/copy_datafiles.sh
Log:
- Add some strings to Language+ Update languages
- Update French Language
- Resolve problem end round and alliance in team mode
- Remove unused backbuffer 
- Loading palette only one time
- Add Language directory in script

Modified: trunk/netpanzer/Languages/de.po
===================================================================
--- trunk/netpanzer/Languages/de.po	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/Languages/de.po	2012-10-31 21:08:26 UTC (rev 1422)
@@ -7,7 +7,7 @@
 msgstr &quot;&quot;
 &quot;Project-Id-Version: netPanzer 1.0\n&quot;
 &quot;Report-Msgid-Bugs-To: \n&quot;
-&quot;POT-Creation-Date: 2012-10-24 22:10+0200\n&quot;
+&quot;POT-Creation-Date: 2012-10-31 21:50+0100\n&quot;
 &quot;PO-Revision-Date: 2012-10-19 13:03+0100\n&quot;
 &quot;Last-Translator: \n&quot;
 &quot;Language-Team: \n&quot;
@@ -24,148 +24,148 @@
 msgid &quot;Loading Main View...&quot;
 msgstr &quot;Karte wird geladen...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:89
+#: Classes/Network/ClientConnectDaemon.cpp:91
 msgid &quot;Connecting to server &quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:103
+#: Classes/Network/ClientConnectDaemon.cpp:105
 msgid &quot;Link to Server Established&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:104
+#: Classes/Network/ClientConnectDaemon.cpp:106
 #, c-format
 msgid &quot;Protocol Version: %u&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:111
-#: Classes/Network/ClientConnectDaemon.cpp:122
-#: Classes/Network/ClientConnectDaemon.cpp:130
-#: Classes/Network/ClientConnectDaemon.cpp:138
-#: Classes/Network/ClientConnectDaemon.cpp:145
-#: Classes/Network/ClientConnectDaemon.cpp:152
+#: Classes/Network/ClientConnectDaemon.cpp:113
+#: Classes/Network/ClientConnectDaemon.cpp:124
+#: Classes/Network/ClientConnectDaemon.cpp:132
+#: Classes/Network/ClientConnectDaemon.cpp:140
+#: Classes/Network/ClientConnectDaemon.cpp:147
+#: Classes/Network/ClientConnectDaemon.cpp:154
 msgid &quot;Link to Server FAILED!&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:112
+#: Classes/Network/ClientConnectDaemon.cpp:114
 msgid &quot;Incompatible game:&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:123
+#: Classes/Network/ClientConnectDaemon.cpp:125
 msgid &quot;Server is VERY busy&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:124
+#: Classes/Network/ClientConnectDaemon.cpp:126
 msgid &quot;Please try in a few minutes&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:131
+#: Classes/Network/ClientConnectDaemon.cpp:133
 msgid &quot;Your IP is already connected to this server&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:132
+#: Classes/Network/ClientConnectDaemon.cpp:134
 msgid &quot;The server limits multiple connections from same IP&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:139
+#: Classes/Network/ClientConnectDaemon.cpp:141
 msgid &quot;The password for server was wrong.&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:146
+#: Classes/Network/ClientConnectDaemon.cpp:148
 msgid &quot;You are banned in this server&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:153
+#: Classes/Network/ClientConnectDaemon.cpp:155
 msgid &quot;Unknown result sent from server&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:169
+#: Classes/Network/ClientConnectDaemon.cpp:171
 #, c-format
 msgid &quot;Your Position In Queue is %d &quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:187
-#: Classes/Network/ClientConnectDaemon.cpp:434
-#: Classes/Network/ClientConnectDaemon.cpp:453
-#: Classes/Network/ClientConnectDaemon.cpp:463
+#: Classes/Network/ClientConnectDaemon.cpp:189
+#: Classes/Network/ClientConnectDaemon.cpp:436
+#: Classes/Network/ClientConnectDaemon.cpp:455
+#: Classes/Network/ClientConnectDaemon.cpp:465
 #, fuzzy
 msgid &quot;Loading Game Data ...&quot;
 msgstr &quot;Karte wird geladen...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:193
-#: Classes/Network/ClientConnectDaemon.cpp:200
+#: Classes/Network/ClientConnectDaemon.cpp:195
+#: Classes/Network/ClientConnectDaemon.cpp:202
 msgid &quot;Synchronizing Player Info ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:207
+#: Classes/Network/ClientConnectDaemon.cpp:209
 msgid &quot;Synchronizing unit profiles...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:213
-#: Classes/Network/ClientConnectDaemon.cpp:220
+#: Classes/Network/ClientConnectDaemon.cpp:215
+#: Classes/Network/ClientConnectDaemon.cpp:222
 msgid &quot;Synchronizing Game Elements ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:228
+#: Classes/Network/ClientConnectDaemon.cpp:230
 msgid &quot;Game Synchronized&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:238
+#: Classes/Network/ClientConnectDaemon.cpp:240
 msgid &quot;Server has terminated the game&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:268
+#: Classes/Network/ClientConnectDaemon.cpp:270
 msgid &quot;Error in server connection&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:279
+#: Classes/Network/ClientConnectDaemon.cpp:281
 msgid &quot;Connect Failure: Server Too Busy&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:285
-#: Classes/Network/ClientConnectDaemon.cpp:351
+#: Classes/Network/ClientConnectDaemon.cpp:287
+#: Classes/Network/ClientConnectDaemon.cpp:353
 msgid &quot;Connect Failure: Server Full&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:291
+#: Classes/Network/ClientConnectDaemon.cpp:293
 msgid &quot;Connect Failure: You are aready connected&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:320
+#: Classes/Network/ClientConnectDaemon.cpp:322
 msgid &quot;Server is not responding...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:325
+#: Classes/Network/ClientConnectDaemon.cpp:327
 msgid &quot;Connection to server failed...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:326
+#: Classes/Network/ClientConnectDaemon.cpp:328
 msgid &quot;it might be older netpanzer or server is down&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:342
+#: Classes/Network/ClientConnectDaemon.cpp:344
 msgid &quot;Connecting ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:398
+#: Classes/Network/ClientConnectDaemon.cpp:400
 msgid &quot;Connection To Server Failed&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:419
+#: Classes/Network/ClientConnectDaemon.cpp:421
 #: Interfaces/GameControlRulesDaemon.cpp:636
 #, c-format
 msgid &quot;MAP %s NOT FOUND!&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:426
+#: Classes/Network/ClientConnectDaemon.cpp:428
 #: Interfaces/GameControlRulesDaemon.cpp:641
 msgid &quot;MAP TILE SET NOT FOUND!&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:427
+#: Classes/Network/ClientConnectDaemon.cpp:429
 msgid &quot;please download the appropriate tileset&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:428
+#: Classes/Network/ClientConnectDaemon.cpp:430
 msgid &quot;from www.pyrosoftgames.com&quot;
 msgstr &quot;&quot;
 
@@ -174,6 +174,26 @@
 msgid &quot;connection error: %s&quot;
 msgstr &quot;&quot;
 
+#: Classes/Network/NetworkServer.cpp:368
+#, c-format
+msgid &quot;'%s' has left.&quot;
+msgstr &quot;&quot;
+
+#: Classes/Network/ServerConnectDaemon.cpp:95
+#, c-format
+msgid &quot;'%s' [%s] has joined the game int team %s.&quot;
+msgstr &quot;&quot;
+
+#: Classes/Network/ServerConnectDaemon.cpp:102
+#, c-format
+msgid &quot;'%s' [%s] has joined the game.&quot;
+msgstr &quot;&quot;
+
+#: Classes/WorldInputCmdProcessor.cpp:511
+#, c-format
+msgid &quot;Group %d created&quot;
+msgstr &quot;&quot;
+
 #: Core/NetworkGlobals.cpp:45
 #, c-format
 msgid &quot;This server requires older netpanzer %s&quot;
@@ -191,6 +211,7 @@
 msgid &quot;This server is a newer netpanzer, please check <A HREF="http://www.netpanzer.org">http://www.netpanzer.org</A>&quot;
 msgstr &quot;&quot;
 
+#: Interfaces/ChatInterface.cpp:108 Interfaces/ChatInterface.cpp:158
 #: Interfaces/ChatInterface.cpp:176
 #, c-format
 msgid &quot;Server: %s&quot;
@@ -204,6 +225,7 @@
 #: Interfaces/GameControlRulesDaemon.cpp:133
 #: Interfaces/GameControlRulesDaemon.cpp:162
 #: Interfaces/GameControlRulesDaemon.cpp:169
+#: Interfaces/GameControlRulesDaemon.cpp:297
 #: Interfaces/GameControlRulesDaemon.cpp:334
 msgid &quot;Loading Game Map...&quot;
 msgstr &quot;Karte wird geladen...&quot;
@@ -216,6 +238,15 @@
 msgid &quot;Waiting to respawn...&quot;
 msgstr &quot;Warten auf respawn...&quot;
 
+#: Interfaces/GameControlRulesDaemon.cpp:272
+#, fuzzy, c-format
+msgid &quot;loading map '%s'.&quot;
+msgstr &quot;Karte wird geladen...&quot;
+
+#: Interfaces/GameControlRulesDaemon.cpp:344
+msgid &quot;game started.&quot;
+msgstr &quot;&quot;
+
 #: Interfaces/GameManager.cpp:188
 msgid &quot;Please wait... generating palettes&quot;
 msgstr &quot;&quot;
@@ -245,35 +276,45 @@
 msgid &quot;Player %s was kicked&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:282 Interfaces/PlayerGameManager.cpp:332
+#: Interfaces/PlayerGameManager.cpp:282 Interfaces/PlayerGameManager.cpp:347
 msgid &quot;Launching Server...&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:322
+#: Interfaces/PlayerGameManager.cpp:337
 msgid &quot;SERVER LAUNCH FAILED&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:337 Interfaces/PlayerGameManager.cpp:357
-#: Interfaces/PlayerGameManager.cpp:392
+#: Interfaces/PlayerGameManager.cpp:352 Interfaces/PlayerGameManager.cpp:376
+#: Interfaces/PlayerGameManager.cpp:414
 msgid &quot;Loading Game Data&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:365
+#: Interfaces/PlayerGameManager.cpp:384
 msgid &quot;ERROR unit profiles&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:366
+#: Interfaces/PlayerGameManager.cpp:385
 msgid &quot;game.unit_profiles&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:397 Interfaces/PlayerGameManager.cpp:401
+#: Interfaces/PlayerGameManager.cpp:419 Interfaces/PlayerGameManager.cpp:423
 msgid &quot;Initializing Game Logic&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:404 Interfaces/PlayerGameManager.cpp:411
+#: Interfaces/PlayerGameManager.cpp:426 Interfaces/PlayerGameManager.cpp:433
 msgid &quot;Spawning Player&quot;
 msgstr &quot;&quot;
 
+#: Interfaces/PlayerGameManager.cpp:515
+#, c-format
+msgid &quot;Server kicked '%s' due to inactivity&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/PlayerInterface.cpp:156
+#, fuzzy, c-format
+msgid &quot;Player %u&quot;
+msgstr &quot;Spielen&quot;
+
 #: Interfaces/PlayerInterface.cpp:672
 #, c-format
 msgid &quot;You accepted %s alliance request.&quot;
@@ -314,11 +355,48 @@
 msgid &quot;%s canceled the alliance request with you.&quot;
 msgstr &quot;&quot;
 
+#: Interfaces/VoteManager.cpp:43
+msgid &quot;Surrendering vote, you choose surrendering?&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:132
+#, c-format
+msgid &quot;%d %% players has voted YES, %d %% has voted NO&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:139
+#, c-format
+msgid &quot;%s team has accepted surrendering. Round is over&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:194
+#, c-format
+msgid &quot;Player %s request vote&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:211
+#, c-format
+msgid &quot;player %s has voted, waiting %d votes&quot;
+msgstr &quot;&quot;
+
 #: Objectives/Objective.cpp:76
 #, c-format
 msgid &quot;'%s' has been occupied by '%s'&quot;
 msgstr &quot;&quot;
 
+#: PowerUps/BonusUnitPowerUp.cpp:83 PowerUps/BonusUnitPowerUp.cpp:94
+msgid &quot;YOU GOT A BONUS UNITS POWERUP&quot;
+msgstr &quot;&quot;
+
+#: PowerUps/EnemyRadarPowerUp.cpp:45
+msgid &quot;YOU GOT AN ENEMY RADAR POWERUP&quot;
+msgstr &quot;&quot;
+
+#: PowerUps/UnitPowerUp.cpp:180 PowerUps/UnitPowerUp.cpp:192
+#, c-format
+msgid &quot;YOU GOT A %s POWERUP&quot;
+msgstr &quot;&quot;
+
 #: Scripts/ScriptManager.cpp:274
 msgid &quot;Error running user command&quot;
 msgstr &quot;&quot;
@@ -368,27 +446,32 @@
 msgid &quot;There is no defined ServerCommands&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: System/SDLVideo.cpp:215
+#, c-format
+msgid &quot;Screenshoot saved as: %s&quot;
+msgstr &quot;&quot;
+
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;game&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;units&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;frags&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;objs.&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;time&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;FPS&quot;
 msgstr &quot;&quot;
 

Modified: trunk/netpanzer/Languages/fr.po
===================================================================
--- trunk/netpanzer/Languages/fr.po	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/Languages/fr.po	2012-10-31 21:08:26 UTC (rev 1422)
@@ -7,7 +7,7 @@
 msgstr &quot;&quot;
 &quot;Project-Id-Version: netPanzer 1.0\n&quot;
 &quot;Report-Msgid-Bugs-To: \n&quot;
-&quot;POT-Creation-Date: 2012-10-24 22:10+0200\n&quot;
+&quot;POT-Creation-Date: 2012-10-31 21:50+0100\n&quot;
 &quot;PO-Revision-Date: 2012-10-23 08:41+0100\n&quot;
 &quot;Last-Translator: Wile64\n&quot;
 &quot;Language-Team: Wile64\n&quot;
@@ -24,147 +24,147 @@
 msgid &quot;Loading Main View...&quot;
 msgstr &quot;Chargement des nouvelles...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:89
+#: Classes/Network/ClientConnectDaemon.cpp:91
 msgid &quot;Connecting to server &quot;
 msgstr &quot;Connexion au serveur &quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:103
+#: Classes/Network/ClientConnectDaemon.cpp:105
 msgid &quot;Link to Server Established&quot;
 msgstr &quot;Liaison au serveur &#233;tabli&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:104
+#: Classes/Network/ClientConnectDaemon.cpp:106
 #, c-format
 msgid &quot;Protocol Version: %u&quot;
 msgstr &quot;Version du protocole : %u&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:111
-#: Classes/Network/ClientConnectDaemon.cpp:122
-#: Classes/Network/ClientConnectDaemon.cpp:130
-#: Classes/Network/ClientConnectDaemon.cpp:138
-#: Classes/Network/ClientConnectDaemon.cpp:145
-#: Classes/Network/ClientConnectDaemon.cpp:152
+#: Classes/Network/ClientConnectDaemon.cpp:113
+#: Classes/Network/ClientConnectDaemon.cpp:124
+#: Classes/Network/ClientConnectDaemon.cpp:132
+#: Classes/Network/ClientConnectDaemon.cpp:140
+#: Classes/Network/ClientConnectDaemon.cpp:147
+#: Classes/Network/ClientConnectDaemon.cpp:154
 msgid &quot;Link to Server FAILED!&quot;
 msgstr &quot;La liaison au serveur a &#233;chou&#233;!&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:112
+#: Classes/Network/ClientConnectDaemon.cpp:114
 msgid &quot;Incompatible game:&quot;
 msgstr &quot;Jeu incompatibles :&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:123
+#: Classes/Network/ClientConnectDaemon.cpp:125
 msgid &quot;Server is VERY busy&quot;
 msgstr &quot;Le serveur est tr&#232;s occup&#233;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:124
+#: Classes/Network/ClientConnectDaemon.cpp:126
 msgid &quot;Please try in a few minutes&quot;
 msgstr &quot;S'il vous pla&#238;t r&#233;essayez dans quelques minutes&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:131
+#: Classes/Network/ClientConnectDaemon.cpp:133
 msgid &quot;Your IP is already connected to this server&quot;
 msgstr &quot;Votre adresse IP est d&#233;j&#224; connect&#233; &#224; ce serveur&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:132
+#: Classes/Network/ClientConnectDaemon.cpp:134
 msgid &quot;The server limits multiple connections from same IP&quot;
 msgstr &quot;Le serveur limite les connexions multiples &#224; partir de la m&#234;me IP&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:139
+#: Classes/Network/ClientConnectDaemon.cpp:141
 msgid &quot;The password for server was wrong.&quot;
 msgstr &quot;Le mot de passe du serveur est incorrect.&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:146
+#: Classes/Network/ClientConnectDaemon.cpp:148
 msgid &quot;You are banned in this server&quot;
 msgstr &quot;Vous &#234;tes banni de ce serveur&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:153
+#: Classes/Network/ClientConnectDaemon.cpp:155
 msgid &quot;Unknown result sent from server&quot;
 msgstr &quot;R&#233;sultat inconnu envoy&#233; par le serveur&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:169
+#: Classes/Network/ClientConnectDaemon.cpp:171
 #, c-format
 msgid &quot;Your Position In Queue is %d &quot;
 msgstr &quot;Votre position dans la file d'attente est %d&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:187
-#: Classes/Network/ClientConnectDaemon.cpp:434
-#: Classes/Network/ClientConnectDaemon.cpp:453
-#: Classes/Network/ClientConnectDaemon.cpp:463
+#: Classes/Network/ClientConnectDaemon.cpp:189
+#: Classes/Network/ClientConnectDaemon.cpp:436
+#: Classes/Network/ClientConnectDaemon.cpp:455
+#: Classes/Network/ClientConnectDaemon.cpp:465
 msgid &quot;Loading Game Data ...&quot;
 msgstr &quot;Chargement des donn&#233;es du jeu&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:193
-#: Classes/Network/ClientConnectDaemon.cpp:200
+#: Classes/Network/ClientConnectDaemon.cpp:195
+#: Classes/Network/ClientConnectDaemon.cpp:202
 msgid &quot;Synchronizing Player Info ...&quot;
 msgstr &quot;Synchronisation des infos du joueur...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:207
+#: Classes/Network/ClientConnectDaemon.cpp:209
 msgid &quot;Synchronizing unit profiles...&quot;
 msgstr &quot;Synchronisation des profils unit&#233;s ...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:213
-#: Classes/Network/ClientConnectDaemon.cpp:220
+#: Classes/Network/ClientConnectDaemon.cpp:215
+#: Classes/Network/ClientConnectDaemon.cpp:222
 msgid &quot;Synchronizing Game Elements ...&quot;
 msgstr &quot;Synchronisation des &#233;l&#233;ments du jeu ...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:228
+#: Classes/Network/ClientConnectDaemon.cpp:230
 msgid &quot;Game Synchronized&quot;
 msgstr &quot;Jeu synchronis&#233;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:238
+#: Classes/Network/ClientConnectDaemon.cpp:240
 msgid &quot;Server has terminated the game&quot;
 msgstr &quot;Le serveur a mis fin &#224; la partie&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:268
+#: Classes/Network/ClientConnectDaemon.cpp:270
 msgid &quot;Error in server connection&quot;
 msgstr &quot;Erreur dans la connexion au serveur&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:279
+#: Classes/Network/ClientConnectDaemon.cpp:281
 msgid &quot;Connect Failure: Server Too Busy&quot;
 msgstr &quot;&#201;chec de connexion : Serveur surcharg&#233;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:285
-#: Classes/Network/ClientConnectDaemon.cpp:351
+#: Classes/Network/ClientConnectDaemon.cpp:287
+#: Classes/Network/ClientConnectDaemon.cpp:353
 msgid &quot;Connect Failure: Server Full&quot;
 msgstr &quot;&#201;chec de connexion : Serveur plein&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:291
+#: Classes/Network/ClientConnectDaemon.cpp:293
 msgid &quot;Connect Failure: You are aready connected&quot;
 msgstr &quot;&#201;chec de connexion : Vous &#234;tes d&#233;j&#224; connect&#233;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:320
+#: Classes/Network/ClientConnectDaemon.cpp:322
 msgid &quot;Server is not responding...&quot;
 msgstr &quot;Le serveur ne r&#233;pond pas ...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:325
+#: Classes/Network/ClientConnectDaemon.cpp:327
 msgid &quot;Connection to server failed...&quot;
 msgstr &quot;La connexion au serveur a &#233;chou&#233; ...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:326
+#: Classes/Network/ClientConnectDaemon.cpp:328
 msgid &quot;it might be older netpanzer or server is down&quot;
 msgstr &quot;Il pourrait &#234;tre un ancien netPanzer ou le serveur est en panne&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:342
+#: Classes/Network/ClientConnectDaemon.cpp:344
 msgid &quot;Connecting ...&quot;
 msgstr &quot;Connexion en cours ...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:398
+#: Classes/Network/ClientConnectDaemon.cpp:400
 msgid &quot;Connection To Server Failed&quot;
 msgstr &quot;&#201;chec de la connexion au serveur&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:419
+#: Classes/Network/ClientConnectDaemon.cpp:421
 #: Interfaces/GameControlRulesDaemon.cpp:636
 #, c-format
 msgid &quot;MAP %s NOT FOUND!&quot;
 msgstr &quot;CARTE %s INTROUVABLE !&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:426
+#: Classes/Network/ClientConnectDaemon.cpp:428
 #: Interfaces/GameControlRulesDaemon.cpp:641
 msgid &quot;MAP TILE SET NOT FOUND!&quot;
 msgstr &quot;LE TILESET POUR LA CARTE INTROUVABLE !&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:427
+#: Classes/Network/ClientConnectDaemon.cpp:429
 msgid &quot;please download the appropriate tileset&quot;
 msgstr &quot;s'il vous pla&#238;t t&#233;l&#233;charger le tileset appropri&#233;e&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:428
+#: Classes/Network/ClientConnectDaemon.cpp:430
 msgid &quot;from www.pyrosoftgames.com&quot;
 msgstr &quot;&#224; partir www.pyrosoftgames.com&quot;
 
@@ -173,6 +173,26 @@
 msgid &quot;connection error: %s&quot;
 msgstr &quot;Erreur de connexion : %s&quot;
 
+#: Classes/Network/NetworkServer.cpp:368
+#, fuzzy, c-format
+msgid &quot;'%s' has left.&quot;
+msgstr &quot;%s a quitt&#233; la parti.&quot;
+
+#: Classes/Network/ServerConnectDaemon.cpp:95
+#, fuzzy, c-format
+msgid &quot;'%s' [%s] has joined the game int team %s.&quot;
+msgstr &quot;%s a rejoind la parti dans l'&#233;quipe %s.&quot;
+
+#: Classes/Network/ServerConnectDaemon.cpp:102
+#, fuzzy, c-format
+msgid &quot;'%s' [%s] has joined the game.&quot;
+msgstr &quot;%s a rejoind la parti.&quot;
+
+#: Classes/WorldInputCmdProcessor.cpp:511
+#, c-format
+msgid &quot;Group %d created&quot;
+msgstr &quot;Groupe %s cr&#233;&#233;e&quot;
+
 #: Core/NetworkGlobals.cpp:45
 #, fuzzy, c-format
 msgid &quot;This server requires older netpanzer %s&quot;
@@ -190,6 +210,7 @@
 msgid &quot;This server is a newer netpanzer, please check <A HREF="http://www.netpanzer.org">http://www.netpanzer.org</A>&quot;
 msgstr &quot;Nouveau serveur, v&#233;rifier ici <A HREF="http://www.netpanzer.org">http://www.netpanzer.org</A>&quot;
 
+#: Interfaces/ChatInterface.cpp:108 Interfaces/ChatInterface.cpp:158
 #: Interfaces/ChatInterface.cpp:176
 #, c-format
 msgid &quot;Server: %s&quot;
@@ -203,6 +224,7 @@
 #: Interfaces/GameControlRulesDaemon.cpp:133
 #: Interfaces/GameControlRulesDaemon.cpp:162
 #: Interfaces/GameControlRulesDaemon.cpp:169
+#: Interfaces/GameControlRulesDaemon.cpp:297
 #: Interfaces/GameControlRulesDaemon.cpp:334
 msgid &quot;Loading Game Map...&quot;
 msgstr &quot;Chargement de la carte...&quot;
@@ -215,6 +237,16 @@
 msgid &quot;Waiting to respawn...&quot;
 msgstr &quot;En attente de r&#233;apparition...&quot;
 
+#: Interfaces/GameControlRulesDaemon.cpp:272
+#, fuzzy, c-format
+msgid &quot;loading map '%s'.&quot;
+msgstr &quot;Chargement de la carte...&quot;
+
+#: Interfaces/GameControlRulesDaemon.cpp:344
+#, fuzzy
+msgid &quot;game started.&quot;
+msgstr &quot;Li&#233;s au Jeu&quot;
+
 #: Interfaces/GameManager.cpp:188
 msgid &quot;Please wait... generating palettes&quot;
 msgstr &quot;Patientez... g&#233;n&#233;ration des palettes&quot;
@@ -244,35 +276,45 @@
 msgid &quot;Player %s was kicked&quot;
 msgstr &quot;Le joueur%s a &#233;t&#233; expuls&#233;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:282 Interfaces/PlayerGameManager.cpp:332
+#: Interfaces/PlayerGameManager.cpp:282 Interfaces/PlayerGameManager.cpp:347
 msgid &quot;Launching Server...&quot;
 msgstr &quot;Lancement du serveur...&quot;
 
-#: Interfaces/PlayerGameManager.cpp:322
+#: Interfaces/PlayerGameManager.cpp:337
 msgid &quot;SERVER LAUNCH FAILED&quot;
 msgstr &quot;Le lancement du serveur a &#233;chou&#233;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:337 Interfaces/PlayerGameManager.cpp:357
-#: Interfaces/PlayerGameManager.cpp:392
+#: Interfaces/PlayerGameManager.cpp:352 Interfaces/PlayerGameManager.cpp:376
+#: Interfaces/PlayerGameManager.cpp:414
 msgid &quot;Loading Game Data&quot;
 msgstr &quot;Chargement des donn&#233;es du jeu&quot;
 
-#: Interfaces/PlayerGameManager.cpp:365
+#: Interfaces/PlayerGameManager.cpp:384
 msgid &quot;ERROR unit profiles&quot;
 msgstr &quot;ERROR unit profiles&quot;
 
-#: Interfaces/PlayerGameManager.cpp:366
+#: Interfaces/PlayerGameManager.cpp:385
 msgid &quot;game.unit_profiles&quot;
 msgstr &quot;game.unit_profiles&quot;
 
-#: Interfaces/PlayerGameManager.cpp:397 Interfaces/PlayerGameManager.cpp:401
+#: Interfaces/PlayerGameManager.cpp:419 Interfaces/PlayerGameManager.cpp:423
 msgid &quot;Initializing Game Logic&quot;
 msgstr &quot;Initialisation de la logique de jeu&quot;
 
-#: Interfaces/PlayerGameManager.cpp:404 Interfaces/PlayerGameManager.cpp:411
+#: Interfaces/PlayerGameManager.cpp:426 Interfaces/PlayerGameManager.cpp:433
 msgid &quot;Spawning Player&quot;
 msgstr &quot;Apparition du joueur&quot;
 
+#: Interfaces/PlayerGameManager.cpp:515
+#, c-format
+msgid &quot;Server kicked '%s' due to inactivity&quot;
+msgstr &quot;Le Serveur a expuls&#233; '% s' due &#224; une inactivit&#233;e&quot;
+
+#: Interfaces/PlayerInterface.cpp:156
+#, fuzzy, c-format
+msgid &quot;Player %u&quot;
+msgstr &quot;Joueurs&quot;
+
 #: Interfaces/PlayerInterface.cpp:672
 #, c-format
 msgid &quot;You accepted %s alliance request.&quot;
@@ -313,11 +355,48 @@
 msgid &quot;%s canceled the alliance request with you.&quot;
 msgstr &quot;%s a annul&#233; la requ&#234;te d'alliance avec vous.&quot;
 
+#: Interfaces/VoteManager.cpp:43
+msgid &quot;Surrendering vote, you choose surrendering?&quot;
+msgstr &quot;Vote pour Abandons, vous choisissez de vous rendre ?&quot;
+
+#: Interfaces/VoteManager.cpp:132
+#, fuzzy, c-format
+msgid &quot;%d %% players has voted YES, %d %% has voted NO&quot;
+msgstr &quot;joueur %s a vot&#233;, en attente de %d votes&quot;
+
+#: Interfaces/VoteManager.cpp:139
+#, c-format
+msgid &quot;%s team has accepted surrendering. Round is over&quot;
+msgstr &quot;L'&#233;quipe %s a accept&#233; de se rendre. Le match est termin&#233;e&quot;
+
+#: Interfaces/VoteManager.cpp:194
+#, fuzzy, c-format
+msgid &quot;Player %s request vote&quot;
+msgstr &quot;Le joueur%s a &#233;t&#233; expuls&#233;&quot;
+
+#: Interfaces/VoteManager.cpp:211
+#, c-format
+msgid &quot;player %s has voted, waiting %d votes&quot;
+msgstr &quot;joueur %s a vot&#233;, en attente de %d votes&quot;
+
 #: Objectives/Objective.cpp:76
 #, c-format
 msgid &quot;'%s' has been occupied by '%s'&quot;
 msgstr &quot;'%s' est occup&#233; par '%s'&quot;
 
+#: PowerUps/BonusUnitPowerUp.cpp:83 PowerUps/BonusUnitPowerUp.cpp:94
+msgid &quot;YOU GOT A BONUS UNITS POWERUP&quot;
+msgstr &quot;VOUS AVEZ LE BONUS UNIT&#201;S PUISSANTENT &quot;
+
+#: PowerUps/EnemyRadarPowerUp.cpp:45
+msgid &quot;YOU GOT AN ENEMY RADAR POWERUP&quot;
+msgstr &quot;VOUS AVEZ LE BONUS RADAR ENNEMI&quot;
+
+#: PowerUps/UnitPowerUp.cpp:180 PowerUps/UnitPowerUp.cpp:192
+#, c-format
+msgid &quot;YOU GOT A %s POWERUP&quot;
+msgstr &quot;VOUS AVEZ UN BONUS %s&quot;
+
 #: Scripts/ScriptManager.cpp:274
 msgid &quot;Error running user command&quot;
 msgstr &quot;Erreur d'ex&#233;cution de la commande utilisateur&quot;
@@ -353,7 +432,7 @@
 
 #: Scripts/ScriptManager.cpp:355
 msgid &quot;Server command '&quot;
-msgstr &quot;Commande serveur  '&quot;
+msgstr &quot;Commande serveur '&quot;
 
 #: Scripts/ScriptManager.cpp:355
 msgid &quot;' not found&quot;
@@ -367,30 +446,35 @@
 msgid &quot;There is no defined ServerCommands&quot;
 msgstr &quot;Il n'y a pas ServerCommands d&#233;finies&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: System/SDLVideo.cpp:215
+#, c-format
+msgid &quot;Screenshoot saved as: %s&quot;
+msgstr &quot;Capture d'&#233;cran enregistr&#233;e : %s&quot;
+
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;game&quot;
 msgstr &quot;Jeu&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 #, fuzzy
 msgid &quot;units&quot;
 msgstr &quot;Unit&#233;s&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 #, fuzzy
 msgid &quot;frags&quot;
 msgstr &quot;tu&#233;s&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;objs.&quot;
 msgstr &quot;Objs.&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 #, fuzzy
 msgid &quot;time&quot;
 msgstr &quot;Temps&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;FPS&quot;
 msgstr &quot;FPS&quot;
 
@@ -1394,8 +1478,5 @@
 msgid &quot;Music Volume:&quot;
 msgstr &quot;Volume musique :&quot;
 
-#~ msgid &quot;player %s has voted, waiting %d votes&quot;
-#~ msgstr &quot;joueur %s a vot&#233;, en attente de %d votes&quot;
-
 #~ msgid &quot;/server listprofiles&quot;
 #~ msgstr &quot;/server listprofiles&quot;

Modified: trunk/netpanzer/Languages/it.po
===================================================================
--- trunk/netpanzer/Languages/it.po	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/Languages/it.po	2012-10-31 21:08:26 UTC (rev 1422)
@@ -7,7 +7,7 @@
 msgstr &quot;&quot;
 &quot;Project-Id-Version: netPanzer 1.0\n&quot;
 &quot;Report-Msgid-Bugs-To: \n&quot;
-&quot;POT-Creation-Date: 2012-10-24 22:10+0200\n&quot;
+&quot;POT-Creation-Date: 2012-10-31 21:50+0100\n&quot;
 &quot;PO-Revision-Date: 2012-10-20 02:42+0100\n&quot;
 &quot;Last-Translator: fu &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/netpanzer-cvs">fu.msn at live.com</A>&gt;\n&quot;
 &quot;Language-Team: \n&quot;
@@ -24,150 +24,150 @@
 msgid &quot;Loading Main View...&quot;
 msgstr &quot;Caricamento Nuova Mappa...&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:89
+#: Classes/Network/ClientConnectDaemon.cpp:91
 msgid &quot;Connecting to server &quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:103
+#: Classes/Network/ClientConnectDaemon.cpp:105
 msgid &quot;Link to Server Established&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:104
+#: Classes/Network/ClientConnectDaemon.cpp:106
 #, c-format
 msgid &quot;Protocol Version: %u&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:111
-#: Classes/Network/ClientConnectDaemon.cpp:122
-#: Classes/Network/ClientConnectDaemon.cpp:130
-#: Classes/Network/ClientConnectDaemon.cpp:138
-#: Classes/Network/ClientConnectDaemon.cpp:145
-#: Classes/Network/ClientConnectDaemon.cpp:152
+#: Classes/Network/ClientConnectDaemon.cpp:113
+#: Classes/Network/ClientConnectDaemon.cpp:124
+#: Classes/Network/ClientConnectDaemon.cpp:132
+#: Classes/Network/ClientConnectDaemon.cpp:140
+#: Classes/Network/ClientConnectDaemon.cpp:147
+#: Classes/Network/ClientConnectDaemon.cpp:154
 msgid &quot;Link to Server FAILED!&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:112
+#: Classes/Network/ClientConnectDaemon.cpp:114
 msgid &quot;Incompatible game:&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:123
+#: Classes/Network/ClientConnectDaemon.cpp:125
 msgid &quot;Server is VERY busy&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:124
+#: Classes/Network/ClientConnectDaemon.cpp:126
 msgid &quot;Please try in a few minutes&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:131
+#: Classes/Network/ClientConnectDaemon.cpp:133
 msgid &quot;Your IP is already connected to this server&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:132
+#: Classes/Network/ClientConnectDaemon.cpp:134
 msgid &quot;The server limits multiple connections from same IP&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:139
+#: Classes/Network/ClientConnectDaemon.cpp:141
 msgid &quot;The password for server was wrong.&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:146
+#: Classes/Network/ClientConnectDaemon.cpp:148
 msgid &quot;You are banned in this server&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:153
+#: Classes/Network/ClientConnectDaemon.cpp:155
 #, fuzzy
 msgid &quot;Unknown result sent from server&quot;
 msgstr &quot;Nessuna risposta dal Masterserver&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:169
+#: Classes/Network/ClientConnectDaemon.cpp:171
 #, c-format
 msgid &quot;Your Position In Queue is %d &quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:187
-#: Classes/Network/ClientConnectDaemon.cpp:434
-#: Classes/Network/ClientConnectDaemon.cpp:453
-#: Classes/Network/ClientConnectDaemon.cpp:463
+#: Classes/Network/ClientConnectDaemon.cpp:189
+#: Classes/Network/ClientConnectDaemon.cpp:436
+#: Classes/Network/ClientConnectDaemon.cpp:455
+#: Classes/Network/ClientConnectDaemon.cpp:465
 #, fuzzy
 msgid &quot;Loading Game Data ...&quot;
 msgstr &quot;Caricamento Dati&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:193
-#: Classes/Network/ClientConnectDaemon.cpp:200
+#: Classes/Network/ClientConnectDaemon.cpp:195
+#: Classes/Network/ClientConnectDaemon.cpp:202
 msgid &quot;Synchronizing Player Info ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:207
+#: Classes/Network/ClientConnectDaemon.cpp:209
 msgid &quot;Synchronizing unit profiles...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:213
-#: Classes/Network/ClientConnectDaemon.cpp:220
+#: Classes/Network/ClientConnectDaemon.cpp:215
+#: Classes/Network/ClientConnectDaemon.cpp:222
 msgid &quot;Synchronizing Game Elements ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:228
+#: Classes/Network/ClientConnectDaemon.cpp:230
 msgid &quot;Game Synchronized&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:238
+#: Classes/Network/ClientConnectDaemon.cpp:240
 #, fuzzy
 msgid &quot;Server has terminated the game&quot;
 msgstr &quot;%s &#232; entrato.&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:268
+#: Classes/Network/ClientConnectDaemon.cpp:270
 msgid &quot;Error in server connection&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:279
+#: Classes/Network/ClientConnectDaemon.cpp:281
 msgid &quot;Connect Failure: Server Too Busy&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:285
-#: Classes/Network/ClientConnectDaemon.cpp:351
+#: Classes/Network/ClientConnectDaemon.cpp:287
+#: Classes/Network/ClientConnectDaemon.cpp:353
 msgid &quot;Connect Failure: Server Full&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:291
+#: Classes/Network/ClientConnectDaemon.cpp:293
 msgid &quot;Connect Failure: You are aready connected&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:320
+#: Classes/Network/ClientConnectDaemon.cpp:322
 msgid &quot;Server is not responding...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:325
+#: Classes/Network/ClientConnectDaemon.cpp:327
 msgid &quot;Connection to server failed...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:326
+#: Classes/Network/ClientConnectDaemon.cpp:328
 msgid &quot;it might be older netpanzer or server is down&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:342
+#: Classes/Network/ClientConnectDaemon.cpp:344
 msgid &quot;Connecting ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:398
+#: Classes/Network/ClientConnectDaemon.cpp:400
 msgid &quot;Connection To Server Failed&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:419
+#: Classes/Network/ClientConnectDaemon.cpp:421
 #: Interfaces/GameControlRulesDaemon.cpp:636
 #, c-format
 msgid &quot;MAP %s NOT FOUND!&quot;
 msgstr &quot;MAPPA %s NON TROVATA!&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:426
+#: Classes/Network/ClientConnectDaemon.cpp:428
 #: Interfaces/GameControlRulesDaemon.cpp:641
 msgid &quot;MAP TILE SET NOT FOUND!&quot;
 msgstr &quot;TILE SET NON TROVATO!&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:427
+#: Classes/Network/ClientConnectDaemon.cpp:429
 msgid &quot;please download the appropriate tileset&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:428
+#: Classes/Network/ClientConnectDaemon.cpp:430
 msgid &quot;from www.pyrosoftgames.com&quot;
 msgstr &quot;&quot;
 
@@ -176,6 +176,26 @@
 msgid &quot;connection error: %s&quot;
 msgstr &quot;&quot;
 
+#: Classes/Network/NetworkServer.cpp:368
+#, fuzzy, c-format
+msgid &quot;'%s' has left.&quot;
+msgstr &quot;%s &#232; uscito.&quot;
+
+#: Classes/Network/ServerConnectDaemon.cpp:95
+#, fuzzy, c-format
+msgid &quot;'%s' [%s] has joined the game int team %s.&quot;
+msgstr &quot;%s &#232; entrato nella squadra %s.&quot;
+
+#: Classes/Network/ServerConnectDaemon.cpp:102
+#, fuzzy, c-format
+msgid &quot;'%s' [%s] has joined the game.&quot;
+msgstr &quot;%s &#232; entrato.&quot;
+
+#: Classes/WorldInputCmdProcessor.cpp:511
+#, c-format
+msgid &quot;Group %d created&quot;
+msgstr &quot;&quot;
+
 #: Core/NetworkGlobals.cpp:45
 #, c-format
 msgid &quot;This server requires older netpanzer %s&quot;
@@ -193,6 +213,7 @@
 msgid &quot;This server is a newer netpanzer, please check <A HREF="http://www.netpanzer.org">http://www.netpanzer.org</A>&quot;
 msgstr &quot;&quot;
 
+#: Interfaces/ChatInterface.cpp:108 Interfaces/ChatInterface.cpp:158
 #: Interfaces/ChatInterface.cpp:176
 #, c-format
 msgid &quot;Server: %s&quot;
@@ -206,6 +227,7 @@
 #: Interfaces/GameControlRulesDaemon.cpp:133
 #: Interfaces/GameControlRulesDaemon.cpp:162
 #: Interfaces/GameControlRulesDaemon.cpp:169
+#: Interfaces/GameControlRulesDaemon.cpp:297
 #: Interfaces/GameControlRulesDaemon.cpp:334
 msgid &quot;Loading Game Map...&quot;
 msgstr &quot;Caricamento Nuova Mappa...&quot;
@@ -218,6 +240,16 @@
 msgid &quot;Waiting to respawn...&quot;
 msgstr &quot;In attesa della rigenerazione...&quot;
 
+#: Interfaces/GameControlRulesDaemon.cpp:272
+#, fuzzy, c-format
+msgid &quot;loading map '%s'.&quot;
+msgstr &quot;Caricamento Nuova Mappa...&quot;
+
+#: Interfaces/GameControlRulesDaemon.cpp:344
+#, fuzzy
+msgid &quot;game started.&quot;
+msgstr &quot;Gioco&quot;
+
 #: Interfaces/GameManager.cpp:188
 msgid &quot;Please wait... generating palettes&quot;
 msgstr &quot;Attendere... creazione palettes&quot;
@@ -247,35 +279,45 @@
 msgid &quot;Player %s was kicked&quot;
 msgstr &quot;Il giocatore %s &#232; stato espulso&quot;
 
-#: Interfaces/PlayerGameManager.cpp:282 Interfaces/PlayerGameManager.cpp:332
+#: Interfaces/PlayerGameManager.cpp:282 Interfaces/PlayerGameManager.cpp:347
 msgid &quot;Launching Server...&quot;
 msgstr &quot;Partenza Del Server...&quot;
 
-#: Interfaces/PlayerGameManager.cpp:322
+#: Interfaces/PlayerGameManager.cpp:337
 msgid &quot;SERVER LAUNCH FAILED&quot;
 msgstr &quot;PARTENZA SERVER FALLITA&quot;
 
-#: Interfaces/PlayerGameManager.cpp:337 Interfaces/PlayerGameManager.cpp:357
-#: Interfaces/PlayerGameManager.cpp:392
+#: Interfaces/PlayerGameManager.cpp:352 Interfaces/PlayerGameManager.cpp:376
+#: Interfaces/PlayerGameManager.cpp:414
 msgid &quot;Loading Game Data&quot;
 msgstr &quot;Caricamento Dati&quot;
 
-#: Interfaces/PlayerGameManager.cpp:365
+#: Interfaces/PlayerGameManager.cpp:384
 msgid &quot;ERROR unit profiles&quot;
 msgstr &quot;ERRORE unit profiles&quot;
 
-#: Interfaces/PlayerGameManager.cpp:366
+#: Interfaces/PlayerGameManager.cpp:385
 msgid &quot;game.unit_profiles&quot;
 msgstr &quot;game.unit_profiles&quot;
 
-#: Interfaces/PlayerGameManager.cpp:397 Interfaces/PlayerGameManager.cpp:401
+#: Interfaces/PlayerGameManager.cpp:419 Interfaces/PlayerGameManager.cpp:423
 msgid &quot;Initializing Game Logic&quot;
 msgstr &quot;Inizializzazione &quot;
 
-#: Interfaces/PlayerGameManager.cpp:404 Interfaces/PlayerGameManager.cpp:411
+#: Interfaces/PlayerGameManager.cpp:426 Interfaces/PlayerGameManager.cpp:433
 msgid &quot;Spawning Player&quot;
 msgstr &quot;Giocatore Rigenerato&quot;
 
+#: Interfaces/PlayerGameManager.cpp:515
+#, c-format
+msgid &quot;Server kicked '%s' due to inactivity&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/PlayerInterface.cpp:156
+#, fuzzy, c-format
+msgid &quot;Player %u&quot;
+msgstr &quot;Giocatori&quot;
+
 #: Interfaces/PlayerInterface.cpp:672
 #, c-format
 msgid &quot;You accepted %s alliance request.&quot;
@@ -316,11 +358,48 @@
 msgid &quot;%s canceled the alliance request with you.&quot;
 msgstr &quot;%s ha cancellato la richiesta di alleanza con te.&quot;
 
+#: Interfaces/VoteManager.cpp:43
+msgid &quot;Surrendering vote, you choose surrendering?&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:132
+#, fuzzy, c-format
+msgid &quot;%d %% players has voted YES, %d %% has voted NO&quot;
+msgstr &quot;Il giocatore %s ha votato, in attesa di %d voti&quot;
+
+#: Interfaces/VoteManager.cpp:139
+#, c-format
+msgid &quot;%s team has accepted surrendering. Round is over&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:194
+#, fuzzy, c-format
+msgid &quot;Player %s request vote&quot;
+msgstr &quot;Il giocatore %s &#232; stato espulso&quot;
+
+#: Interfaces/VoteManager.cpp:211
+#, c-format
+msgid &quot;player %s has voted, waiting %d votes&quot;
+msgstr &quot;Il giocatore %s ha votato, in attesa di %d voti&quot;
+
 #: Objectives/Objective.cpp:76
 #, c-format
 msgid &quot;'%s' has been occupied by '%s'&quot;
 msgstr &quot;&quot;
 
+#: PowerUps/BonusUnitPowerUp.cpp:83 PowerUps/BonusUnitPowerUp.cpp:94
+msgid &quot;YOU GOT A BONUS UNITS POWERUP&quot;
+msgstr &quot;&quot;
+
+#: PowerUps/EnemyRadarPowerUp.cpp:45
+msgid &quot;YOU GOT AN ENEMY RADAR POWERUP&quot;
+msgstr &quot;&quot;
+
+#: PowerUps/UnitPowerUp.cpp:180 PowerUps/UnitPowerUp.cpp:192
+#, c-format
+msgid &quot;YOU GOT A %s POWERUP&quot;
+msgstr &quot;&quot;
+
 #: Scripts/ScriptManager.cpp:274
 msgid &quot;Error running user command&quot;
 msgstr &quot;&quot;
@@ -371,30 +450,35 @@
 msgid &quot;There is no defined ServerCommands&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: System/SDLVideo.cpp:215
+#, c-format
+msgid &quot;Screenshoot saved as: %s&quot;
+msgstr &quot;&quot;
+
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;game&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 #, fuzzy
 msgid &quot;units&quot;
 msgstr &quot;Unit&#224;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 #, fuzzy
 msgid &quot;frags&quot;
 msgstr &quot;Distrutti&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;objs.&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 #, fuzzy
 msgid &quot;time&quot;
 msgstr &quot;timeout&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;FPS&quot;
 msgstr &quot;&quot;
 
@@ -1375,6 +1459,3 @@
 #: Views/MainMenu/OptionsTemplateView.cpp:279
 msgid &quot;Music Volume:&quot;
 msgstr &quot;Volume Musica:&quot;
-
-#~ msgid &quot;player %s has voted, waiting %d votes&quot;
-#~ msgstr &quot;Il giocatore %s ha votato, in attesa di %d voti&quot;

Modified: trunk/netpanzer/Languages/netPanzer.pot
===================================================================
--- trunk/netpanzer/Languages/netPanzer.pot	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/Languages/netPanzer.pot	2012-10-31 21:08:26 UTC (rev 1422)
@@ -8,7 +8,7 @@
 msgstr &quot;&quot;
 &quot;Project-Id-Version: PACKAGE VERSION\n&quot;
 &quot;Report-Msgid-Bugs-To: \n&quot;
-&quot;POT-Creation-Date: 2012-10-24 22:10+0200\n&quot;
+&quot;POT-Creation-Date: 2012-10-31 21:50+0100\n&quot;
 &quot;PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n&quot;
 &quot;Last-Translator: FULL NAME &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/netpanzer-cvs">EMAIL at ADDRESS</A>&gt;\n&quot;
 &quot;Language-Team: LANGUAGE &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/netpanzer-cvs">LL at li.org</A>&gt;\n&quot;
@@ -21,147 +21,147 @@
 msgid &quot;Loading Main View...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:89
+#: Classes/Network/ClientConnectDaemon.cpp:91
 msgid &quot;Connecting to server &quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:103
+#: Classes/Network/ClientConnectDaemon.cpp:105
 msgid &quot;Link to Server Established&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:104
+#: Classes/Network/ClientConnectDaemon.cpp:106
 #, c-format
 msgid &quot;Protocol Version: %u&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:111
-#: Classes/Network/ClientConnectDaemon.cpp:122
-#: Classes/Network/ClientConnectDaemon.cpp:130
-#: Classes/Network/ClientConnectDaemon.cpp:138
-#: Classes/Network/ClientConnectDaemon.cpp:145
-#: Classes/Network/ClientConnectDaemon.cpp:152
+#: Classes/Network/ClientConnectDaemon.cpp:113
+#: Classes/Network/ClientConnectDaemon.cpp:124
+#: Classes/Network/ClientConnectDaemon.cpp:132
+#: Classes/Network/ClientConnectDaemon.cpp:140
+#: Classes/Network/ClientConnectDaemon.cpp:147
+#: Classes/Network/ClientConnectDaemon.cpp:154
 msgid &quot;Link to Server FAILED!&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:112
+#: Classes/Network/ClientConnectDaemon.cpp:114
 msgid &quot;Incompatible game:&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:123
+#: Classes/Network/ClientConnectDaemon.cpp:125
 msgid &quot;Server is VERY busy&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:124
+#: Classes/Network/ClientConnectDaemon.cpp:126
 msgid &quot;Please try in a few minutes&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:131
+#: Classes/Network/ClientConnectDaemon.cpp:133
 msgid &quot;Your IP is already connected to this server&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:132
+#: Classes/Network/ClientConnectDaemon.cpp:134
 msgid &quot;The server limits multiple connections from same IP&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:139
+#: Classes/Network/ClientConnectDaemon.cpp:141
 msgid &quot;The password for server was wrong.&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:146
+#: Classes/Network/ClientConnectDaemon.cpp:148
 msgid &quot;You are banned in this server&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:153
+#: Classes/Network/ClientConnectDaemon.cpp:155
 msgid &quot;Unknown result sent from server&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:169
+#: Classes/Network/ClientConnectDaemon.cpp:171
 #, c-format
 msgid &quot;Your Position In Queue is %d &quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:187
-#: Classes/Network/ClientConnectDaemon.cpp:434
-#: Classes/Network/ClientConnectDaemon.cpp:453
-#: Classes/Network/ClientConnectDaemon.cpp:463
+#: Classes/Network/ClientConnectDaemon.cpp:189
+#: Classes/Network/ClientConnectDaemon.cpp:436
+#: Classes/Network/ClientConnectDaemon.cpp:455
+#: Classes/Network/ClientConnectDaemon.cpp:465
 msgid &quot;Loading Game Data ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:193
-#: Classes/Network/ClientConnectDaemon.cpp:200
+#: Classes/Network/ClientConnectDaemon.cpp:195
+#: Classes/Network/ClientConnectDaemon.cpp:202
 msgid &quot;Synchronizing Player Info ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:207
+#: Classes/Network/ClientConnectDaemon.cpp:209
 msgid &quot;Synchronizing unit profiles...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:213
-#: Classes/Network/ClientConnectDaemon.cpp:220
+#: Classes/Network/ClientConnectDaemon.cpp:215
+#: Classes/Network/ClientConnectDaemon.cpp:222
 msgid &quot;Synchronizing Game Elements ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:228
+#: Classes/Network/ClientConnectDaemon.cpp:230
 msgid &quot;Game Synchronized&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:238
+#: Classes/Network/ClientConnectDaemon.cpp:240
 msgid &quot;Server has terminated the game&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:268
+#: Classes/Network/ClientConnectDaemon.cpp:270
 msgid &quot;Error in server connection&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:279
+#: Classes/Network/ClientConnectDaemon.cpp:281
 msgid &quot;Connect Failure: Server Too Busy&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:285
-#: Classes/Network/ClientConnectDaemon.cpp:351
+#: Classes/Network/ClientConnectDaemon.cpp:287
+#: Classes/Network/ClientConnectDaemon.cpp:353
 msgid &quot;Connect Failure: Server Full&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:291
+#: Classes/Network/ClientConnectDaemon.cpp:293
 msgid &quot;Connect Failure: You are aready connected&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:320
+#: Classes/Network/ClientConnectDaemon.cpp:322
 msgid &quot;Server is not responding...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:325
+#: Classes/Network/ClientConnectDaemon.cpp:327
 msgid &quot;Connection to server failed...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:326
+#: Classes/Network/ClientConnectDaemon.cpp:328
 msgid &quot;it might be older netpanzer or server is down&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:342
+#: Classes/Network/ClientConnectDaemon.cpp:344
 msgid &quot;Connecting ...&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:398
+#: Classes/Network/ClientConnectDaemon.cpp:400
 msgid &quot;Connection To Server Failed&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:419
+#: Classes/Network/ClientConnectDaemon.cpp:421
 #: Interfaces/GameControlRulesDaemon.cpp:636
 #, c-format
 msgid &quot;MAP %s NOT FOUND!&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:426
+#: Classes/Network/ClientConnectDaemon.cpp:428
 #: Interfaces/GameControlRulesDaemon.cpp:641
 msgid &quot;MAP TILE SET NOT FOUND!&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:427
+#: Classes/Network/ClientConnectDaemon.cpp:429
 msgid &quot;please download the appropriate tileset&quot;
 msgstr &quot;&quot;
 
-#: Classes/Network/ClientConnectDaemon.cpp:428
+#: Classes/Network/ClientConnectDaemon.cpp:430
 msgid &quot;from www.pyrosoftgames.com&quot;
 msgstr &quot;&quot;
 
@@ -170,6 +170,26 @@
 msgid &quot;connection error: %s&quot;
 msgstr &quot;&quot;
 
+#: Classes/Network/NetworkServer.cpp:368
+#, c-format
+msgid &quot;'%s' has left.&quot;
+msgstr &quot;&quot;
+
+#: Classes/Network/ServerConnectDaemon.cpp:95
+#, c-format
+msgid &quot;'%s' [%s] has joined the game int team %s.&quot;
+msgstr &quot;&quot;
+
+#: Classes/Network/ServerConnectDaemon.cpp:102
+#, c-format
+msgid &quot;'%s' [%s] has joined the game.&quot;
+msgstr &quot;&quot;
+
+#: Classes/WorldInputCmdProcessor.cpp:511
+#, c-format
+msgid &quot;Group %d created&quot;
+msgstr &quot;&quot;
+
 #: Core/NetworkGlobals.cpp:45
 #, c-format
 msgid &quot;This server requires older netpanzer %s&quot;
@@ -187,6 +207,7 @@
 msgid &quot;This server is a newer netpanzer, please check <A HREF="http://www.netpanzer.org">http://www.netpanzer.org</A>&quot;
 msgstr &quot;&quot;
 
+#: Interfaces/ChatInterface.cpp:108 Interfaces/ChatInterface.cpp:158
 #: Interfaces/ChatInterface.cpp:176
 #, c-format
 msgid &quot;Server: %s&quot;
@@ -200,6 +221,7 @@
 #: Interfaces/GameControlRulesDaemon.cpp:133
 #: Interfaces/GameControlRulesDaemon.cpp:162
 #: Interfaces/GameControlRulesDaemon.cpp:169
+#: Interfaces/GameControlRulesDaemon.cpp:297
 #: Interfaces/GameControlRulesDaemon.cpp:334
 msgid &quot;Loading Game Map...&quot;
 msgstr &quot;&quot;
@@ -212,6 +234,15 @@
 msgid &quot;Waiting to respawn...&quot;
 msgstr &quot;&quot;
 
+#: Interfaces/GameControlRulesDaemon.cpp:272
+#, c-format
+msgid &quot;loading map '%s'.&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/GameControlRulesDaemon.cpp:344
+msgid &quot;game started.&quot;
+msgstr &quot;&quot;
+
 #: Interfaces/GameManager.cpp:188
 msgid &quot;Please wait... generating palettes&quot;
 msgstr &quot;&quot;
@@ -241,35 +272,45 @@
 msgid &quot;Player %s was kicked&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:282 Interfaces/PlayerGameManager.cpp:332
+#: Interfaces/PlayerGameManager.cpp:282 Interfaces/PlayerGameManager.cpp:347
 msgid &quot;Launching Server...&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:322
+#: Interfaces/PlayerGameManager.cpp:337
 msgid &quot;SERVER LAUNCH FAILED&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:337 Interfaces/PlayerGameManager.cpp:357
-#: Interfaces/PlayerGameManager.cpp:392
+#: Interfaces/PlayerGameManager.cpp:352 Interfaces/PlayerGameManager.cpp:376
+#: Interfaces/PlayerGameManager.cpp:414
 msgid &quot;Loading Game Data&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:365
+#: Interfaces/PlayerGameManager.cpp:384
 msgid &quot;ERROR unit profiles&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:366
+#: Interfaces/PlayerGameManager.cpp:385
 msgid &quot;game.unit_profiles&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:397 Interfaces/PlayerGameManager.cpp:401
+#: Interfaces/PlayerGameManager.cpp:419 Interfaces/PlayerGameManager.cpp:423
 msgid &quot;Initializing Game Logic&quot;
 msgstr &quot;&quot;
 
-#: Interfaces/PlayerGameManager.cpp:404 Interfaces/PlayerGameManager.cpp:411
+#: Interfaces/PlayerGameManager.cpp:426 Interfaces/PlayerGameManager.cpp:433
 msgid &quot;Spawning Player&quot;
 msgstr &quot;&quot;
 
+#: Interfaces/PlayerGameManager.cpp:515
+#, c-format
+msgid &quot;Server kicked '%s' due to inactivity&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/PlayerInterface.cpp:156
+#, c-format
+msgid &quot;Player %u&quot;
+msgstr &quot;&quot;
+
 #: Interfaces/PlayerInterface.cpp:672
 #, c-format
 msgid &quot;You accepted %s alliance request.&quot;
@@ -310,11 +351,48 @@
 msgid &quot;%s canceled the alliance request with you.&quot;
 msgstr &quot;&quot;
 
+#: Interfaces/VoteManager.cpp:43
+msgid &quot;Surrendering vote, you choose surrendering?&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:132
+#, c-format
+msgid &quot;%d %% players has voted YES, %d %% has voted NO&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:139
+#, c-format
+msgid &quot;%s team has accepted surrendering. Round is over&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:194
+#, c-format
+msgid &quot;Player %s request vote&quot;
+msgstr &quot;&quot;
+
+#: Interfaces/VoteManager.cpp:211
+#, c-format
+msgid &quot;player %s has voted, waiting %d votes&quot;
+msgstr &quot;&quot;
+
 #: Objectives/Objective.cpp:76
 #, c-format
 msgid &quot;'%s' has been occupied by '%s'&quot;
 msgstr &quot;&quot;
 
+#: PowerUps/BonusUnitPowerUp.cpp:83 PowerUps/BonusUnitPowerUp.cpp:94
+msgid &quot;YOU GOT A BONUS UNITS POWERUP&quot;
+msgstr &quot;&quot;
+
+#: PowerUps/EnemyRadarPowerUp.cpp:45
+msgid &quot;YOU GOT AN ENEMY RADAR POWERUP&quot;
+msgstr &quot;&quot;
+
+#: PowerUps/UnitPowerUp.cpp:180 PowerUps/UnitPowerUp.cpp:192
+#, c-format
+msgid &quot;YOU GOT A %s POWERUP&quot;
+msgstr &quot;&quot;
+
 #: Scripts/ScriptManager.cpp:274
 msgid &quot;Error running user command&quot;
 msgstr &quot;&quot;
@@ -364,27 +442,32 @@
 msgid &quot;There is no defined ServerCommands&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: System/SDLVideo.cpp:215
+#, c-format
+msgid &quot;Screenshoot saved as: %s&quot;
+msgstr &quot;&quot;
+
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;game&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;units&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;frags&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;objs.&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;time&quot;
 msgstr &quot;&quot;
 
-#: Views/Components/InfoBar.cpp:55
+#: Views/Components/InfoBar.cpp:53
 msgid &quot;FPS&quot;
 msgstr &quot;&quot;
 

Modified: trunk/netpanzer/src/Lib/2D/Palette.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Palette.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/Lib/2D/Palette.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -26,6 +26,7 @@
 #include &quot;Scripts/ScriptManager.hpp&quot;
 
 float Palette::brightness = 1.0f;
+bool  Palette::loaded = false;
 
 std::string Palette::name;
 
@@ -359,10 +360,14 @@
 //---------------------------------------------------------------------------
 void Palette::init(const std::string&amp; name)
 {
-    loadACT(name);
-    setColors();
-    setColorTables();
-    setBrightnessAbsolute(brightness);
+    if (!loaded)
+    {
+        loadACT(name);
+        setColors();
+        setColorTables();
+        setBrightnessAbsolute(brightness);
+        loaded = true;
+    }
 } // end Palette::init
 
 // setBrightnessAbsolute

Modified: trunk/netpanzer/src/Lib/2D/Palette.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Palette.hpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/Lib/2D/Palette.hpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -32,6 +32,7 @@
 private:
     static float brightness;
     static std::string name;
+    static bool loaded;
 
 public:
     Palette();

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/NetworkServer.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -31,6 +31,7 @@
 #include &quot;Interfaces/ConsoleInterface.hpp&quot;
 #include &quot;Interfaces/GameConfig.hpp&quot;
 #include &quot;Interfaces/TeamManager.hpp&quot;
+#include &quot;Interfaces/StrManager.hpp&quot;
 
 #include &quot;Objectives/ObjectiveInterface.hpp&quot;
 #include &quot;SystemNetMessage.hpp&quot;
@@ -364,7 +365,7 @@
         {
             if (GameConfig::game_teammode == true)
             ConsoleInterface::postMessage(Color::cyan, true, player-&gt;getFlag(),
-                                      &quot;'%s' has left.&quot;,
+                                      _(&quot;'%s' has left.&quot;),
                                       player-&gt;getName().c_str());
         }
 

Modified: trunk/netpanzer/src/NetPanzer/Classes/Network/ServerConnectDaemon.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/Network/ServerConnectDaemon.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Classes/Network/ServerConnectDaemon.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -43,6 +43,7 @@
 #include &quot;Interfaces/GameManager.hpp&quot;
 #include &quot;Interfaces/GameConfig.hpp&quot;
 #include &quot;Interfaces/TeamManager.hpp&quot;
+#include &quot;Interfaces/StrManager.hpp&quot;
 
 enum ConnectionState
 {
@@ -91,14 +92,14 @@
         TeamManager::addPlayer(player_state-&gt;getID());
         TeamManager::sendScores();
         ConsoleInterface::postMessage(Color::cyan, true, player_state-&gt;getFlag(),
-                                  &quot;'%s' [%s] has joined the game int team %s.&quot;,
+                                  _(&quot;'%s' [%s] has joined the game int team %s.&quot;),
                                   player_state-&gt;getName().c_str(),
                                   client-&gt;getFullIPAddress().c_str(),
                                   TeamManager::getTeamName(player_state-&gt;getTeamID()).c_str());
     } else
     {
         ConsoleInterface::postMessage(Color::cyan, true, player_state-&gt;getFlag(),
-                                  &quot;'%s' [%s] has joined the game.&quot;,
+                                  _(&quot;'%s' [%s] has joined the game.&quot;),
                                   player_state-&gt;getName().c_str(),
                                   client-&gt;getFullIPAddress().c_str());
     }

Modified: trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Classes/WorldInputCmdProcessor.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -25,7 +25,7 @@
 
 #include &quot;Interfaces/MouseInterface.hpp&quot;
 #include &quot;Interfaces/KeyboardInterface.hpp&quot;
-
+#include &quot;Interfaces/StrManager.hpp&quot;
 #include &quot;Interfaces/WorldViewInterface.hpp&quot;
 #include &quot;Interfaces/MapInterface.hpp&quot;
 #include &quot;Interfaces/PlayerInterface.hpp&quot;
@@ -508,7 +508,7 @@
     if ( ctrl_status )
     {
         setSelectionList(group);
-        ConsoleInterface::postMessage(Color::brown, false, 0, &quot;Group %d created&quot;, group ? group : 10);
+        ConsoleInterface::postMessage(Color::brown, false, 0, _(&quot;Group %d created&quot;), group ? group : 10);
         return;
     }
 

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/ChatInterface.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/ChatInterface.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/ChatInterface.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -105,7 +105,7 @@
     if ( message-&gt;message_id == message_type_server )
     {
         ((ServerChatMessage*)message)-&gt;getText(size, text);
-        ConsoleInterface::postMessage(Color::unitAqua, false, 0, &quot;Server: %s&quot;, text.c_str());
+        ConsoleInterface::postMessage(Color::unitAqua, false, 0, _(&quot;Server: %s&quot;), text.c_str());
         return;
     }
     
@@ -155,7 +155,7 @@
         int to_send = msg.setText(message);
         
         SERVER-&gt;broadcastMessage(&amp;msg, to_send);
-        ConsoleInterface::postMessage(Color::unitAqua, false, 0, &quot;Server: %s&quot;, message.c_str());
+        ConsoleInterface::postMessage(Color::unitAqua, false, 0, _(&quot;Server: %s&quot;), message.c_str());
     }
 }
 

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/GameControlRulesDaemon.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/GameControlRulesDaemon.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/GameControlRulesDaemon.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -269,7 +269,7 @@
                 GameConfig::game_map-&gt;assign( MapsManager::getNextMap( *GameConfig::game_map ) );
             }
 
-            ConsoleInterface::postMessage(Color::white, false, 0, &quot;loading map '%s'.&quot;,
+            ConsoleInterface::postMessage(Color::white, false, 0, _(&quot;loading map '%s'.&quot;),
                                           GameConfig::game_map-&gt;c_str());
 
             GameControlCycleMap cycle_map_mesg;
@@ -294,7 +294,7 @@
             {
                 LoadingView::show();
 
-                LoadingView::append( &quot;Loading Game Map...&quot; );
+                LoadingView::append( _(&quot;Loading Game Map...&quot;) );
                 ObjectiveInterface::resetLogic();
 
                 try
@@ -341,7 +341,7 @@
     {
         if ( map_cycle_fsm_server_map_load_timer.count() )
         {
-            ConsoleInterface::postMessage(Color::white, false, 0, &quot;game started.&quot;);
+            ConsoleInterface::postMessage(Color::white, false, 0, _(&quot;game started.&quot;));
             map_cycle_fsm_server_state = _map_cycle_server_state_load_unit_profiles;
         }
     }

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/PlayerGameManager.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/PlayerGameManager.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/PlayerGameManager.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -512,7 +512,7 @@
                         if ( player-&gt;checkAutokick() )
                         {
                             char chat_string[256];
-                            sprintf(chat_string, &quot;Server kicked '%s' due to inactivity&quot;,player-&gt;getName().c_str());
+                            sprintf(chat_string, _(&quot;Server kicked '%s' due to inactivity&quot;),player-&gt;getName().c_str());
                             LOGGER.info(&quot;PSE: %s&quot;, chat_string);
                             ChatInterface::serversay(chat_string);
                             SERVER-&gt;kickClient((PlayerID)i);

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/PlayerInterface.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/PlayerInterface.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/PlayerInterface.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -153,7 +153,7 @@
         player_lists[ player_id ].setID( player_id );
         player_lists[ player_id ].resetStats(false);
         player_lists[ player_id ].setStateFree();
-        sprintf( temp_str, &quot;Player %u&quot;, player_id );
+        sprintf( temp_str, _(&quot;Player %u&quot;), player_id );
         player_lists[ player_id ].setName( temp_str );
     }
 

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/Team.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/Team.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/Team.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -1,200 +1,221 @@
-/*
-Copyright (C) 2012 Netpanzer Team. (www.netpanzer.org), Laurent Jacques
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
-
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-
-#include &quot;Interfaces/PlayerInterface.hpp&quot;
-#include &quot;Interfaces/Team.hpp&quot;
-#include &quot;Util/Log.hpp&quot;
-#include &quot;2D/Surface.hpp&quot;
-
-void Team::initialize(const TeamID id)
-{
-    teamID = id;
-    resetStats();
-}
-
-void Team::setName(const std::string&amp; newname)
-{
-    if ( newname.length() &gt; 15 )
-    {
-        name = newname.substr(0,15);
-    }
-    else
-    {
-        name = newname;
-    }
-}
-
-const std::string&amp; Team::getName() const
-{
-    return name;
-}
-
-void Team::setColor(const Uint8 newcolor)
-{
-    teamColor = newcolor;
-}
-
-void Team::addPlayer(PlayerID new_player)
-{
-    for ( PlayerID player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
-    {
-        PlayerState* state = PlayerInterface::getPlayer(player_id);
-        if (state-&gt;isActive())
-        {
-            if (state-&gt;getTeamID() == teamID
-                &amp;&amp; (player_id != new_player)) 
-            {
-                PlayerInterface::allyplayers( player_id, new_player);
-            }
-        }
-    }
-    PlayerInterface::getPlayer(new_player)-&gt;setTeamID(teamID);
-}
-
-void Team::removePlayer(PlayerID old_player)
-{
-    for ( PlayerID player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
-    {
-        if (PlayerInterface::getPlayer(player_id)-&gt;isActive())
-        {
-            if (PlayerInterface::getPlayer(player_id)-&gt;getTeamID() == teamID) 
-            {
-                PlayerInterface::unallyplayers( old_player, player_id);
-            }
-        }
-    }
-    PlayerInterface::getPlayer(old_player)-&gt;setTeamID(0xFF);
-}
-
-void Team::cleanUp()
-{
-}
-
-PlayerID Team::countPlayers() const
-{
-    PlayerID count = 0;
-    PlayerID player_id;
-    for ( player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
-    {
-        if (PlayerInterface::getPlayer(player_id)-&gt;isActive())
-        {
-            if (PlayerInterface::getPlayer(player_id)-&gt;getTeamID() == teamID) 
-            {
-                count++;
-            }
-        }
-    }
-    return count;
-}
-
-PlayerID Team::getrandomplayer() const
-{
-    PlayerID count = 0;
-    PlayerID player_id, result =0;
-    Uint8 player = rand()%countPlayers();
-    
-    for ( player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
-    {
-        if (PlayerInterface::getPlayer(player_id)-&gt;isActive())
-        {
-            if (PlayerInterface::getPlayer(player_id)-&gt;getTeamID() == teamID) 
-            {
-                if (count == player) return player_id;
-                count++;
-                result = player_id;
-            }
-        }
-    }
-    return result; // default return the last
-}
-
-void Team::loadFlag(const char *fileName)
-{
-    Flag.loadBMP(fileName);
-}
-
-void Team::drawFlag(Surface &amp;dest, int x, int y) const
-{
-    Flag.bltTrans(dest, x, y);
-}
-
-short Team::getKills() const
-{
-    return kills;
-}
-
-short Team::getLosses() const
-{
-    return losses;
-}
-
-short Team::getTeamObjective() const
-{
-    short TeamObjective = 0;
-    PlayerID player_id;
-    
-    for ( player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
-    {
-        PlayerState* state = PlayerInterface::getPlayer(player_id);
-        if (state-&gt;isActive())
-        {
-            if (state-&gt;getTeamID() == teamID) 
-            {
-                TeamObjective += state-&gt;getObjectivesHeld();
-            }
-        }
-    }
-    return TeamObjective;
-}
-void Team::incKills()
-{
-    if ( stats_locked == true )
-        return;
-    kills++;
-}
-
-void Team::incLosses()
-{
-    if ( stats_locked == true )
-        return;
-    losses++;
-}
-
-void Team::lockStats()
-{
-    stats_locked = true;
-}
-
-void Team::unlockStats()
-{
-    stats_locked = false;
-}
-
-void Team::resetStats()
-{
-    kills  = 0;
-    losses = 0;
-    stats_locked = false;
-}
-
-void Team::syncScore(short newKills, short newLosses)
-{
-    kills = newKills;
-    losses = newLosses;
-}
-
+/*
+Copyright (C) 2012 Netpanzer Team. (www.netpanzer.org), Laurent Jacques
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2 of the License, or
+(at your option) any later version.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+*/
+
+#include &quot;Interfaces/PlayerInterface.hpp&quot;
+#include &quot;Interfaces/Team.hpp&quot;
+#include &quot;Util/Log.hpp&quot;
+#include &quot;2D/Surface.hpp&quot;
+
+void Team::initialize(const TeamID id)
+{
+    teamID = id;
+    resetStats();
+}
+
+void Team::setName(const std::string&amp; newname)
+{
+    if ( newname.length() &gt; 15 )
+    {
+        name = newname.substr(0,15);
+    }
+    else
+    {
+        name = newname;
+    }
+}
+
+const std::string&amp; Team::getName() const
+{
+    return name;
+}
+
+void Team::setColor(const Uint8 newcolor)
+{
+    teamColor = newcolor;
+}
+
+void Team::makeAlliance()
+{
+    for ( PlayerID player_one = 0; player_one &lt; PlayerInterface::getMaxPlayers(); ++player_one )
+    {
+        for ( PlayerID player_two = 0; player_two &lt; PlayerInterface::getMaxPlayers(); ++player_two )
+        {
+            PlayerState* state_P1 = PlayerInterface::getPlayer(player_one);
+            PlayerState* state_P2 = PlayerInterface::getPlayer(player_two);
+            if (state_P1 == state_P2) continue;
+            if (state_P1-&gt;isActive() &amp;&amp; state_P2-&gt;isActive())
+            {
+                if (state_P1-&gt;getTeamID() == state_P2-&gt;getTeamID())
+                {
+                    PlayerInterface::allyplayers( player_one, player_two);
+                }
+            }
+        }
+    }
+}
+ 
+void Team::addPlayer(PlayerID new_player)
+{
+    for ( PlayerID player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
+    {
+        PlayerState* state = PlayerInterface::getPlayer(player_id);
+        if (state-&gt;isActive())
+        {
+            if (state-&gt;getTeamID() == teamID
+                    &amp;&amp; (player_id != new_player))
+            {
+                PlayerInterface::allyplayers( player_id, new_player);
+            }
+        }
+    }
+    PlayerInterface::getPlayer(new_player)-&gt;setTeamID(teamID);
+}
+ 
+void Team::removePlayer(PlayerID old_player)
+{
+    for ( PlayerID player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
+    {
+        if (PlayerInterface::getPlayer(player_id)-&gt;isActive())
+        {
+            if (PlayerInterface::getPlayer(player_id)-&gt;getTeamID() == teamID)
+            {
+                PlayerInterface::unallyplayers( old_player, player_id);
+            }
+        }
+    }
+    PlayerInterface::getPlayer(old_player)-&gt;setTeamID(0xFF);
+}
+ 
+void Team::cleanUp()
+{
+}
+ 
+PlayerID Team::countPlayers() const
+{
+    PlayerID count = 0;
+    PlayerID player_id;
+    for ( player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
+    {
+        if (PlayerInterface::getPlayer(player_id)-&gt;isActive())
+        {
+            if (PlayerInterface::getPlayer(player_id)-&gt;getTeamID() == teamID)
+            {
+                count++;
+            }
+        }
+    }
+    return count;
+}
+ 
+PlayerID Team::getrandomplayer() const
+{
+    PlayerID count = 0;
+    PlayerID player_id, result =0;
+    Uint8 player = rand()%countPlayers();
+ 
+    for ( player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
+    {
+        if (PlayerInterface::getPlayer(player_id)-&gt;isActive())
+        {
+            if (PlayerInterface::getPlayer(player_id)-&gt;getTeamID() == teamID)
+            {
+                if (count == player) return player_id;
+                count++;
+                result = player_id;
+            }
+        }
+    }
+    return result; // default return the last
+}
+ 
+void Team::loadFlag(const char *fileName)
+{
+    Flag.loadBMP(fileName);
+}
+ 
+void Team::drawFlag(Surface &amp;dest, int x, int y) const
+{
+    Flag.bltTrans(dest, x, y);
+}
+ 
+short Team::getKills() const
+{
+    return kills;
+}
+ 
+short Team::getLosses() const
+{
+    return losses;
+}
+ 
+short Team::getTeamObjective() const
+{
+    short TeamObjective = 0;
+    PlayerID player_id;
+ 
+    for ( player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
+    {
+        PlayerState* state = PlayerInterface::getPlayer(player_id);
+        if (state-&gt;isActive())
+        {
+            if (state-&gt;getTeamID() == teamID)
+            {
+                TeamObjective += state-&gt;getObjectivesHeld();
+            }
+        }
+    }
+    return TeamObjective;
+}
+void Team::incKills()
+{
+    if ( stats_locked == true )
+        return;
+    kills++;
+}
+ 
+void Team::incLosses()
+{
+    if ( stats_locked == true )
+        return;
+    losses++;
+}
+ 
+void Team::lockStats()
+{
+    stats_locked = true;
+}
+ 
+void Team::unlockStats()
+{
+    stats_locked = false;
+}
+ 
+void Team::resetStats()
+{
+    kills  = 0;
+    losses = 0;
+    stats_locked = false;
+}
+ 
+void Team::syncScore(short newKills, short newLosses)
+{
+    kills = newKills;
+    losses = newLosses;
+}
+ 
+ 
\ No newline at end of file

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/Team.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/Team.hpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/Team.hpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -49,6 +49,7 @@
     PlayerID getrandomplayer() const;
     void loadFlag(const char *fileName);
     void drawFlag(Surface &amp;dest, int x, int y) const;
+    void makeAlliance();
 
     short getKills() const;
     short getLosses() const;

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/TeamManager.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/TeamManager.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/TeamManager.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -339,6 +339,12 @@
 
 void TeamManager::SpawnTeams()
 {
+    PlayerInterface::reset();
+    for (TeamID team_id = 0; team_id &lt; max_Teams; ++team_id )
+    {
+        Teams_lists[team_id].makeAlliance();
+    }
+
     for ( PlayerID player_id = 0; player_id &lt; PlayerInterface::getMaxPlayers(); ++player_id )
     {
         PlayerState* state_id = PlayerInterface::getPlayer(player_id);

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/VoteManager.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/VoteManager.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/VoteManager.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -1,229 +1,229 @@
-/*
-Copyright (C) 2012 Netpanzer Team. (www.netpanzer.org), Laurent Jacques
-
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
-
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
-
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-
-#include &quot;Interfaces/VoteManager.hpp&quot;
-#include &quot;Interfaces/PlayerInterface.hpp&quot;
-#include &quot;Interfaces/ChatInterface.hpp&quot;
-#include &quot;Interfaces/GameControlRulesDaemon.hpp&quot;
-#include &quot;Interfaces/GameConfig.hpp&quot;
-#include &quot;Interfaces/TeamManager.hpp&quot;
-#include &quot;Interfaces/StrManager.hpp&quot;
-#include &quot;Classes/Network/PlayerNetMessage.hpp&quot;
-#include &quot;Classes/Network/NetworkServer.hpp&quot;
-#include &quot;Classes/Network/NetworkClient.hpp&quot;
-#include &quot;Classes/Network/NetworkState.hpp&quot;
-#include &quot;Views/Components/Desktop.hpp&quot;
-#include &quot;Views/Game/VoteBox.hpp&quot;
-
-bool   VoteManager::vote_in_progress = false;
-Uint8  VoteManager::type_vote = unassigned_vote;
-Uint8  *VoteManager::player_vote = 0;
-Uint8  VoteManager::vote_counter = 0;
-Uint8  VoteManager::players_in_vote = 0;
-Timer  VoteManager::voteTimer;
-Uint8  VoteManager::vote_team = 0xFF;
-
-VoteBox *votebox;
-
-const char *VoteStrings[1] = {&quot;Surrendering vote, you choose surrendering?\0&quot;};
-
-void VoteManager::startVote(Uint8 type)
-{
-    vote_in_progress = true;
-    type_vote = type;
-    if (GameConfig::game_teammode)
-        vote_counter = TeamManager::CountPlayerinTeam(vote_team);
-    else
-        vote_counter = PlayerInterface::getActivePlayerCount();
-    players_in_vote = vote_counter;
-}
-
-void VoteManager::netMessageReceiveRequestVote(const NetMessage* message)
-{
-    const PlayerVoteRequested* vote_request
-    = (const PlayerVoteRequested *) message;
-    
-    votebox = new VoteBox(VoteStrings[vote_request-&gt;vote_type]);
-    
-    Desktop::add(votebox);
-    Desktop::setVisibility(&quot;votebox&quot;, true);
-}
-
-void VoteManager::resetVote()
-{
-    vote_in_progress = false;
-    type_vote = unassigned_vote;
-    delete[] player_vote;
-    
-    if (votebox)
-    {
-        Desktop::remove(votebox);
-    }
-    
-    player_vote = new Uint8 [PlayerInterface::getMaxPlayers()];
-    for ( int i = 0; i &lt; PlayerInterface::getMaxPlayers(); i++ )
-    {
-        player_vote[ i ] = vote_nothing;
-    }
-    if ( NetworkState::status == _network_state_server )
-        voteTimer.changePeriod(70);// more time for prevent some client retard (lag)
-    else
-        voteTimer.changePeriod(60);
-    
-    voteTimer.reset();
-    players_in_vote = 0;
-    vote_team = 0xFF;
-}
-
-void VoteManager::serverSendRequestVote()
-{
-    PlayerVoteRequested vote_request;
-    vote_request.set(type_vote);
-    if (GameConfig::game_teammode)
-        TeamManager::sendMessageToTeam(vote_team, &amp;vote_request, sizeof(PlayerVoteRequested));
-    else
-        SERVER-&gt;broadcastMessage(&amp;vote_request, sizeof(PlayerVoteRequested));
-}
-
-void VoteManager::executeVoteAction()
-{
-    switch (type_vote)
-    {
-        case surrender_vote :
-            GameControlRulesDaemon::forceEndRound();
-            break;
-    }
-}
-
-void VoteManager::checkPlayersVote()
-{
-    Uint8 yes_vote = 0, no_vote = 0;
-
-    for ( int i = 0; i &lt; PlayerInterface::getMaxPlayers(); i++ )
-    {
-        if (player_vote[ i ] == vote_yes)
-            yes_vote++;
-        else
-        if (player_vote[ i ] == vote_no)
-            no_vote++;
-    }
-    char buff[100];
-
-    int no_percent = ((players_in_vote-yes_vote)*100)/players_in_vote;
-    int yes_percent = ((players_in_vote-no_vote)*100)/players_in_vote;
-
-    bool accepted_vote = ( yes_percent &gt; 80 );
-
-    sprintf(buff, &quot;%d %% players has voted YES, %d %% has voted NO&quot;, yes_percent, no_percent);
-
-    if ( GameConfig::game_teammode )
-    {
-        TeamManager::serversayToTeam(vote_team, buff);
-        if ( accepted_vote )
-        {
-            sprintf(buff, &quot;%s team has accepted surrendering. Round is over&quot;,
-                    TeamManager::getTeamName(vote_team).c_str());
-            ChatInterface::serversay(buff);
-        }
-    }
-    else
-    {
-        ChatInterface::serversay(buff);
-    }
-    vote_in_progress = false;
-    if ( accepted_vote ) executeVoteAction();
-}
-
-void VoteManager::playerVote(Uint8 responce)
-{
-    Desktop::setVisibility(&quot;votebox&quot;, false);
-    Desktop::remove(votebox);
-
-    PlayerSendVote vote_player;
-    vote_player.set(PlayerInterface::getLocalPlayerIndex(), responce);
-    CLIENT-&gt;sendMessage( &amp;vote_player, sizeof(PlayerSendVote));
-}
-
-bool VoteManager::checkVoteTimer()
-{
-    //server need to check the timer for stop vote
-    //if player crash or quit the game, vote don't ending
-    if (vote_in_progress)
-    {
-        return voteTimer.count();
-    }
-    return false;
-}
-
-int VoteManager::getTimer()
-{
-    return (int) voteTimer.getTimeLeft();
-}
-
-void VoteManager::playerRequest_startSurrenderVote(const PlayerID player_id)
-{
-    if (vote_in_progress)
-    {
-        return;
-    }
-    
-    resetVote();
-    
-    vote_team = PlayerInterface::getPlayer(player_id)-&gt;getTeamID();
-    
-    startVote(surrender_vote);
-    
-    serverSendRequestVote();
-    
-    char buff[100];
-    sprintf(buff, &quot;Player %s request vote&quot;,
-            PlayerInterface::getPlayer(player_id)-&gt;getName().c_str());
-    
-    if (GameConfig::game_teammode)
-        TeamManager::serversayToTeam(vote_team, buff);
-    else
-        ChatInterface::serversay(buff);
-}
-
-void VoteManager::playerRequest_voteSelected(const PlayerID player_id, Uint8 selected_vote)
-{
-    if (vote_in_progress)
-    {
-        vote_counter--;
-        player_vote[ player_id ] = selected_vote;
-        
-        char buff[100];
-        sprintf(buff, &quot;player %s has voted, waiting %d votes&quot;,
-                PlayerInterface::getPlayer(player_id)-&gt;getName().c_str(),
-                vote_counter);
-        
-        if (GameConfig::game_teammode)
-        {
-            TeamManager::serversayToTeam(vote_team, buff);
-        }
-        else
-        {
-            ChatInterface::serversay(buff);
-        }
-        
-        if (vote_counter &lt; 1)
-        {
-            checkPlayersVote();
-        }
-    }
-}
+/*
+Copyright (C) 2012 Netpanzer Team. (www.netpanzer.org), Laurent Jacques
+
+This program is free software; you can redistribute it and/or modify
+it under the terms of the GNU General Public License as published by
+the Free Software Foundation; either version 2 of the License, or
+(at your option) any later version.
+
+This program is distributed in the hope that it will be useful,
+but WITHOUT ANY WARRANTY; without even the implied warranty of
+MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
+GNU General Public License for more details.
+
+You should have received a copy of the GNU General Public License
+along with this program; if not, write to the Free Software
+Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
+*/
+
+#include &quot;Interfaces/VoteManager.hpp&quot;
+#include &quot;Interfaces/PlayerInterface.hpp&quot;
+#include &quot;Interfaces/ChatInterface.hpp&quot;
+#include &quot;Interfaces/GameControlRulesDaemon.hpp&quot;
+#include &quot;Interfaces/GameConfig.hpp&quot;
+#include &quot;Interfaces/TeamManager.hpp&quot;
+#include &quot;Interfaces/StrManager.hpp&quot;
+#include &quot;Classes/Network/PlayerNetMessage.hpp&quot;
+#include &quot;Classes/Network/NetworkServer.hpp&quot;
+#include &quot;Classes/Network/NetworkClient.hpp&quot;
+#include &quot;Classes/Network/NetworkState.hpp&quot;
+#include &quot;Views/Components/Desktop.hpp&quot;
+#include &quot;Views/Game/VoteBox.hpp&quot;
+
+bool   VoteManager::vote_in_progress = false;
+Uint8  VoteManager::type_vote = unassigned_vote;
+Uint8  *VoteManager::player_vote = 0;
+Uint8  VoteManager::vote_counter = 0;
+Uint8  VoteManager::players_in_vote = 0;
+Timer  VoteManager::voteTimer;
+Uint8  VoteManager::vote_team = 0xFF;
+
+VoteBox *votebox;
+
+const char *VoteStrings[1] = {_(&quot;Surrendering vote, you choose surrendering?\0&quot;)};
+
+void VoteManager::startVote(Uint8 type)
+{
+    vote_in_progress = true;
+    type_vote = type;
+    if (GameConfig::game_teammode)
+        vote_counter = TeamManager::CountPlayerinTeam(vote_team);
+    else
+        vote_counter = PlayerInterface::getActivePlayerCount();
+    players_in_vote = vote_counter;
+}
+
+void VoteManager::netMessageReceiveRequestVote(const NetMessage* message)
+{
+    const PlayerVoteRequested* vote_request
+    = (const PlayerVoteRequested *) message;
+    
+    votebox = new VoteBox(VoteStrings[vote_request-&gt;vote_type]);
+    
+    Desktop::add(votebox);
+    Desktop::setVisibility(&quot;votebox&quot;, true);
+}
+
+void VoteManager::resetVote()
+{
+    vote_in_progress = false;
+    type_vote = unassigned_vote;
+    delete[] player_vote;
+    
+    if (votebox)
+    {
+        Desktop::remove(votebox);
+    }
+    
+    player_vote = new Uint8 [PlayerInterface::getMaxPlayers()];
+    for ( int i = 0; i &lt; PlayerInterface::getMaxPlayers(); i++ )
+    {
+        player_vote[ i ] = vote_nothing;
+    }
+    if ( NetworkState::status == _network_state_server )
+        voteTimer.changePeriod(70);// more time for prevent some client retard (lag)
+    else
+        voteTimer.changePeriod(60);
+    
+    voteTimer.reset();
+    players_in_vote = 0;
+    vote_team = 0xFF;
+}
+
+void VoteManager::serverSendRequestVote()
+{
+    PlayerVoteRequested vote_request;
+    vote_request.set(type_vote);
+    if (GameConfig::game_teammode)
+        TeamManager::sendMessageToTeam(vote_team, &amp;vote_request, sizeof(PlayerVoteRequested));
+    else
+        SERVER-&gt;broadcastMessage(&amp;vote_request, sizeof(PlayerVoteRequested));
+}
+
+void VoteManager::executeVoteAction()
+{
+    switch (type_vote)
+    {
+        case surrender_vote :
+            GameControlRulesDaemon::forceEndRound();
+            break;
+    }
+}
+
+void VoteManager::checkPlayersVote()
+{
+    Uint8 yes_vote = 0, no_vote = 0;
+
+    for ( int i = 0; i &lt; PlayerInterface::getMaxPlayers(); i++ )
+    {
+        if (player_vote[ i ] == vote_yes)
+            yes_vote++;
+        else
+        if (player_vote[ i ] == vote_no)
+            no_vote++;
+    }
+    char buff[100];
+
+    int no_percent = ((players_in_vote-yes_vote)*100)/players_in_vote;
+    int yes_percent = ((players_in_vote-no_vote)*100)/players_in_vote;
+
+    bool accepted_vote = ( yes_percent &gt; 80 );
+
+    sprintf(buff, _(&quot;%d %% players has voted YES, %d %% has voted NO&quot;), yes_percent, no_percent);
+
+    if ( GameConfig::game_teammode )
+    {
+        TeamManager::serversayToTeam(vote_team, buff);
+        if ( accepted_vote )
+        {
+            sprintf(buff, _(&quot;%s team has accepted surrendering. Round is over&quot;),
+                    TeamManager::getTeamName(vote_team).c_str());
+            ChatInterface::serversay(buff);
+        }
+    }
+    else
+    {
+        ChatInterface::serversay(buff);
+    }
+    vote_in_progress = false;
+    if ( accepted_vote ) executeVoteAction();
+}
+
+void VoteManager::playerVote(Uint8 responce)
+{
+    Desktop::setVisibility(&quot;votebox&quot;, false);
+    Desktop::remove(votebox);
+
+    PlayerSendVote vote_player;
+    vote_player.set(PlayerInterface::getLocalPlayerIndex(), responce);
+    CLIENT-&gt;sendMessage( &amp;vote_player, sizeof(PlayerSendVote));
+}
+
+bool VoteManager::checkVoteTimer()
+{
+    //server need to check the timer for stop vote
+    //if player crash or quit the game, vote don't ending
+    if (vote_in_progress)
+    {
+        return voteTimer.count();
+    }
+    return false;
+}
+
+int VoteManager::getTimer()
+{
+    return (int) voteTimer.getTimeLeft();
+}
+
+void VoteManager::playerRequest_startSurrenderVote(const PlayerID player_id)
+{
+    if (vote_in_progress)
+    {
+        return;
+    }
+    
+    resetVote();
+    
+    vote_team = PlayerInterface::getPlayer(player_id)-&gt;getTeamID();
+    
+    startVote(surrender_vote);
+    
+    serverSendRequestVote();
+    
+    char buff[100];
+    sprintf(buff, _(&quot;Player %s request vote&quot;),
+            PlayerInterface::getPlayer(player_id)-&gt;getName().c_str());
+    
+    if (GameConfig::game_teammode)
+        TeamManager::serversayToTeam(vote_team, buff);
+    else
+        ChatInterface::serversay(buff);
+}
+
+void VoteManager::playerRequest_voteSelected(const PlayerID player_id, Uint8 selected_vote)
+{
+    if (vote_in_progress)
+    {
+        vote_counter--;
+        player_vote[ player_id ] = selected_vote;
+        
+        char buff[100];
+        sprintf(buff, _(&quot;player %s has voted, waiting %d votes&quot;),
+                PlayerInterface::getPlayer(player_id)-&gt;getName().c_str(),
+                vote_counter);
+        
+        if (GameConfig::game_teammode)
+        {
+            TeamManager::serversayToTeam(vote_team, buff);
+        }
+        else
+        {
+            ChatInterface::serversay(buff);
+        }
+        
+        if (vote_counter &lt; 1)
+        {
+            checkPlayersVote();
+        }
+    }
+}

Modified: trunk/netpanzer/src/NetPanzer/PowerUps/BonusUnitPowerUp.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/PowerUps/BonusUnitPowerUp.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/PowerUps/BonusUnitPowerUp.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -24,6 +24,7 @@
 #include &quot;Interfaces/PlayerInterface.hpp&quot;
 #include &quot;Interfaces/MapInterface.hpp&quot;
 #include &quot;Interfaces/ConsoleInterface.hpp&quot;
+#include &quot;Interfaces/StrManager.hpp&quot;
 #include &quot;Units/UnitProfileInterface.hpp&quot;
 
 #include &quot;Classes/Network/NetworkServer.hpp&quot;
@@ -79,7 +80,7 @@
 
     if( PlayerInterface::isLocalPlayer(own_player) )
     {
-        ConsoleInterface::postMessage(Color::unitAqua, false, 0, &quot;YOU GOT A BONUS UNITS POWERUP&quot; );
+        ConsoleInterface::postMessage(Color::unitAqua, false, 0, _(&quot;YOU GOT A BONUS UNITS POWERUP&quot;) );
     }
 }
 
@@ -90,6 +91,6 @@
 
     if( PlayerInterface::getLocalPlayerIndex() == message-&gt;getPlayerID() )
     {
-        ConsoleInterface::postMessage( Color::unitAqua, false, 0, &quot;YOU GOT A BONUS UNITS POWERUP&quot; );
+        ConsoleInterface::postMessage( Color::unitAqua, false, 0, _(&quot;YOU GOT A BONUS UNITS POWERUP&quot;) );
     }
 }

Modified: trunk/netpanzer/src/NetPanzer/PowerUps/EnemyRadarPowerUp.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/PowerUps/EnemyRadarPowerUp.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/PowerUps/EnemyRadarPowerUp.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -24,6 +24,7 @@
 #include &quot;Interfaces/PlayerInterface.hpp&quot;
 #include &quot;Interfaces/MapInterface.hpp&quot;
 #include &quot;Interfaces/ConsoleInterface.hpp&quot;
+#include &quot;Interfaces/StrManager.hpp&quot;
 
 #include &quot;Classes/Network/NetworkServer.hpp&quot;
 #include &quot;Classes/Network/NetworkState.hpp&quot;
@@ -41,7 +42,7 @@
 {
     radarActive = true;
     radarTimer.reset();
-    ConsoleInterface::postMessage(Color::unitAqua, false, 0, &quot;YOU GOT AN ENEMY RADAR POWERUP&quot; );
+    ConsoleInterface::postMessage(Color::unitAqua, false, 0, _(&quot;YOU GOT AN ENEMY RADAR POWERUP&quot;) );
 }
 
 bool

Modified: trunk/netpanzer/src/NetPanzer/PowerUps/UnitPowerUp.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/PowerUps/UnitPowerUp.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/PowerUps/UnitPowerUp.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -24,6 +24,7 @@
 #include &quot;Interfaces/PlayerInterface.hpp&quot;
 #include &quot;Interfaces/MapInterface.hpp&quot;
 #include &quot;Interfaces/ConsoleInterface.hpp&quot;
+#include &quot;Interfaces/StrManager.hpp&quot;
 
 #include &quot;Classes/Network/NetworkServer.hpp&quot;
 #include &quot;Classes/Network/NetworkState.hpp&quot;
@@ -176,7 +177,7 @@
 
     if(unit-&gt;player_id == PlayerInterface::getLocalPlayerIndex())
     {
-        ConsoleInterface::postMessage(Color::unitAqua, false, 0, &quot;YOU GOT A %s POWERUP&quot;, 
+        ConsoleInterface::postMessage(Color::unitAqua, false, 0, _(&quot;YOU GOT A %s POWERUP&quot;), 
                                       powerupTypeToString( unit_powerup_type ) );
     }
 }
@@ -188,7 +189,7 @@
 
     if( PlayerInterface::getLocalPlayerIndex() == message-&gt;getPlayerID() )
     {
-        ConsoleInterface::postMessage(Color::unitAqua, false, 0, &quot;YOU GOT A %s POWERUP&quot;,
+        ConsoleInterface::postMessage(Color::unitAqua, false, 0, _(&quot;YOU GOT A %s POWERUP&quot;),
                                       powerupTypeToString( message-&gt;getUnitPowerupType() ) );
     }
 }

Modified: trunk/netpanzer/src/NetPanzer/System/SDLVideo.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/System/SDLVideo.cpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/System/SDLVideo.cpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -1,62 +1,65 @@
 /*
 Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
+
 This program is free software; you can redistribute it and/or modify
 it under the terms of the GNU General Public License as published by
 the Free Software Foundation; either version 2 of the License, or
 (at your option) any later version.
- 
+
 This program is distributed in the hope that it will be useful,
 but WITHOUT ANY WARRANTY; without even the implied warranty of
 MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 GNU General Public License for more details.
- 
+
 You should have received a copy of the GNU General Public License
 along with this program; if not, write to the Free Software
 Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */
-
-
+ 
+ 
 #include &lt;iostream&gt;
 #include &lt;string&gt;
-
+ 
 #include &lt;time.h&gt;
-
+ 
 #include &quot;Util/Log.hpp&quot;
 #include &quot;Util/Exception.hpp&quot;
 #include &quot;Util/FileSystem.hpp&quot;
 #include &quot;Util/NTimer.hpp&quot;
 #include &quot;SDLVideo.hpp&quot;
 #include &lt;stdlib.h&gt;
-
+ 
 #include &quot;Interfaces/ConsoleInterface.hpp&quot;
+#include &quot;Interfaces/StrManager.hpp&quot;
 #include &quot;2D/Color.hpp&quot;
-
+ 
 #ifdef _WIN32
-  #include &quot;Interfaces/GameConfig.hpp&quot;
+#include &quot;Interfaces/GameConfig.hpp&quot;
 #endif
-
+ 
 #ifndef PACKAGE_VERSION
-	#define PACKAGE_VERSION &quot;testing&quot;
+#define PACKAGE_VERSION &quot;testing&quot;
 #endif
-
+ 
 SDLVideo* Screen; // get rid of this later...
-
+ 
 static int best_bpp = 0;
-
+ 
 SDLVideo::SDLVideo()
-        : frontBuffer(0), backBuffer(0)
+    : frontBuffer(0)
 {
 #ifdef _WIN32
-    if ( GameConfig::video_usedirectx ) {
+    if ( GameConfig::video_usedirectx )
+    {
         putenv(&quot;SDL_VIDEODRIVER=directx&quot;);
     }
 #endif
-    if(SDL_InitSubSystem(SDL_INIT_VIDEO)) {
+    if(SDL_InitSubSystem(SDL_INIT_VIDEO))
+    {
         throw Exception(&quot;Couldn't initialize SDL_video subsystem: %s&quot;,
-                SDL_GetError());
+                        SDL_GetError());
     }
-
+ 
     if ( ! best_bpp )
     {
         const SDL_VideoInfo *v = SDL_GetVideoInfo();
@@ -65,21 +68,21 @@
             best_bpp = v-&gt;vfmt-&gt;BitsPerPixel;
         }
     }
-
+ 
     // XXX unfortunately SDL initializes the keyboard again :-/
     SDL_EnableUNICODE(1);
 }
-
+ 
 SDLVideo::~SDLVideo()
 {
-    if ( backBuffer &amp;&amp; backBuffer != frontBuffer )
+    if ( frontBuffer )
     {
-        SDL_FreeSurface(backBuffer);
+        SDL_FreeSurface(frontBuffer);
     }
-    
+ 
     SDL_QuitSubSystem(SDL_INIT_VIDEO);
 }
-
+ 
 static bool getNearestFullScreenMode(int flags, int* width, int* height)
 {
     SDL_Rect** modes = SDL_ListModes(0, flags);
@@ -95,7 +98,7 @@
         for ( int n = 0; modes[n]; ++n )
         {
             unsigned int new_x_dif = abs((*width) - modes[n]-&gt;w);
-
+ 
             if ( new_x_dif &lt;= min_x_dif )
             {
                 unsigned int new_y_dif = abs((*height) - modes[n]-&gt;h);
@@ -110,128 +113,107 @@
         *width = modes[nearest]-&gt;w;
         *height = modes[nearest]-&gt;h;
     }
-
+ 
     return true;
 }
-
-
+ 
+ 
 void SDLVideo::setVideoMode(int width, int height, int bpp, Uint32 flags)
 {
-    if ( backBuffer &amp;&amp; backBuffer != frontBuffer )
+    if ( frontBuffer )
     {
-        SDL_FreeSurface(backBuffer);
+        SDL_FreeSurface(frontBuffer);
     }
-    
+ 
     int new_width = width;
     int new_height = height;
-
+ 
     if ( flags&amp;SDL_FULLSCREEN )
     {
         //bpp = best_bpp;
         getNearestFullScreenMode(flags, &amp;new_width, &amp;new_height);
         LOGGER.warning(&quot;Setting fullscreen mode %d x %d (original %d x %d)&quot;,
-                             new_width, new_height, width, height);
+                       new_width, new_height, width, height);
     }
-//    else
-//    {
-//        bpp = 0;
-//    }
-
+ 
     flags |= SDL_HWPALETTE;
-
+ 
     frontBuffer = SDL_SetVideoMode(new_width, new_height, bpp, flags);
     if(!frontBuffer)
     {
         throw Exception(&quot;Couldn't set display mode (%dx%d, %X): %s&quot;,
                         new_width, new_height, flags, SDL_GetError());
     }
-
-    backBuffer = frontBuffer;
-//    backBuffer = SDL_CreateRGBSurface(SDL_SWSURFACE, new_width, new_height,
-//                                      8, 0, 0, 0, 0);
-//    if(!backBuffer)
-//    {
-//        throw Exception(&quot;Couldn't create backBuffer&quot;);
-//    }
-
+ 
     // let's scare the mouse :)
     SDL_ShowCursor(SDL_DISABLE);
     // and set a window title
     SDL_WM_SetCaption(&quot;NetPanzer &quot; PACKAGE_VERSION, 0);
 }
-
+ 
 bool SDLVideo::isDisplayModeAvailable(int width, int height, int bpp,
-                                     Uint32 flags)
+                                      Uint32 flags)
 {
     flags |= SDL_HWPALETTE; // SDL_ANYFORMAT
     int res = SDL_VideoModeOK(width, height, bpp, flags);
-
+ 
     LOGGER.warning(&quot;Mode %dx%dx%d %s is %s&quot;, width, height, bpp,
                    (flags&amp;SDL_FULLSCREEN)?&quot;full screen&quot;:&quot;windowed&quot;,
                    res?&quot;available&quot;:&quot;NOT available&quot;);
-    
+ 
     return SDL_VideoModeOK(width, height, bpp, flags);
 }
-
+ 
 void SDLVideo::lockDoubleBuffer(unsigned char **buffer)
 {
-    if(SDL_MUSTLOCK(backBuffer) &amp;&amp; SDL_LockSurface(backBuffer))
+    if(SDL_MUSTLOCK(frontBuffer) &amp;&amp; SDL_LockSurface(frontBuffer))
         throw Exception(&quot;Couldn't lock display buffer&quot;);
-
-    *buffer = (unsigned char *)backBuffer-&gt;pixels;
+ 
+    *buffer = (unsigned char *)frontBuffer-&gt;pixels;
 }
-
+ 
 void SDLVideo::unlockDoubleBuffer()
 {
-    if(SDL_MUSTLOCK(backBuffer))
-        SDL_UnlockSurface(backBuffer);
+    if(SDL_MUSTLOCK(frontBuffer))
+        SDL_UnlockSurface(frontBuffer);
 }
-
+ 
 void SDLVideo::copyDoubleBufferandFlip()
 {
-    if ( backBuffer &amp;&amp; backBuffer != frontBuffer)
-    {
-        SDL_BlitSurface(backBuffer, 0, frontBuffer, 0);
-    }
-    
     SDL_UpdateRect(frontBuffer, 0, 0, 0, 0);
 }
-
+ 
 void SDLVideo::setPalette(SDL_Color *color)
 {
-    if ( backBuffer &amp;&amp; backBuffer != frontBuffer)
-    {
-        SDL_SetColors(backBuffer, color, 0, 256);
-    }
-    
     SDL_SetColors(frontBuffer, color, 0, 256);
 }
-
+ 
 SDL_Surface* SDLVideo::getSurface()
 {
-    return backBuffer;
+    return frontBuffer;
 }
-
+ 
 void SDLVideo::doScreenshoot()
 {
     // this is called blind faith
     static NTimer timer(1000);
-
+ 
     if ( ! timer.isTimeOut() )
     {
         return;
     }
-
+ 
     filesystem::mkdir(&quot;screenshoots&quot;);
-
+ 
     char buf[256];
     time_t curtime = time(0);
     struct tm* loctime = localtime(&amp;curtime);
     strftime(buf, sizeof(buf), &quot;screenshoots/%Y%m%d_%H%M%S.bmp&quot;, loctime);
-
+ 
     std::string bmpfile = filesystem::getRealWriteName(buf);
-    SDL_SaveBMP(backBuffer, bmpfile.c_str());
-    ConsoleInterface::postMessage(Color::cyan, false, 0, &quot;Screenshoot saved as: %s&quot;, buf);
+    SDL_SaveBMP(frontBuffer, bmpfile.c_str());
+    ConsoleInterface::postMessage(Color::cyan, false, 0, _(&quot;Screenshoot saved as: %s&quot;), buf);
     timer.reset();
 }
-
+ 
+ 
\ No newline at end of file

Modified: trunk/netpanzer/src/NetPanzer/System/SDLVideo.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/System/SDLVideo.hpp	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/src/NetPanzer/System/SDLVideo.hpp	2012-10-31 21:08:26 UTC (rev 1422)
@@ -26,7 +26,6 @@
 {
 private:
     SDL_Surface* frontBuffer;
-    SDL_Surface* backBuffer;
 
 public:
     SDLVideo();

Modified: trunk/netpanzer/support/scripts/copy_datafiles.sh
===================================================================
--- trunk/netpanzer/support/scripts/copy_datafiles.sh	2012-10-25 15:10:24 UTC (rev 1421)
+++ trunk/netpanzer/support/scripts/copy_datafiles.sh	2012-10-31 21:08:26 UTC (rev 1422)
@@ -10,7 +10,7 @@
 [ ! -d &quot;${DESTDIR}&quot; ] &amp;&amp; mkdir -p &quot;${DESTDIR}&quot;
 
 echo -n &quot;Copying files&quot;
-find cache maps pics powerups scripts sound units wads ! -type d  ! -path '*/.svn/*' ! -iname '.DS_Store' -print | \
+find cache Languages maps pics powerups scripts sound units wads ! -type d  ! -path '*/.svn/*' ! -iname '.DS_Store' -print | \
 	while read fname; do 
 		DNAME=&quot;`dirname \&quot;${fname}\&quot;`&quot;
 		[ ! -d &quot;${DESTDIR}/${DNAME}&quot; ] &amp;&amp; mkdir -p &quot;${DESTDIR}/${DNAME}&quot;

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000445.html">[Netpanzer-cvs] r1421 - in trunk/netpanzer/src/NetPanzer:	Classes/Network Interfaces Scripts
</A></li>
	
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#446">[ date ]</a>
              <a href="thread.html#446">[ thread ]</a>
              <a href="subject.html#446">[ subject ]</a>
              <a href="author.html#446">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/netpanzer-cvs">More information about the Netpanzer-cvs
mailing list</a><br>
</body></html>
