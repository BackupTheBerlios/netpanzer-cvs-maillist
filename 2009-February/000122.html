<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Netpanzer-cvs] r1090 - in trunk/netpanzer: nbproject src/Lib/2D	src/NetPanzer/Interfaces src/NetPanzer/Views/Components	src/NetPanzer/Views/Game src/NetPanzer/Views/MainMenu	src/NetPanzer/Views/MainMenu/Multi	src/NetPanzer/Views/MainMenu/Options
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/netpanzer-cvs/2009-February/index.html" >
   <LINK REL="made" HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1090%20-%20in%20trunk/netpanzer%3A%20nbproject%20src/Lib/2D%0A%09src/NetPanzer/Interfaces%20src/NetPanzer/Views/Components%0A%09src/NetPanzer/Views/Game%20src/NetPanzer/Views/MainMenu%0A%09src/NetPanzer/Views/MainMenu/Multi%0A%09src/NetPanzer/Views/MainMenu/Options&In-Reply-To=%3C200902011602.n11G2r2q015754%40sheep.berlios.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   
   <LINK REL="Next"  HREF="000123.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Netpanzer-cvs] r1090 - in trunk/netpanzer: nbproject src/Lib/2D	src/NetPanzer/Interfaces src/NetPanzer/Views/Components	src/NetPanzer/Views/Game src/NetPanzer/Views/MainMenu	src/NetPanzer/Views/MainMenu/Multi	src/NetPanzer/Views/MainMenu/Options</H1>
    <B>kromxp at mail.berlios.de</B> 
    <A HREF="mailto:netpanzer-cvs%40lists.berlios.de?Subject=Re%3A%20%5BNetpanzer-cvs%5D%20r1090%20-%20in%20trunk/netpanzer%3A%20nbproject%20src/Lib/2D%0A%09src/NetPanzer/Interfaces%20src/NetPanzer/Views/Components%0A%09src/NetPanzer/Views/Game%20src/NetPanzer/Views/MainMenu%0A%09src/NetPanzer/Views/MainMenu/Multi%0A%09src/NetPanzer/Views/MainMenu/Options&In-Reply-To=%3C200902011602.n11G2r2q015754%40sheep.berlios.de%3E"
       TITLE="[Netpanzer-cvs] r1090 - in trunk/netpanzer: nbproject src/Lib/2D	src/NetPanzer/Interfaces src/NetPanzer/Views/Components	src/NetPanzer/Views/Game src/NetPanzer/Views/MainMenu	src/NetPanzer/Views/MainMenu/Multi	src/NetPanzer/Views/MainMenu/Options">kromxp at mail.berlios.de
       </A><BR>
    <I>Sun Feb  1 17:02:53 CET 2009</I>
    <P><UL>
        
        <LI>Next message: <A HREF="000123.html">[Netpanzer-cvs] r1091 -	trunk/netpanzer/pics/backgrounds/menus/buttons/default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#122">[ date ]</a>
              <a href="thread.html#122">[ thread ]</a>
              <a href="subject.html#122">[ subject ]</a>
              <a href="author.html#122">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Author: kromxp
Date: 2009-02-01 17:02:10 +0100 (Sun, 01 Feb 2009)
New Revision: 1090

Removed:
   trunk/netpanzer/src/NetPanzer/Views/Components/cButton.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/cButton.hpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/OrderingView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/OrderingView.hpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/SkirmishView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/SkirmishView.hpp
Modified:
   trunk/netpanzer/nbproject/Makefile-mac-debug.mk
   trunk/netpanzer/nbproject/Makefile-mac-release.mk
   trunk/netpanzer/nbproject/configurations.xml
   trunk/netpanzer/src/Lib/2D/Surface.cpp
   trunk/netpanzer/src/Lib/2D/Surface.hpp
   trunk/netpanzer/src/NetPanzer/Interfaces/GameManager.cpp
   trunk/netpanzer/src/NetPanzer/Interfaces/PlayerGameManager.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/Button.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/Button.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/Component.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/Label.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/Label.hpp
   trunk/netpanzer/src/NetPanzer/Views/Components/View.cpp
   trunk/netpanzer/src/NetPanzer/Views/Components/View.hpp
   trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureExitView.cpp
   trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureExitView.hpp
   trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureResignView.cpp
   trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureResignView.hpp
   trunk/netpanzer/src/NetPanzer/Views/Game/DisconectedView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/MenuTemplateView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/MenuTemplateView.hpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/FlagSelectionView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/GetSessionView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/GetSessionView.hpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.hpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/Options/InterfaceView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/Options/SoundView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/OptionsTemplateView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/OptionsTemplateView.hpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/SpecialButtonView.cpp
   trunk/netpanzer/src/NetPanzer/Views/MainMenu/SpecialButtonView.hpp
Log:
- Converted all remaining buttons to Button
- Removed cButton and all its code from View
- Removed unused OrderingView and SkirmishView
Extra notes:
Still needs to convert cInputField to a Component type.


Modified: trunk/netpanzer/nbproject/Makefile-mac-debug.mk
===================================================================
--- trunk/netpanzer/nbproject/Makefile-mac-debug.mk	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/nbproject/Makefile-mac-debug.mk	2009-02-01 16:02:10 UTC (rev 1090)
@@ -37,7 +37,6 @@
 	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.o \
 	${OBJECTDIR}/src/NetPanzer/Interfaces/BaseGameManager.o \
 	${OBJECTDIR}/src/NetPanzer/Classes/PlayerState.o \
-	${OBJECTDIR}/src/NetPanzer/Views/Components/cButton.o \
 	${OBJECTDIR}/src/NetPanzer/Interfaces/InfoSocket.o \
 	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/Options/InterfaceView.o \
 	${OBJECTDIR}/src/Lib/lua/ltm.o \
@@ -142,7 +141,6 @@
 	${OBJECTDIR}/src/Lib/lua/lcode.o \
 	${OBJECTDIR}/src/Lib/2D/DigitText.o \
 	${OBJECTDIR}/src/NetPanzer/Particles/PuffParticle2D.o \
-	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/OrderingView.o \
 	${OBJECTDIR}/src/Lib/Types/fXYZ.o \
 	${OBJECTDIR}/src/NetPanzer/Views/Game/AreYouSureExitView.o \
 	${OBJECTDIR}/src/Lib/physfs/zlib123/gzio.o \
@@ -171,7 +169,6 @@
 	${OBJECTDIR}/src/Lib/physfs/archivers/dir.o \
 	${OBJECTDIR}/src/Lib/lua/ldblib.o \
 	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/MainMenuView.o \
-	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/SkirmishView.o \
 	${OBJECTDIR}/src/Lib/physfs/zlib123/crc32.o \
 	${OBJECTDIR}/src/NetPanzer/Interfaces/PlayerGameManager.o \
 	${OBJECTDIR}/src/Lib/Util/Math.o \
@@ -359,11 +356,6 @@
 	${RM} $@.d
 	$(COMPILE.cc) -g -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Classes/PlayerState.o src/NetPanzer/Classes/PlayerState.cpp
 
-${OBJECTDIR}/src/NetPanzer/Views/Components/cButton.o: src/NetPanzer/Views/Components/cButton.cpp 
-	${MKDIR} -p ${OBJECTDIR}/src/NetPanzer/Views/Components
-	${RM} $@.d
-	$(COMPILE.cc) -g -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Views/Components/cButton.o src/NetPanzer/Views/Components/cButton.cpp
-
 ${OBJECTDIR}/src/NetPanzer/Interfaces/InfoSocket.o: src/NetPanzer/Interfaces/InfoSocket.cpp 
 	${MKDIR} -p ${OBJECTDIR}/src/NetPanzer/Interfaces
 	${RM} $@.d
@@ -884,11 +876,6 @@
 	${RM} $@.d
 	$(COMPILE.cc) -g -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Particles/PuffParticle2D.o src/NetPanzer/Particles/PuffParticle2D.cpp
 
-${OBJECTDIR}/src/NetPanzer/Views/MainMenu/OrderingView.o: src/NetPanzer/Views/MainMenu/OrderingView.cpp 
-	${MKDIR} -p ${OBJECTDIR}/src/NetPanzer/Views/MainMenu
-	${RM} $@.d
-	$(COMPILE.cc) -g -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Views/MainMenu/OrderingView.o src/NetPanzer/Views/MainMenu/OrderingView.cpp
-
 ${OBJECTDIR}/src/Lib/Types/fXYZ.o: src/Lib/Types/fXYZ.cpp 
 	${MKDIR} -p ${OBJECTDIR}/src/Lib/Types
 	${RM} $@.d
@@ -1029,11 +1016,6 @@
 	${RM} $@.d
 	$(COMPILE.cc) -g -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Views/MainMenu/MainMenuView.o src/NetPanzer/Views/MainMenu/MainMenuView.cpp
 
-${OBJECTDIR}/src/NetPanzer/Views/MainMenu/SkirmishView.o: src/NetPanzer/Views/MainMenu/SkirmishView.cpp 
-	${MKDIR} -p ${OBJECTDIR}/src/NetPanzer/Views/MainMenu
-	${RM} $@.d
-	$(COMPILE.cc) -g -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Views/MainMenu/SkirmishView.o src/NetPanzer/Views/MainMenu/SkirmishView.cpp
-
 ${OBJECTDIR}/src/Lib/physfs/zlib123/crc32.o: src/Lib/physfs/zlib123/crc32.c 
 	${MKDIR} -p ${OBJECTDIR}/src/Lib/physfs/zlib123
 	${RM} $@.d

Modified: trunk/netpanzer/nbproject/Makefile-mac-release.mk
===================================================================
--- trunk/netpanzer/nbproject/Makefile-mac-release.mk	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/nbproject/Makefile-mac-release.mk	2009-02-01 16:02:10 UTC (rev 1090)
@@ -37,7 +37,6 @@
 	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.o \
 	${OBJECTDIR}/src/NetPanzer/Interfaces/BaseGameManager.o \
 	${OBJECTDIR}/src/NetPanzer/Classes/PlayerState.o \
-	${OBJECTDIR}/src/NetPanzer/Views/Components/cButton.o \
 	${OBJECTDIR}/src/NetPanzer/Interfaces/InfoSocket.o \
 	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/Options/InterfaceView.o \
 	${OBJECTDIR}/src/Lib/lua/ltm.o \
@@ -142,7 +141,6 @@
 	${OBJECTDIR}/src/Lib/lua/lcode.o \
 	${OBJECTDIR}/src/Lib/2D/DigitText.o \
 	${OBJECTDIR}/src/NetPanzer/Particles/PuffParticle2D.o \
-	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/OrderingView.o \
 	${OBJECTDIR}/src/Lib/Types/fXYZ.o \
 	${OBJECTDIR}/src/NetPanzer/Views/Game/AreYouSureExitView.o \
 	${OBJECTDIR}/src/Lib/physfs/zlib123/gzio.o \
@@ -171,7 +169,6 @@
 	${OBJECTDIR}/src/Lib/physfs/archivers/dir.o \
 	${OBJECTDIR}/src/Lib/lua/ldblib.o \
 	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/MainMenuView.o \
-	${OBJECTDIR}/src/NetPanzer/Views/MainMenu/SkirmishView.o \
 	${OBJECTDIR}/src/Lib/physfs/zlib123/crc32.o \
 	${OBJECTDIR}/src/NetPanzer/Interfaces/PlayerGameManager.o \
 	${OBJECTDIR}/src/Lib/Util/Math.o \
@@ -359,11 +356,6 @@
 	${RM} $@.d
 	$(COMPILE.cc) -O2 -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Classes/PlayerState.o src/NetPanzer/Classes/PlayerState.cpp
 
-${OBJECTDIR}/src/NetPanzer/Views/Components/cButton.o: src/NetPanzer/Views/Components/cButton.cpp 
-	${MKDIR} -p ${OBJECTDIR}/src/NetPanzer/Views/Components
-	${RM} $@.d
-	$(COMPILE.cc) -O2 -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Views/Components/cButton.o src/NetPanzer/Views/Components/cButton.cpp
-
 ${OBJECTDIR}/src/NetPanzer/Interfaces/InfoSocket.o: src/NetPanzer/Interfaces/InfoSocket.cpp 
 	${MKDIR} -p ${OBJECTDIR}/src/NetPanzer/Interfaces
 	${RM} $@.d
@@ -884,11 +876,6 @@
 	${RM} $@.d
 	$(COMPILE.cc) -O2 -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Particles/PuffParticle2D.o src/NetPanzer/Particles/PuffParticle2D.cpp
 
-${OBJECTDIR}/src/NetPanzer/Views/MainMenu/OrderingView.o: src/NetPanzer/Views/MainMenu/OrderingView.cpp 
-	${MKDIR} -p ${OBJECTDIR}/src/NetPanzer/Views/MainMenu
-	${RM} $@.d
-	$(COMPILE.cc) -O2 -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Views/MainMenu/OrderingView.o src/NetPanzer/Views/MainMenu/OrderingView.cpp
-
 ${OBJECTDIR}/src/Lib/Types/fXYZ.o: src/Lib/Types/fXYZ.cpp 
 	${MKDIR} -p ${OBJECTDIR}/src/Lib/Types
 	${RM} $@.d
@@ -1029,11 +1016,6 @@
 	${RM} $@.d
 	$(COMPILE.cc) -O2 -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Views/MainMenu/MainMenuView.o src/NetPanzer/Views/MainMenu/MainMenuView.cpp
 
-${OBJECTDIR}/src/NetPanzer/Views/MainMenu/SkirmishView.o: src/NetPanzer/Views/MainMenu/SkirmishView.cpp 
-	${MKDIR} -p ${OBJECTDIR}/src/NetPanzer/Views/MainMenu
-	${RM} $@.d
-	$(COMPILE.cc) -O2 -Wall -DPHYSFS_SUPPORTS_ZIP=1 -DZ_PREFIX=1 -I. -Isrc/Lib -Isrc/NetPanzer -Isrc/Lib/physfs -Isrc/Lib/physfs/zlib123 -I/Library/Frameworks/SDL.framework/Versions/A/Headers -I/Library/Frameworks/SDL_mixer.framework/Versions/A/Headers -MMD -MP -MF $@.d -o ${OBJECTDIR}/src/NetPanzer/Views/MainMenu/SkirmishView.o src/NetPanzer/Views/MainMenu/SkirmishView.cpp
-
 ${OBJECTDIR}/src/Lib/physfs/zlib123/crc32.o: src/Lib/physfs/zlib123/crc32.c 
 	${MKDIR} -p ${OBJECTDIR}/src/Lib/physfs/zlib123
 	${RM} $@.d

Modified: trunk/netpanzer/nbproject/configurations.xml
===================================================================
--- trunk/netpanzer/nbproject/configurations.xml	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/nbproject/configurations.xml	2009-02-01 16:02:10 UTC (rev 1090)
@@ -505,8 +505,6 @@
           &lt;logicalFolder name=&quot;Components&quot; displayName=&quot;Components&quot; projectFiles=&quot;true&quot;&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/Components/Button.cpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/Components/Button.hpp&lt;/itemPath&gt;
-            &lt;itemPath&gt;src/NetPanzer/Views/Components/cButton.cpp&lt;/itemPath&gt;
-            &lt;itemPath&gt;src/NetPanzer/Views/Components/cButton.hpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/Components/CheckBox.cpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/Components/CheckBox.hpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/Components/Choice.cpp&lt;/itemPath&gt;
@@ -612,12 +610,8 @@
             &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/MenuTemplateView.hpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/OptionsTemplateView.cpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/OptionsTemplateView.hpp&lt;/itemPath&gt;
-            &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/OrderingView.cpp&lt;/itemPath&gt;
-            &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/OrderingView.hpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/RMouseHackView.cpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/RMouseHackView.hpp&lt;/itemPath&gt;
-            &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/SkirmishView.cpp&lt;/itemPath&gt;
-            &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/SkirmishView.hpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/SpecialButtonView.cpp&lt;/itemPath&gt;
             &lt;itemPath&gt;src/NetPanzer/Views/MainMenu/SpecialButtonView.hpp&lt;/itemPath&gt;
           &lt;/logicalFolder&gt;
@@ -2079,12 +2073,6 @@
       &lt;item path=&quot;src/NetPanzer/Views/Components/ViewGlobals.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/Components/cButton.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/Components/cButton.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/Components/cInputField.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
@@ -2301,24 +2289,12 @@
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OptionsTemplateView.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OrderingView.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OrderingView.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/RMouseHackView.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/RMouseHackView.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SkirmishView.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SkirmishView.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SpecialButtonView.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
@@ -3800,12 +3776,6 @@
       &lt;item path=&quot;src/NetPanzer/Views/Components/ViewGlobals.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/Components/cButton.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/Components/cButton.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/Components/cInputField.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
@@ -4022,24 +3992,12 @@
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OptionsTemplateView.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OrderingView.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OrderingView.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/RMouseHackView.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/RMouseHackView.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SkirmishView.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SkirmishView.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SpecialButtonView.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
@@ -5521,12 +5479,6 @@
       &lt;item path=&quot;src/NetPanzer/Views/Components/ViewGlobals.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/Components/cButton.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/Components/cButton.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/Components/cInputField.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
@@ -5743,24 +5695,12 @@
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OptionsTemplateView.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OrderingView.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OrderingView.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/RMouseHackView.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/RMouseHackView.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SkirmishView.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SkirmishView.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SpecialButtonView.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
@@ -7242,12 +7182,6 @@
       &lt;item path=&quot;src/NetPanzer/Views/Components/ViewGlobals.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/Components/cButton.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/Components/cButton.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/Components/cInputField.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
@@ -7464,24 +7398,12 @@
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OptionsTemplateView.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OrderingView.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/OrderingView.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/RMouseHackView.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/RMouseHackView.hpp&quot;&gt;
         &lt;itemTool&gt;3&lt;/itemTool&gt;
       &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SkirmishView.cpp&quot;&gt;
-        &lt;itemTool&gt;1&lt;/itemTool&gt;
-      &lt;/item&gt;
-      &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SkirmishView.hpp&quot;&gt;
-        &lt;itemTool&gt;3&lt;/itemTool&gt;
-      &lt;/item&gt;
       &lt;item path=&quot;src/NetPanzer/Views/MainMenu/SpecialButtonView.cpp&quot;&gt;
         &lt;itemTool&gt;1&lt;/itemTool&gt;
       &lt;/item&gt;

Modified: trunk/netpanzer/src/Lib/2D/Surface.cpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Surface.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/Lib/2D/Surface.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -1306,6 +1306,70 @@
     }
 }
 
+void
+Surface::renderShadowedText(const char *str, PIX color, PIX bgcolor, PIX shadowcolor)
+{
+    if ( !str )
+        return;
+
+    int len = strlen(str);
+    if ( !len )
+        return;
+
+    unsigned int need_width = (len * FONT_WIDTH) + 1;
+    unsigned int need_height = FONT_HEIGHT + 1;
+
+    if ( frame0 != 0 )
+    {
+        if ( getWidth() != need_width || getHeight() != need_height )
+        {
+            free();
+            create( need_width, need_height, 1);
+        }
+    }
+    else
+    {
+        create( need_width, need_height, 1);
+    }
+    
+    //clear corner pixels.
+    putPixel(need_width-1, 0, bgcolor);
+    putPixel(0, need_height-1, bgcolor);
+
+    for ( int line = 0; line &lt; FONT_HEIGHT; ++line)
+    {
+        PIX * dptr = getFrame0() + (line * (int)getPitch());
+        PIX * shadowptr = dptr + (int)getPitch() + sizeof(PIX);
+        const char * pstr = str;
+        for ( unsigned char c = *pstr; c; c= *(++pstr))
+        {
+            if ( c &gt;=128 ) c = ' ';
+
+            char * fptr = staticFont + (c*FONT_WIDTH) + (128*FONT_WIDTH*line);
+            PIX * eptr = dptr+FONT_WIDTH;
+            do
+            {
+                if ( *(fptr++) == 0 ) // is bg
+                {
+                    if ( *dptr != shadowcolor )
+                    {
+                        *dptr = bgcolor;
+                    }
+                    *(shadowptr++) = bgcolor;
+                    dptr++;
+                }
+                else
+                {
+                    *(dptr++) = color;
+                    *(shadowptr++) = shadowcolor;
+                }
+
+            } while ( dptr &lt; eptr );
+        }
+    }
+}
+
+
 // bltChar8x8
 //---------------------------------------------------------------------------
 // Purpose: Blits the specied rom character to the screen at the specified

Modified: trunk/netpanzer/src/Lib/2D/Surface.hpp
===================================================================
--- trunk/netpanzer/src/Lib/2D/Surface.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/Lib/2D/Surface.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -193,6 +193,7 @@
 
     // Text rendering functions
     void renderText(const char *str, PIX color, PIX bgcolor);
+    void renderShadowedText(const char *str, PIX color, PIX bgcolor, PIX shadowcolor);
     
     // Blit a single character of text.
     void bltChar8x8(int x, int y, unsigned char character, const PIX &amp;color);

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/GameManager.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/GameManager.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/GameManager.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -65,8 +65,6 @@
 #include &quot;Views/Components/ViewGlobals.hpp&quot;
 #include &quot;Views/MainMenu/MainMenuView.hpp&quot;
 #include &quot;Views/MainMenu/OptionsTemplateView.hpp&quot;
-#include &quot;Views/MainMenu/OrderingView.hpp&quot;
-#include &quot;Views/MainMenu/SkirmishView.hpp&quot;
 #include &quot;Views/MainMenu/HelpView.hpp&quot;
 #include &quot;Views/MainMenu/Multi/JoinView.hpp&quot;
 #include &quot;Views/MainMenu/Multi/HostView.hpp&quot;

Modified: trunk/netpanzer/src/NetPanzer/Interfaces/PlayerGameManager.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Interfaces/PlayerGameManager.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Interfaces/PlayerGameManager.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -60,8 +60,6 @@
 #include &quot;Views/Components/ViewGlobals.hpp&quot;
 #include &quot;Views/MainMenu/MainMenuView.hpp&quot;
 #include &quot;Views/MainMenu/OptionsTemplateView.hpp&quot;
-#include &quot;Views/MainMenu/OrderingView.hpp&quot;
-#include &quot;Views/MainMenu/SkirmishView.hpp&quot;
 #include &quot;Views/MainMenu/HelpView.hpp&quot;
 #include &quot;Views/MainMenu/Multi/JoinView.hpp&quot;
 #include &quot;Views/MainMenu/Multi/HostView.hpp&quot;
@@ -188,7 +186,6 @@
     Desktop::add(new HostView());
     Desktop::add(new GetSessionView());
     Desktop::add(new OptionsTemplateView());
-    Desktop::add(new OrderingView());
     Desktop::add(new HelpView());
     Desktop::add(new SoundView());
     Desktop::add(new ControlsView());

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/Button.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/Button.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/Button.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -28,7 +28,8 @@
 void
 Button::render()
 {
-    if ( bimage.getNumFrames() == 1 ) {
+    if ( bimage.getNumFrames() == 1 )
+    {
         bimage.blt(surface, extraBorder, extraBorder);
     }
     else if ( bimage.getNumFrames() == 3 )
@@ -49,7 +50,7 @@
     if ( label.length() )
     {
         Surface text;
-        text.renderText( label.c_str(), textColor, 0);
+        text.renderText( label.c_str(), textColors[bstate], 0);
         // blit centered and transparent
         text.bltTrans(surface, (surface.getWidth()/2) - (text.getWidth()/2),
                       (surface.getHeight()/2) - (text.getHeight()/2));        
@@ -66,19 +67,16 @@
                 || me.getID() == mMouseEvent::MOUSE_EVENT_RELEASED)
     {
         bstate = BOVER;
-        textColor = Color::red;
         dirty = true; // draw text in red
     }
     else if (me.getID() == mMouseEvent::MOUSE_EVENT_EXITED)
     {
         bstate = BNORMAL;
-        textColor = Color::white;
         dirty = true; // draw defaults;
     }
     else if (me.getID() == mMouseEvent::MOUSE_EVENT_PRESSED)
     {
         bstate = BPRESSED;
-        textColor = Color::yellow;
         dirty = true;
     }
     else if (me.getID() == mMouseEvent::MOUSE_EVENT_CLICKED)

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/Button.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/Button.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/Button.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -39,7 +39,7 @@
     std::string label;
         
     PIX borders[3][2];
-    PIX textColor;
+    PIX textColors[3];
     
     Surface bimage;
     
@@ -49,19 +49,19 @@
     void resetState()
     {
         bstate = BNORMAL;
-        textColor = Color::white;
         dirty = true;
     }
 
 public:
-    Button(const std::string &amp;cname) : Component(cname)
+    Button(const std::string &amp;cname) : Component(&quot;Button.&quot; + cname)
     {
+        setTextColors(Color::white, Color::red, Color::yellow);
         position.zero();
         label.clear();
         bstate = BNORMAL;
-        textColor = Color::white;
         memset(borders, 0, sizeof(borders));
         extraBorder = 0;
+        dirty = true;
     }
 
     virtual ~Button()
@@ -82,6 +82,47 @@
         return b;
     }
 
+    static Button * createSpecialButton(std::string cname,
+                                        std::string label,
+                                        iXY loc,
+                                        int customcode = -1)
+    {
+        Surface bnormal;
+        bnormal.loadBMP(&quot;pics/backgrounds/menus/buttons/default/specialbutton0.bmp&quot;);
+
+        Surface bhover;
+        bhover.loadBMP(&quot;pics/backgrounds/menus/buttons/default/specialbutton1.bmp&quot;);
+
+        Surface bclick;
+        bclick.loadBMP(&quot;pics/backgrounds/menus/buttons/default/specialbutton2.bmp&quot;);
+
+        Surface spbutton(bnormal.getWidth(), bnormal.getHeight(), 3);
+
+        spbutton.setFrame(0);
+        bnormal.blt(spbutton,0,0);
+        spbutton.setFrame(1);
+        bhover.blt(spbutton,0,0);
+        spbutton.setFrame(2);
+        bclick.blt(spbutton,0,0);
+        spbutton.setFrame(0);
+
+        Button *b = new Button(cname);
+        b-&gt;setImage(spbutton);
+        b-&gt;setLabel(label);
+        b-&gt;setLocation(loc);
+        b-&gt;setTextColors(Color::yellow, Color::white, Color::white);
+        b-&gt;setCustomCode(customcode);
+
+        return b;
+    }
+
+    void setTextColors( PIX normal, PIX over, PIX pressed)
+    {
+        textColors[BNORMAL] = normal;
+        textColors[BOVER] = over;
+        textColors[BPRESSED] = pressed;
+    }
+
     void setLabel(const std::string&amp; l)
     {
         label = l;

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/Component.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/Component.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/Component.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -125,13 +125,14 @@
 
     virtual void draw(int posx, int posy, Surface &amp;dest)
     {
+        //LOGGER.warning(&quot;drawing component: '%s'&quot;, componentName.c_str());
         iRect bounds;
         getBounds(bounds);
         
         if ( dirty )
             render();
         
-        surface.blt(dest, posx + bounds.min.x, posy + bounds.min.y);
+        surface.bltTrans(dest, posx + bounds.min.x, posy + bounds.min.y);
     }
     
     virtual void render() = 0;

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/Label.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/Label.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/Label.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -19,15 +19,17 @@
 #include &quot;Label.hpp&quot;
 
 void
-Label::draw( int posx, int posy, Surface &amp;dest)
-{    
+Label::render()
+{
+    surface.free();
     if ( shadowed )
     {
-        dest.bltStringShadowed(posx + position.x, posy + position.y, text.c_str(), foreground, background);
+        surface.renderShadowedText(text.c_str(), foreground, 0, background);
     }
     else
     {
-        dest.bltString(posx + position.x, posy + position.y, text.c_str(), foreground);
+        surface.renderText(text.c_str(), foreground, 0);
     }
+    dirty = false;
 }
 

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/Label.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/Label.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/Label.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -27,8 +27,10 @@
 class Label:public Component
 {
 public:
-    Label(int x, int y, string t, PIX color, PIX bgcolor=Color::black, bool shadow=false)
+    Label( int x, int y, string t, PIX color, PIX bgcolor=Color::black, bool shadow=false)
+            : Component(&quot;Label.&quot; + t)
     {
+        dirty = true;
         text = t;
         background = bgcolor;
         foreground = color;
@@ -36,14 +38,9 @@
         position.x = x;
         position.y = y;
     }
+        
+    void render();
     
-    void draw( int posx, int posy, Surface &amp;dest);
-    
-    virtual void render()
-    {
-        // nothing
-    }
-    
     void actionPerformed(const mMouseEvent &amp;me)
     {
         // nothing

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/View.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/View.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/View.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -61,13 +61,6 @@
 View::View(const iXY &amp;pos, const iXY &amp;size, const char *title)
 {
     reset();
-
-    // If the button is bordered, then put a close button on it.
-    //if (status &amp; STATUS_ISBORDERED)
-    //LOG((&quot;About to addButton&quot;));
-    //addButton(iXY(getSizeX()-10, getSizeY()-10), &quot;pics/buttons/wclose.raw&quot;, &quot;Close the current window&quot;, View::toggleWindow);
-    //LOG((&quot;Past addButton&quot;));
-
     moveTo(pos);
     resize(size);
     setTitle(title);
@@ -78,10 +71,6 @@
 //---------------------------------------------------------------------------
 View::~View()
 {
-    std::vector&lt;cButton*&gt;::iterator i;
-    for(i = buttons.begin(); i != buttons.end(); i++) {
-        delete *i;
-    }
     std::vector&lt;cInputField*&gt;::iterator f;
     for(f = inputFields.begin(); f != inputFields.end(); f++) {
         delete *f;
@@ -101,10 +90,6 @@
     min.zero();
     max.zero();
     status                =  0;
-    pressedButton         = -1;
-    prevPressedButton     = -1;
-    highlightedButton     = -1;
-    prevHighlightedButton = -1;
     selectedInputField    = -1;
     searchName            = 0;
     title                 = 0;
@@ -397,10 +382,7 @@
         drawStatus();
     }
 
-    drawDefinedButtons();
     drawInputFields();
-    drawHighlightedButton();
-    drawPressedButton();
 
     // Draw all non-selected components.
     ComponentsIterator i;
@@ -462,6 +444,7 @@
     }
 } // end View::doDeactivate
 
+
 // getMouseActions
 //---------------------------------------------------------------------------
 // Purpose: Find the actions associated with the position of the mouse arrow
@@ -569,9 +552,6 @@
 //---------------------------------------------------------------------------
 void View::mouseMove(const iXY &amp; prevPos, const iXY &amp;newPos)
 {
-    prevHighlightedButton = highlightedButton;
-    highlightedButton     = findButtonContaining(newPos);
-
     // Check all components for a clicked event.
     ComponentsIterator i;
     for ( i=components.begin(); i != components.end(); i++)
@@ -619,11 +599,6 @@
 //---------------------------------------------------------------------------
 void View::lMouseDown(const iXY &amp;pos)
 {
-    if (pressedButton &lt; 0) {
-        prevPressedButton = pressedButton;
-        pressedButton     = findButtonContaining(pos);
-    }
-
     if (selectedInputField &lt; 0) {
         selectedInputField = findInputFieldContaining(pos);
     }
@@ -653,20 +628,6 @@
 {
     Desktop::resetMouseActionOffset();
 
-    if (pressedButton == findButtonContaining(upPos)) {
-        if (pressedButton &gt;= 0) {
-            //if (mouse.getCurButton() &amp; 0)
-            if (buttons[pressedButton]-&gt;leftClickFunc != 0)
-                buttons[pressedButton]-&gt;leftClickFunc();
-            else
-            if (buttons[pressedButton]-&gt;rightClickFunc != 0)
-                buttons[pressedButton]-&gt;rightClickFunc();
-        }
-    }
-
-    prevPressedButton = pressedButton;
-    pressedButton     = -1;
-
     // Check all components for a clicked event.
     {    
         ComponentsIterator i;
@@ -697,7 +658,7 @@
 
     // I added this so I can tell if a button was pressed when
     // the mouse button is let up.
-    return prevPressedButton;
+    return -1;
 
 } // end View::lMouseUp
 
@@ -894,20 +855,6 @@
     //}
 } // end scrollBarMove
 
-
-// drawDefinedButtons
-//---------------------------------------------------------------------------
-// Purpose:
-//---------------------------------------------------------------------------
-void View::drawDefinedButtons()
-{
-    std::vector&lt;cButton*&gt;::iterator i;
-    for(i = buttons.begin(); i != buttons.end(); i++) {
-        cButton* button = *i;
-        button-&gt;topSurface.blt(*screen, clientRect.min + button-&gt;getBounds().min);
-    }
-} // end drawDefinedButtons
-
 // drawInputFields
 //---------------------------------------------------------------------------
 // Purpose:
@@ -926,50 +873,6 @@
     }
 } // end drawInputFields
 
-// drawHighlightedButton
-//---------------------------------------------------------------------------
-// Purpose: Draws the correct image frame for the currently highlighted button.
-//---------------------------------------------------------------------------
-void View::drawHighlightedButton()
-{
-    assert(this != 0);
-
-    if (highlightedButton &lt; 0) {
-        return;
-    } else if (buttons[highlightedButton]-&gt;topSurface.getFrameCount() &lt; 2) {
-        cButton* button = buttons[highlightedButton];
-        screen-&gt;drawRect(iRect(clientRect.min.x + button-&gt;getBounds().min.x,
-                                  clientRect.min.y + button-&gt;getBounds().min.y,
-                                  clientRect.max.x + button-&gt;getBounds().max.x,
-                                  clientRect.max.y + button-&gt;getBounds().max.y),
-                            Color::red);
-        return;
-    }
-
-    if (pressedButton == highlightedButton) {
-        return;
-    }
-
-    if (highlightedButton &gt; (int) buttons.size()) {
-        throw Exception(&quot;ERROR: highlightedButton &gt; butons.getCount()&quot;);
-    }
-
-    // Change to the highlight button frame.
-    buttons[highlightedButton]-&gt;topSurface.setFrame(1);
-    buttons[highlightedButton]-&gt;topSurface.blt(*screen,
-            iXY(clientRect.min.x + buttons[highlightedButton]-&gt;getBounds().min.x,
-                clientRect.min.y + buttons[highlightedButton]-&gt;getBounds().min.y));
-    buttons[highlightedButton]-&gt;topSurface.setFrame(0);
-
-} // end drawHighlightedButton
-
-void View::addButtonPackedSurface(const iXY &amp;pos, PackedSurface &amp;source, const char *toolTip, ITEM_FUNC leftClickFunc)
-{
-    cButton* button = new cButton;
-    button-&gt;createPacked(pos, source, toolTip, leftClickFunc);
-    buttons.push_back(button);
-}
-
 // setSearchName
 //---------------------------------------------------------------------------
 // Purpose: Sets the title of the window.
@@ -1060,25 +963,6 @@
     }
 } // end View::drawStatus
 
-// findButtonContaining
-//---------------------------------------------------------------------------
-// Purpose: Finds the button containing the position of the mouse.  The
-//          button are bounded relative to the window, so make sure to make
-//          the mouse position relative to the window before calling this.
-//---------------------------------------------------------------------------
-int View::findButtonContaining(const iXY &amp;pos)
-{
-    assert(this != 0);
-
-    for (size_t num = 0; num &lt; buttons.size(); num++) {
-        if (buttons[num]-&gt;contains(pos)) {
-            //LOG((&quot;pressed button: %u&quot;, num));
-            return num;
-        }
-    }
-    return -1;
-} // end findButtonContaining
-
 // findInputFieldContaining
 //---------------------------------------------------------------------------
 // Purpose:
@@ -1095,26 +979,6 @@
     return -1;
 } // end findInputFieldContaining
 
-// drawPressedButton
-//---------------------------------------------------------------------------
-// Purpose: Draws the selected button.
-//---------------------------------------------------------------------------
-void View::drawPressedButton()
-{
-    assert(this != 0);
-
-    if (pressedButton &lt; 0 || buttons[pressedButton]-&gt;topSurface.getFrameCount() &lt; 2) return;
-    if (highlightedButton != pressedButton) return;
-    assert(pressedButton &lt; (int) buttons.size());
-
-    // Chage to the highlight button frame.
-    buttons[pressedButton]-&gt;topSurface.setFrame(2);
-    buttons[pressedButton]-&gt;topSurface.blt(*screen,
-            iXY(clientRect.min.x + buttons[pressedButton]-&gt;getBounds().min.x,
-                clientRect.min.y + buttons[pressedButton]-&gt;getBounds().min.y));
-    buttons[pressedButton]-&gt;topSurface.setFrame(0);
-} // drawPressedButton
-
 // checkResolution
 //---------------------------------------------------------------------------
 // Purpose: Check position after resolution change
@@ -1172,30 +1036,6 @@
     max = min + destSize;
 } // end View::resize
 
-// setPressedButton
-//---------------------------------------------------------------------------
-void View::setPressedButton(const int &amp;button)
-{
-    if (button &gt;= (int) buttons.size()) {
-        throw Exception(&quot;ERROR: pressedButton &gt;= numButtons&quot;);
-    }
-
-    prevPressedButton = pressedButton;
-    pressedButton     = button;
-} // end setPressedButton
-
-// setHighlightedButton
-//---------------------------------------------------------------------------
-void View::setHighlightedButton(const int &amp;button)
-{
-    if (button &gt;= (int) buttons.size()) {
-        throw Exception(&quot;ERROR: highlightedButton &gt;= numButtons&quot;);
-    }
-
-    prevHighlightedButton = highlightedButton;
-    highlightedButton     = button;
-} // end setHighlightedButton
-
 // moveTo
 //---------------------------------------------------------------------------
 // Purpose: Move the window to the specified position, while making sure the
@@ -1332,16 +1172,6 @@
     return inputfield;
 } // end addInputField
 
-//---------------------------------------------------------------------------
-void View::add(DEFAULT_VIEW_BUTTON button)
-{
-    if (button == CLOSE_VIEW_BUTTON) {}
-    else if (button == MINMAX_VIEW_BUTTON) {}
-    else {
-        assert(false);
-    }
-}
-
 void
 View::drawString(int x, int y, const char * str, const PIX&amp; color)
 {

Modified: trunk/netpanzer/src/NetPanzer/Views/Components/View.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/View.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/View.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -19,7 +19,6 @@
 #ifndef __View_hpp__
 #define __View_hpp__
 
-#include &quot;cButton.hpp&quot;
 #include &quot;2D/Surface.hpp&quot;
 #include &quot;2D/PackedSurface.hpp&quot;
 #include &quot;cInputField.hpp&quot;
@@ -32,18 +31,17 @@
 
 using namespace std;
 
-enum DEFAULT_VIEW_BUTTON
-{
-    CLOSE_VIEW_BUTTON,
-    MINMAX_VIEW_BUTTON
-};
+//enum DEFAULT_VIEW_BUTTON
+//{
+//    CLOSE_VIEW_BUTTON,
+//    MINMAX_VIEW_BUTTON
+//};
 
 class View : public iRect
 {
     friend class Desktop;
 public:
     void add(Component *Component);
-    void add(DEFAULT_VIEW_BUTTON button);
 
     typedef list&lt;Component *&gt; ComponentList;
     typedef ComponentList::iterator ComponentsIterator;
@@ -52,7 +50,6 @@
     
     Component *focusComponent;
 
-    std::vector&lt;cButton*&gt;     buttons;
     std::vector&lt;cInputField*&gt; inputFields;
 
     enum
@@ -99,10 +96,7 @@
     {
         moveTo(iXY(x, y));
     }
-    void removeAllButtons()
-    {
-        buttons.clear(); // XXX LEAK
-    }
+
     void removeComponents()
     {
         ComponentsIterator i = components.begin();
@@ -243,15 +237,6 @@
 
     // Scroll bar functions.
 
-    // cButton Functions.
-    void addButtonPackedSurface(const iXY &amp;pos, PackedSurface &amp;source, const char *toolTip, ITEM_FUNC leftClickFunc);
-    /*!FIXME!*/ void drawDefinedButtons   ();
-    void drawHighlightedButton();
-    void drawPressedButton();
-    void setPressedButton(const int &amp;cButton);
-    void setHighlightedButton(const int &amp;cButton);
-    int  findButtonContaining(const iXY &amp;pos);
-
     // SearchName, Title, and SubTitle functions.
     void  setSearchName(const char *searchName);
     void  setTitle(const char *title);

Deleted: trunk/netpanzer/src/NetPanzer/Views/Components/cButton.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/cButton.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/cButton.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -1,122 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-#include &lt;config.h&gt;
-
-#include &quot;cButton.hpp&quot;
-#include &quot;2D/Surface.hpp&quot;
-#include &quot;Util/Exception.hpp&quot;
-#include &quot;2D/Color.hpp&quot;
-#include &quot;ViewGlobals.hpp&quot;
-
-
-void cButton::createPacked(const iXY &amp;pos, PackedSurface &amp;source, const char *toolTip, ITEM_FUNC leftClickFunc)
-{
-    Surface tempTopSurface(source.getWidth(), source.getHeight(), source.getFrameCount());
-
-    for (unsigned int i = 0; i &lt; tempTopSurface.getNumFrames(); i++) {
-        tempTopSurface.setFrame(i);
-        tempTopSurface.fill(0);
-        source.setFrame(i);
-        source.blt(tempTopSurface, 0, 0);
-    }
-
-    topSurface.pack(tempTopSurface);
-
-    cButton::toolTip       = strdup(toolTip); assert(toolTip != 0);
-    cButton::bounds        = iRect(pos.x, pos.y, pos.x + tempTopSurface.getWidth(), pos.y + tempTopSurface.getHeight());
-    cButton::leftClickFunc = leftClickFunc;
-}
-
-// createCenterText
-//---------------------------------------------------------------------------
-// Purpose: Creates a button with the name centered in the absolute horizontal
-//          middle of the button.
-//---------------------------------------------------------------------------
-void cButton::createCenterText(iXY pos,
-                               int xSize,
-                               const char *nName,
-                               const char *nToolTip,
-                               ITEM_FUNC nLeftClickFunc)
-{
-    Surface tempTopSurface;
-
-    const unsigned GAP_SPACE = 6;
-
-    int ySize = Surface::getFontHeight() + GAP_SPACE;
-    tempTopSurface.create(xSize, ySize, 3);
-
-    // Find out the horizontal offset to put the button name on the button.
-    int xOffset;
-    if (nName != 0) xOffset = (xSize-(Surface::getTextLength(nName)))/2;
-    else xOffset = xSize/2;
-
-    // Make the unselected button
-    tempTopSurface.fill(componentBodyColor);
-    tempTopSurface.drawButtonBorder(topLeftBorderColor, bottomRightBorderColor);
-    tempTopSurface.bltString(xOffset, GAP_SPACE/2, nName, componentInActiveTextColor);
-
-    // Make the mouse-over button
-    tempTopSurface.setFrame(1);
-    tempTopSurface.fill(componentBodyColor);
-    tempTopSurface.drawButtonBorder(topLeftBorderColor, bottomRightBorderColor);
-    tempTopSurface.bltString(xOffset, GAP_SPACE/2, nName, componentFocusTextColor);
-
-    // Make the selected button
-    tempTopSurface.setFrame(2);
-    tempTopSurface.fill(componentBodyColor);
-    tempTopSurface.drawButtonBorder(bottomRightBorderColor, topLeftBorderColor);
-    tempTopSurface.bltString(xOffset+1, GAP_SPACE/2+1, nName, componentActiveTextColor);
-
-    // Save the button name.
-    setName(nName); assert(name != 0);
-
-    // Save the button tool tip.
-    toolTip = strdup(nToolTip); assert(toolTip != 0);
-
-    // Save the bounds of the button.
-    bounds = iRect(pos.x, pos.y, pos.x+tempTopSurface.getWidth(), pos.y+tempTopSurface.getHeight());
-
-    // Save the function associated with the button.
-    leftClickFunc = nLeftClickFunc;
-
-    // Reset the button to unselected status.
-    tempTopSurface.setFrame(0);
-
-    topSurface.pack(tempTopSurface);
-
-} // end createCenterText
-
-// RESET
-//---------------------------------------------------------------------------
-void cButton::reset()
-{
-    toolTip        = 0;
-    name           = 0;
-    isSelected     = false;
-    leftClickFunc  = 0;
-    rightClickFunc = 0;
-} // end RESET
-
-// SET NAME
-//---------------------------------------------------------------------------
-void cButton::setName(const char *buttonName)
-{
-    name = strdup(buttonName);
-    if (buttonName == 0) throw Exception(&quot;ERROR: Unable to allocate button name: %s&quot;, buttonName);
-} // end SET NAME
-

Deleted: trunk/netpanzer/src/NetPanzer/Views/Components/cButton.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Components/cButton.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Components/cButton.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -1,99 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-#ifndef __cButton_hpp__
-#define __cButton_hpp__
-
-#include &lt;stdlib.h&gt;
-#include &quot;Types/iXY.hpp&quot;
-#include &quot;Types/iRect.hpp&quot;
-#include &quot;2D/PackedSurface.hpp&quot;
-#include &quot;Util/NoCopy.hpp&quot;
-
-class Surface;
-
-class cButton : public NoCopy
-{
-public:
-    cButton()
-    {
-        reset();
-    }
-    ~cButton()
-    {
-        if (name    != 0) free(name);
-        if (toolTip != 0) free(toolTip);
-    }
-
-    typedef void (*ITEM_FUNC)(void);
-
-    ITEM_FUNC rightClickFunc;
-    ITEM_FUNC leftClickFunc;
-    PackedSurface topSurface;
-    PackedSurface bottomSurface;
-
-    iRect getBounds    () const
-    {
-        return bounds;
-    }
-    const char *getName () const
-    {
-        return name;
-    }
-    bool  getIsSelected() const
-    {
-        return isSelected;
-    }
-    const char* getToolTip() const
-    {
-        return toolTip;
-    }
-
-    void createPacked(const iXY &amp;pos, PackedSurface &amp;source, const char *toolTip, ITEM_FUNC leftClickFunc);
-
-    void createCenterText(iXY pos, int xSize, const char *nName, const char *nToolTip, ITEM_FUNC nLeftClickFunc);
-
-    inline bool contains(iXY pos)
-    {
-        assert(this != 0);
-
-        if (	pos.x &gt;= bounds.min.x &amp;&amp;
-                pos.y &gt;=  bounds.min.y &amp;&amp;
-                pos.x &lt; bounds.max.x &amp;&amp;
-                pos.y &lt; bounds.max.y) {
-            return true;
-
-        } else {
-            return false;
-        }
-    }
-    bool   isSelected;
-
-private:
-    iRect  bounds;
-    char  *toolTip;
-    char  *name;
-
-    void  reset();
-
-protected:
-    void setName(const char *buttonName);
-
-}
-; // end cButton
-
-#endif // end __cButton_hpp__

Modified: trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureExitView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureExitView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureExitView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -22,21 +22,14 @@
 #include &quot;2D/Palette.hpp&quot;
 #include &quot;Classes/ScreenSurface.hpp&quot;
 #include &quot;Interfaces/GameManager.hpp&quot;
+#include &quot;Views/Components/Button.hpp&quot;
 
-//---------------------------------------------------------------------------
-static void bYES()
+enum
 {
-    GameManager::drawTextCenteredOnScreen(&quot;Exiting&quot;, Color::white);
+    BTN_YES,
+    BTN_NO
+};
 
-    GameManager::exitNetPanzer();
-}
-
-//---------------------------------------------------------------------------
-static void bNO()
-{
-    Desktop::setVisibility(&quot;AreYouSureExitView&quot;, false);
-}
-
 // AreYouSureExitView
 //---------------------------------------------------------------------------
 AreYouSureExitView::AreYouSureExitView() : SpecialButtonView()
@@ -51,8 +44,6 @@
 //---------------------------------------------------------------------------
 void AreYouSureExitView::init()
 {
-    removeAllButtons();
-
     setBordered(false);
     setAllowResize(false);
     setDisplayStatusBar(false);
@@ -62,15 +53,13 @@
 
     int x = (getClientRect().getSize().x - (141 * 2 + 20)) / 2;
     int y = screen-&gt;getHeight()/2 + 30;
-    addSpecialButton(	iXY(x, y),
-                      &quot;YES&quot;,
-                      bYES);
 
-    x += 141 + 10;
-    addSpecialButton(	iXY(x, y),
-                      &quot;NO&quot;,
-                      bNO);
+    iXY pos(x,y);
+    add( Button::createSpecialButton(&quot;yes&quot;,&quot;Yes&quot;, pos, BTN_YES));
 
+    pos.x += 141 + 10;
+    add( Button::createSpecialButton(&quot;no&quot;,&quot;No&quot;, pos, BTN_NO));
+
 } // end AreYouSureExitView::init
 
 // doDraw
@@ -93,3 +82,19 @@
     Desktop::setActiveView(this);
 
 } // end AreYouSureExitView::doActivate
+
+void
+AreYouSureExitView::onComponentClicked(Component* c)
+{
+    switch ( c-&gt;getCustomCode() )
+    {
+        case BTN_YES:
+            GameManager::drawTextCenteredOnScreen(&quot;Exiting&quot;, Color::white);
+            GameManager::exitNetPanzer();
+            break;
+
+        case BTN_NO:
+            Desktop::setVisibility(&quot;AreYouSureExitView&quot;, false);
+            break;
+    }
+}

Modified: trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureExitView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureExitView.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureExitView.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -27,6 +27,9 @@
 private:
     void init();
 
+protected:
+    void onComponentClicked(Component *c);
+
 public:
     AreYouSureExitView();
 

Modified: trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureResignView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureResignView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureResignView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -31,84 +31,14 @@
 #include &quot;2D/Palette.hpp&quot;
 #include &quot;Views/MainMenu/Options/InterfaceView.hpp&quot;
 #include &quot;Interfaces/GameConfig.hpp&quot;
+#include &quot;Views/Components/Button.hpp&quot;
 
-//---------------------------------------------------------------------------
-static void bYES()
+enum
 {
-    if(gameconfig-&gt;quickConnect == true) {
-        GameManager::exitNetPanzer();
-        return;
-    }
-    
-    GameManager::drawTextCenteredOnScreen(&quot;Loading Main View...&quot;, Color::white);
-    sprintf(MenuTemplateView::currentMultiView, &quot;GetSessionView&quot;);
+    BTN_YES,
+    BTN_NO
+};
 
-    // Vlad put all code in here for shutdown.
-    //----------------------
-    GameManager::quitNetPanzerGame();
-    //----------------------
-
-    // Swap to the menu resolution.
-    //GameManager::setVideoMode(iXY(640, 480), false);
-
-    GameManager::drawTextCenteredOnScreen(&quot;Loading Main View...&quot;, Color::white);
-
-    GameManager::loadPalette(&quot;netpmenu&quot;);
-
-    // Must remove the gameView first so that the initButtons detects that
-    // and loads the correct buttons.
-    Desktop::setVisibilityAllWindows(false);
-    Desktop::setVisibility(&quot;MainView&quot;, true);
-
-    View *v = Desktop::getView(&quot;OptionsView&quot;);
-
-    if (v != 0) {
-        ((OptionsTemplateView *)v)-&gt;initButtons();
-        ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
-    } else {
-        assert(false);
-    }
-
-    v = Desktop::getView(&quot;SoundView&quot;);
-    if (v != 0) {
-        ((SoundView *)v)-&gt;initButtons();
-        ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
-    } else {
-        assert(false);
-    }
-
-    v = Desktop::getView(&quot;ControlsView&quot;);
-    if (v != 0) {
-        ((ControlsView *)v)-&gt;initButtons();
-        ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
-    } else {
-        assert(false);
-    }
-
-    v = Desktop::getView(&quot;VisualsView&quot;);
-    if (v != 0) {
-        ((VisualsView *)v)-&gt;initButtons();
-        ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
-    } else {
-        assert(false);
-    }
-
-    v = Desktop::getView(&quot;InterfaceView&quot;);
-    if (v != 0) {
-        ((InterfaceView *)v)-&gt;initButtons();
-        ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
-    } else {
-        assert(false);
-    }
-}
-
-//---------------------------------------------------------------------------
-static void bNO()
-{
-    Desktop::setVisibility(&quot;AreYouSureResignView&quot;, false);
-    //Desktop::setVisibility(&quot;ResignView&quot;, true);
-}
-
 // AreYouSureResignView
 //---------------------------------------------------------------------------
 AreYouSureResignView::AreYouSureResignView() : SpecialButtonView()
@@ -122,8 +52,6 @@
 //---------------------------------------------------------------------------
 void AreYouSureResignView::init()
 {
-    removeAllButtons();
-
     setBordered(false);
     setAllowResize(false);
     setDisplayStatusBar(false);
@@ -133,15 +61,13 @@
 
     int x = (getClientRect().getSize().x - (141 * 2 + 20)) / 2;
     int y = getClientRect().getSize().y/2 + 30;
-    addSpecialButton(	iXY(x, y),
-                      &quot;YES&quot;,
-                      bYES);
 
-    x += 141 + 10;
-    addSpecialButton(	iXY(x, y),
-                      &quot;NO&quot;,
-                      bNO);
+    iXY pos(x,y);
+    add( Button::createSpecialButton(&quot;yes&quot;,&quot;Yes&quot;, pos, BTN_YES));
 
+    pos.x += 141 + 10;
+    add( Button::createSpecialButton(&quot;no&quot;,&quot;No&quot;, pos, BTN_NO));
+
 } // end AreYouSureResignView::init
 
 // doDraw
@@ -166,3 +92,97 @@
     Desktop::setActiveView(this);
 } // end AreYouSureResignView::doActivate
 
+void
+AreYouSureResignView::onComponentClicked(Component* c)
+{
+    switch ( c-&gt;getCustomCode() )
+    {
+        case BTN_YES:
+            if(gameconfig-&gt;quickConnect == true)
+            {
+                GameManager::exitNetPanzer();
+                return;
+            }
+
+            GameManager::drawTextCenteredOnScreen(&quot;Loading Main View...&quot;, Color::white);
+            sprintf(MenuTemplateView::currentMultiView, &quot;GetSessionView&quot;);
+
+            // Vlad put all code in here for shutdown.
+            //----------------------
+            GameManager::quitNetPanzerGame();
+            //----------------------
+
+            // Swap to the menu resolution.
+            //GameManager::setVideoMode(iXY(640, 480), false);
+
+            GameManager::drawTextCenteredOnScreen(&quot;Loading Main View...&quot;, Color::white);
+
+            GameManager::loadPalette(&quot;netpmenu&quot;);
+
+            // Must remove the gameView first so that the initButtons detects that
+            // and loads the correct buttons.
+            Desktop::setVisibilityAllWindows(false);
+            Desktop::setVisibility(&quot;MainView&quot;, true);
+
+            View *v = Desktop::getView(&quot;OptionsView&quot;);
+
+            if (v != 0)
+            {
+                ((OptionsTemplateView *)v)-&gt;initButtons();
+                ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
+            }
+            else
+            {
+                assert(false);
+            }
+
+            v = Desktop::getView(&quot;SoundView&quot;);
+            if (v != 0)
+            {
+                ((SoundView *)v)-&gt;initButtons();
+                ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
+            }
+            else
+            {
+                assert(false);
+            }
+
+            v = Desktop::getView(&quot;ControlsView&quot;);
+            if (v != 0)
+            {
+                ((ControlsView *)v)-&gt;initButtons();
+                ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
+            }
+            else
+            {
+                assert(false);
+            }
+
+            v = Desktop::getView(&quot;VisualsView&quot;);
+            if (v != 0)
+            {
+                ((VisualsView *)v)-&gt;initButtons();
+                ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
+            }
+            else
+            {
+                assert(false);
+            }
+
+            v = Desktop::getView(&quot;InterfaceView&quot;);
+            if (v != 0)
+            {
+                ((InterfaceView *)v)-&gt;initButtons();
+                ((OptionsTemplateView *)v)-&gt;setAlwaysOnBottom(true);
+            }
+            else
+            {
+                assert(false);
+            }
+            break;
+
+        case BTN_NO:
+            Desktop::setVisibility(&quot;AreYouSureResignView&quot;, false);
+            break;
+    }
+}

Modified: trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureResignView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureResignView.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Game/AreYouSureResignView.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -27,6 +27,9 @@
 private:
     void init();
 
+protected:
+    void onComponentClicked(Component *c);
+
 public:
     AreYouSureResignView();
 

Modified: trunk/netpanzer/src/NetPanzer/Views/Game/DisconectedView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/Game/DisconectedView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/Game/DisconectedView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -47,8 +47,6 @@
 void
 DisconectedView::init()
 {
-    removeAllButtons();
-
     setBordered(true);
     setAllowResize(false);
 

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/MenuTemplateView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/MenuTemplateView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/MenuTemplateView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -18,6 +18,7 @@
 #include &lt;config.h&gt;
 
 #include &quot;Types/iRect.hpp&quot;
+#include &quot;Views/Components/Button.hpp&quot;
 
 #include &quot;Views/MainMenu/MenuTemplateView.hpp&quot;
 #include &quot;2D/Palette.hpp&quot;
@@ -38,95 +39,20 @@
 Surface       MenuTemplateView::backgroundSurface;
 PackedSurface MenuTemplateView::titlePackedSurface;
 
-//PackedSurface MenuTemplateView::netPanzerLogo;
+#define BTN_MAIN            &quot;MenuTemplateView.Main&quot;
+#define BTN_MULTI           &quot;MenuTemplateView.Multiplayer&quot;
+#define BTN_OPTIONS         &quot;MenuTemplateView.Options&quot;
+#define BTN_HELP            &quot;MenuTemplateView.Help&quot;
+#define BTN_EXIT            &quot;MenuTemplateView.Exit&quot;
+#define BTN_INGAMEEXIT      &quot;MenuTemplateView.InGamExit&quot;
+#define BTN_RESIGN          &quot;MenuTemplateView.Resign&quot;
+#define BTN_CLOSEOPTIONS    &quot;MenuTemplateView.CloseOptions&quot;
 
+
+
 char MenuTemplateView::currentMultiView[] = &quot;GetSessionView&quot;;
 char MenuTemplateView::currentView[]      = &quot;&quot;;
 
-static void bMain()
-{
-    Desktop::setVisibilityAllWindows(false);
-    Desktop::setVisibility(&quot;MainView&quot;, true);
-}
-
-static void bMulti()
-{
-    if (strcmp(MenuTemplateView::currentMultiView, &quot;GetSessionView&quot;) == 0) {
-        Desktop::setVisibilityAllWindows(false);
-        Desktop::setVisibility(&quot;GetSessionView&quot;, true);
-    } else if (strcmp(MenuTemplateView::currentMultiView, &quot;HostView&quot;) == 0) {
-        Desktop::setVisibilityAllWindows(false);
-        Desktop::setVisibility(&quot;HostView&quot;, true);
-        Desktop::setVisibility(&quot;UnitSelectionView&quot;, true);
-        Desktop::setVisibility(&quot;FlagSelectionView&quot;, true);
-        Desktop::setVisibility(&quot;HostOptionsView&quot;, true);
-        Desktop::setVisibility(&quot;MapSelectionView&quot;, true);
-        Desktop::setVisibility(&quot;PlayerNameView&quot;, true);
-    } else if (strcmp(MenuTemplateView::currentMultiView, &quot;JoinView&quot;) == 0) {
-        Desktop::setVisibilityAllWindows(false);
-        Desktop::setVisibility(&quot;JoinView&quot;, true);
-        Desktop::setVisibility(&quot;FlagSelectionView&quot;, true);
-        Desktop::setVisibility(&quot;PlayerNameView&quot;, true);
-        Desktop::setVisibility(&quot;IPAddressView&quot;, true);
-        Desktop::setVisibility(&quot;ServerListView&quot;, true);
-    } else {
-        assert(false);
-    }
-}
-
-static void bOptions()
-{
-    Desktop::setVisibilityAllWindows(false);
-    Desktop::setVisibility(&quot;OptionsView&quot;, true);
-}
-
-static void bHelp()
-{
-    Desktop::setVisibilityAllWindows(false);
-    Desktop::setVisibility(&quot;HelpView&quot;, true);
-}
-
-static void bExit()
-{
-    GameManager::exitNetPanzer();
-}
-
-//---------------------------------------------------------------------------
-static void bResign()
-{
-    Desktop::setVisibility(&quot;ControlsView&quot;, false);
-    Desktop::setVisibility(&quot;VisualsView&quot;, false);
-    Desktop::setVisibility(&quot;InterfaceView&quot;, false);
-    Desktop::setVisibility(&quot;SoundView&quot;, false);
-    Desktop::setVisibility(&quot;OptionsView&quot;, false);
-
-    Desktop::setVisibility(&quot;AreYouSureResignView&quot;, true);
-}
-
-//---------------------------------------------------------------------------
-static void bCloseOptions()
-{
-    GameManager::setNetPanzerGameOptions();
-
-    Desktop::setVisibility(&quot;ControlsView&quot;, false);
-    Desktop::setVisibility(&quot;VisualsView&quot;, false);
-    Desktop::setVisibility(&quot;InterfaceView&quot;, false);
-    Desktop::setVisibility(&quot;SoundView&quot;, false);
-    Desktop::setVisibility(&quot;OptionsView&quot;, false);
-}
-
-//---------------------------------------------------------------------------
-static void bExitNetPanzer()
-{
-    Desktop::setVisibility(&quot;ControlsView&quot;, false);
-    Desktop::setVisibility(&quot;VisualsView&quot;, false);
-    Desktop::setVisibility(&quot;InterfaceView&quot;, false);
-    Desktop::setVisibility(&quot;SoundView&quot;, false);
-    Desktop::setVisibility(&quot;OptionsView&quot;, false);
-
-    Desktop::setVisibility(&quot;AreYouSureExitView&quot;, true);
-}
-
 // MenuTemplateView
 //---------------------------------------------------------------------------
 MenuTemplateView::MenuTemplateView() : SpecialButtonView()
@@ -155,51 +81,39 @@
 // initPreGameOptionButtons
 void MenuTemplateView::initPreGameOptionButtons()
 {
-    addSpecialButton(	mainPos,
-                      &quot;Main&quot;,
-                      bMain);
-
-    addSpecialButton(	multiPos,
-                      &quot;Multiplayer&quot;,
-                      bMulti);
-
-    addSpecialButton(	optionsPos,
-                      &quot;Options&quot;,
-                      bOptions);
-
-    addSpecialButton(	helpPos,
-                      &quot;Help&quot;,
-                      bHelp);
-
-    addSpecialButton( exitPos,
-                      &quot;Exit netPanzer&quot;,
-                      bExit);
-
+    add( Button::createSpecialButton( BTN_MAIN, &quot;Main&quot;, mainPos) );
+    add( Button::createSpecialButton( BTN_MULTI, &quot;Multiplayer&quot;, multiPos) );
+    add( Button::createSpecialButton( BTN_OPTIONS, &quot;Options&quot;, optionsPos) );
+    add( Button::createSpecialButton( BTN_HELP, &quot;Help&quot;, helpPos) );
+    add( Button::createSpecialButton( BTN_EXIT, &quot;Exit netPanzer&quot;, exitPos) );
 } // end MenuTemplateView::initPreGameOptionButtons
 
 // initInGameOptionButtons
 //---------------------------------------------------------------------------
 void MenuTemplateView::initInGameOptionButtons()
 {
-    if(!gameconfig-&gt;quickConnect) {
-        addSpecialButton(resignPos, &quot;Resign&quot;, bResign);
-        addSpecialButton(exitPos, &quot;Exit netPanzer&quot;, bExitNetPanzer);
-    } else {
-        addSpecialButton(exitPos, &quot;Resign&quot;, bResign);
+    if(!gameconfig-&gt;quickConnect)
+    {
+        add( Button::createSpecialButton( BTN_INGAMEEXIT, &quot;Exit netPanzer&quot;, exitPos) );
+        add( Button::createSpecialButton( BTN_RESIGN, &quot;Resign&quot;, resignPos) );
     }
-
-    addSpecialButton( returnToGamePos,
-                      &quot;Close Options&quot;,
-                      bCloseOptions);
+    else
+    {
+        add( Button::createSpecialButton( BTN_RESIGN, &quot;Resign&quot;, exitPos) );
+    }
+    add( Button::createSpecialButton( BTN_CLOSEOPTIONS, &quot;Close Options&quot;, returnToGamePos) );
 } // end MenuTemplateView::initInGameOptionButtons
 
 // initButtons
 //---------------------------------------------------------------------------
 void MenuTemplateView::initButtons()
 {
-    if (Desktop::getVisible(&quot;GameView&quot;)) {
+    if (Desktop::getVisible(&quot;GameView&quot;))
+    {
         initInGameOptionButtons();
-    } else {
+    }
+    else
+    {
         initPreGameOptionButtons();
     }
 } // end MenuTemplateView::initButtons
@@ -304,3 +218,84 @@
 {
 } // end MenuTemplateView::processEvents
 
+void
+MenuTemplateView::onComponentClicked(Component* c)
+{
+    string cname = c-&gt;getName();
+    if ( !cname.compare(&quot;Button.&quot; BTN_MAIN) )
+    {
+        Desktop::setVisibilityAllWindows(false);
+        Desktop::setVisibility(&quot;MainView&quot;, true);
+    }
+    else if ( !cname.compare(&quot;Button.&quot; BTN_MULTI) )
+    {
+        if (strcmp(currentMultiView, &quot;GetSessionView&quot;) == 0)
+        {
+            Desktop::setVisibilityAllWindows(false);
+            Desktop::setVisibility(&quot;GetSessionView&quot;, true);
+        }
+        else if (strcmp(currentMultiView, &quot;HostView&quot;) == 0)
+        {
+            Desktop::setVisibilityAllWindows(false);
+            Desktop::setVisibility(&quot;HostView&quot;, true);
+            Desktop::setVisibility(&quot;UnitSelectionView&quot;, true);
+            Desktop::setVisibility(&quot;FlagSelectionView&quot;, true);
+            Desktop::setVisibility(&quot;HostOptionsView&quot;, true);
+            Desktop::setVisibility(&quot;MapSelectionView&quot;, true);
+            Desktop::setVisibility(&quot;PlayerNameView&quot;, true);
+        }
+        else if (strcmp(currentMultiView, &quot;JoinView&quot;) == 0)
+        {
+            Desktop::setVisibilityAllWindows(false);
+            Desktop::setVisibility(&quot;JoinView&quot;, true);
+            Desktop::setVisibility(&quot;FlagSelectionView&quot;, true);
+            Desktop::setVisibility(&quot;PlayerNameView&quot;, true);
+            Desktop::setVisibility(&quot;IPAddressView&quot;, true);
+            Desktop::setVisibility(&quot;ServerListView&quot;, true);
+        }
+    }
+    else if ( !cname.compare(&quot;Button.&quot; BTN_OPTIONS) )
+    {
+        Desktop::setVisibilityAllWindows(false);
+        Desktop::setVisibility(&quot;OptionsView&quot;, true);
+    }
+    else if ( !cname.compare(&quot;Button.&quot; BTN_HELP) )
+    {
+        Desktop::setVisibilityAllWindows(false);
+        Desktop::setVisibility(&quot;HelpView&quot;, true);
+    }
+    else if ( !cname.compare(&quot;Button.&quot; BTN_EXIT) )
+    {
+        GameManager::exitNetPanzer();
+    }
+    else if ( !cname.compare(&quot;Button.&quot; BTN_RESIGN) )
+    {
+        Desktop::setVisibility(&quot;ControlsView&quot;, false);
+        Desktop::setVisibility(&quot;VisualsView&quot;, false);
+        Desktop::setVisibility(&quot;InterfaceView&quot;, false);
+        Desktop::setVisibility(&quot;SoundView&quot;, false);
+        Desktop::setVisibility(&quot;OptionsView&quot;, false);
+
+        Desktop::setVisibility(&quot;AreYouSureResignView&quot;, true);
+    }
+    else if ( !cname.compare(&quot;Button.&quot; BTN_INGAMEEXIT) )
+    {
+        Desktop::setVisibility(&quot;ControlsView&quot;, false);
+        Desktop::setVisibility(&quot;VisualsView&quot;, false);
+        Desktop::setVisibility(&quot;InterfaceView&quot;, false);
+        Desktop::setVisibility(&quot;SoundView&quot;, false);
+        Desktop::setVisibility(&quot;OptionsView&quot;, false);
+
+        Desktop::setVisibility(&quot;AreYouSureExitView&quot;, true);
+    }
+    else if ( !cname.compare(&quot;Button.&quot; BTN_CLOSEOPTIONS) )
+    {
+        GameManager::setNetPanzerGameOptions();
+
+        Desktop::setVisibility(&quot;ControlsView&quot;, false);
+        Desktop::setVisibility(&quot;VisualsView&quot;, false);
+        Desktop::setVisibility(&quot;InterfaceView&quot;, false);
+        Desktop::setVisibility(&quot;SoundView&quot;, false);
+        Desktop::setVisibility(&quot;OptionsView&quot;, false);
+    }
+}

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/MenuTemplateView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/MenuTemplateView.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/MenuTemplateView.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -41,6 +41,7 @@
 
     typedef void (*ITEM_FUNC)(void);
 
+    void onComponentClicked(Component *c);
 public:
     MenuTemplateView();
 

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/FlagSelectionView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/FlagSelectionView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/FlagSelectionView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -16,6 +16,7 @@
 Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
 */
 #include &lt;config.h&gt;
+#include &lt;algorithm&gt;
 
 #include &quot;Resources/ResourceManager.hpp&quot;
 
@@ -30,6 +31,8 @@
 #include &quot;2D/Surface.hpp&quot;
 #include &quot;Util/FileSystem.hpp&quot;
 
+using namespace std;
+
 string FlagSelectionView::playerFlagSelected = &quot;&quot;;
 Surface FlagSelectionView::playerFlag;
 

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/GetSessionView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/GetSessionView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/GetSessionView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -19,6 +19,7 @@
 
 #include &quot;GetSessionView.hpp&quot;
 #include &quot;Views/Components/Desktop.hpp&quot;
+#include &quot;Views/Components/Button.hpp&quot;
 #include &quot;Interfaces/GameConfig.hpp&quot;
 #include &quot;Interfaces/GameManager.hpp&quot;
 #include &quot;Interfaces/MouseInterface.hpp&quot;
@@ -31,56 +32,14 @@
 
 static int previousSessionType = _game_session_join;
 
-
-/////////////////////////////////////////////////////////////////////////////
-// Button functions.
-/////////////////////////////////////////////////////////////////////////////
-
-static void bBack()
+enum
 {
-    Desktop::setVisibilityAllWindows(false);
-    Desktop::setVisibility(&quot;MainView&quot;, true);
-}
+    BTN_HOST,
+    BTN_JOIN,
+    BTN_BACK,
+    BTN_NEXT
+};
 
-void bNext()
-{
-    if (gameconfig-&gt;hostorjoin == _game_session_host) {
-        Desktop::setVisibilityAllWindows(false);
-
-        Desktop::setVisibility(&quot;HostView&quot;, true);
-        Desktop::setVisibility(&quot;UnitSelectionView&quot;, true);
-        Desktop::setVisibility(&quot;FlagSelectionView&quot;, true);
-        Desktop::setVisibility(&quot;HostOptionsView&quot;, true);
-        Desktop::setVisibility(&quot;MapSelectionView&quot;, true);
-        Desktop::setVisibility(&quot;PlayerNameView&quot;, true);
-
-        NetworkServer::openSession();
-    } else if (gameconfig-&gt;hostorjoin == _game_session_join) {
-        Desktop::setVisibility(&quot;JoinView&quot;, true);
-        Desktop::setVisibility(&quot;FlagSelectionView&quot;, true);
-        Desktop::setVisibility(&quot;PlayerNameView&quot;, true);
-
-        Desktop::setVisibility(&quot;IPAddressView&quot;, true);
-        Desktop::setVisibility(&quot;ServerListView&quot;, true);
-        serverlistview-&gt;refresh();
-    }
-}
-
-static void bHost()
-{
-    previousSessionType = gameconfig-&gt;hostorjoin;
-
-    gameconfig-&gt;hostorjoin = _game_session_host;
-}
-
-static void bJoin()
-{
-    previousSessionType = gameconfig-&gt;hostorjoin;
-
-    gameconfig-&gt;hostorjoin = _game_session_join;
-}
-
-
 // GetSessionView
 //---------------------------------------------------------------------------
 GetSessionView::GetSessionView() : MenuTemplateView()
@@ -89,25 +48,11 @@
     setTitle(&quot;Select Session&quot;);
     setSubTitle(&quot;&quot;);
 
-    // Join.
-    addSpecialButton(	joinPos,
-                      &quot;Join&quot;,
-                      bJoin);
+    add( Button::createSpecialButton(&quot;host&quot;, &quot;Host&quot;, hostPos, BTN_HOST));
+    add( Button::createSpecialButton(&quot;join&quot;, &quot;Join&quot;, joinPos, BTN_JOIN));
+    add( Button::createSpecialButton(&quot;back&quot;, &quot;Back&quot;, backPos, BTN_BACK));
+    add( Button::createSpecialButton(&quot;next&quot;, &quot;Next&quot;, nextPos, BTN_NEXT));
 
-    // Host.
-    addSpecialButton(	hostPos,
-                      &quot;Host&quot;,
-                      bHost);
-
-    // Next.
-    addSpecialButton(	nextPos,
-                      &quot;Next&quot;,
-                      bNext);
-
-    // Back.
-    addSpecialButton(	backPos,
-                      &quot;Back&quot;,
-                      bBack);
 } // end GetSessionView::GetSessionView
 
 // doDraw
@@ -129,9 +74,12 @@
 {
     int connectionType = gameconfig-&gt;hostorjoin;
 
-    if (connectionType == _game_session_host) {
+    if (connectionType == _game_session_host)
+    {
         drawHostInfo(bodyTextRect);
-    } else if (connectionType == _game_session_join) {
+    }
+    else if (connectionType == _game_session_join)
+    {
         drawJoinInfo(bodyTextRect);
     }
 }
@@ -206,3 +154,51 @@
     }
 
 } // end GetSessionView::loadTitleSurface
+void
+GetSessionView::onComponentClicked(Component* c)
+{
+    switch ( c-&gt;getCustomCode() )
+    {
+        case BTN_HOST:
+            previousSessionType = gameconfig-&gt;hostorjoin;
+            gameconfig-&gt;hostorjoin = _game_session_host;
+            break;
+
+        case BTN_JOIN:
+            previousSessionType = gameconfig-&gt;hostorjoin;
+            gameconfig-&gt;hostorjoin = _game_session_join;
+            break;
+            
+        case BTN_BACK:
+            Desktop::setVisibilityAllWindows(false);
+            Desktop::setVisibility(&quot;MainView&quot;, true);
+            break;
+
+        case BTN_NEXT:
+            if (gameconfig-&gt;hostorjoin == _game_session_host)
+            {
+                Desktop::setVisibilityAllWindows(false);
+                Desktop::setVisibility(&quot;HostView&quot;, true);
+                Desktop::setVisibility(&quot;UnitSelectionView&quot;, true);
+                Desktop::setVisibility(&quot;FlagSelectionView&quot;, true);
+                Desktop::setVisibility(&quot;HostOptionsView&quot;, true);
+                Desktop::setVisibility(&quot;MapSelectionView&quot;, true);
+                Desktop::setVisibility(&quot;PlayerNameView&quot;, true);
+
+                NetworkServer::openSession();
+            }
+            else if (gameconfig-&gt;hostorjoin == _game_session_join)
+            {
+                Desktop::setVisibility(&quot;JoinView&quot;, true);
+                Desktop::setVisibility(&quot;FlagSelectionView&quot;, true);
+                Desktop::setVisibility(&quot;PlayerNameView&quot;, true);
+                Desktop::setVisibility(&quot;IPAddressView&quot;, true);
+                Desktop::setVisibility(&quot;ServerListView&quot;, true);
+                serverlistview-&gt;refresh();
+            }
+            break;
+
+        default:
+            MenuTemplateView::onComponentClicked(c);
+    }
+}

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/GetSessionView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/GetSessionView.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/GetSessionView.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -36,6 +36,8 @@
     virtual void loadBackgroundSurface();
     virtual void loadTitleSurface();
 
+    void onComponentClicked(Component *c);
+    
 public:
     GetSessionView();
 

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -46,59 +46,12 @@
 int cLightGreen;
 int cOrange;
 
-/////////////////////////////////////////////////////////////////////////////
-// Button functions.
-/////////////////////////////////////////////////////////////////////////////
-
-static void bBack()
+enum
 {
-    if (gameconfig-&gt;hostorjoin == _game_session_join)
-    {
-        NetworkClient::partServer();
-    }
-    else if (gameconfig-&gt;hostorjoin == _game_session_host)
-    {
-        NetworkServer::closeSession();
-    }
+    BTN_BACK,
+    BTN_NEXT
+};
 
-    Desktop::setVisibilityAllWindows(false);
-    Desktop::setVisibility(&quot;GetSessionView&quot;, true);
-}
-
-static void bNext()
-{
-    if ((const std::string&amp;) gameconfig-&gt;playername == &quot;&quot;)
-        return;
-
-    // Check a few things which should be ok.
-    if (strlen(HostJoinTemplateView::gameTypeBuf) == 0) {
-        return;
-    }
-    if (MapSelectionView::curMap == -1) {
-        return;
-    }
-    if (gameconfig-&gt;hostorjoin == _game_session_join &amp;&amp;
-        strcmp(IPAddressView::szServer.getString(), &quot;&quot;) == 0)
-        return;
-
-    // Set the player flag.
-    gameconfig-&gt;playerflag = FlagSelectionView::getSelectedFlag();
-
-    // Close all menu views.
-    Desktop::setVisibilityAllWindows(false);
-
-    if(gameconfig-&gt;hostorjoin == _game_session_join) {
-        gameconfig-&gt;serverConnect = IPAddressView::szServer.getString();
-    }
-    
-    serverlistview-&gt;endQuery();
-
-    MenuTemplateView::backgroundSurface.free();
-
-    PlayerGameManager* manager = (PlayerGameManager*) gamemanager;
-    manager-&gt;launchMultiPlayerGame();
-}
-
 // HostJoinTemplateView
 //---------------------------------------------------------------------------
 HostJoinTemplateView::HostJoinTemplateView() : MenuTemplateView()
@@ -107,15 +60,8 @@
     setTitle(&quot;&quot;);
     setSubTitle(&quot;&quot;);
 
-    // Back.
-    addSpecialButton(	backPos,
-                      &quot;Back&quot;,
-                      bBack);
-
-    addSpecialButton(   nextPos,
-                      &quot;Next&quot;,
-                      bNext);
-
+    add( Button::createSpecialButton(&quot;back&quot;, &quot;Back&quot;, backPos, BTN_BACK));
+    add( Button::createSpecialButton(&quot;next&quot;, &quot;Next&quot;, nextPos, BTN_NEXT));
 } // end HostJoinTemplateView constructor
 
 // doDraw
@@ -142,3 +88,58 @@
 {
     doLoadBackgroundSurface(&quot;pics/backgrounds/menus/menu/defaultMB.bmp&quot;);
 } // end HostJoinTemplateView::loadBackgroundSurface
+
+void
+HostJoinTemplateView::onComponentClicked(Component* c)
+{
+    switch ( c-&gt;getCustomCode() )
+    {
+        case BTN_BACK:
+            if (gameconfig-&gt;hostorjoin == _game_session_join)
+            {
+                NetworkClient::partServer();
+            }
+            else if (gameconfig-&gt;hostorjoin == _game_session_host)
+            {
+                NetworkServer::closeSession();
+            }
+
+            Desktop::setVisibilityAllWindows(false);
+            Desktop::setVisibility(&quot;GetSessionView&quot;, true);
+            break;
+
+        case BTN_NEXT:
+            if (   (const std::string&amp;) gameconfig-&gt;playername == &quot;&quot;
+                || strlen(HostJoinTemplateView::gameTypeBuf) == 0
+                || MapSelectionView::curMap == -1
+                || (gameconfig-&gt;hostorjoin == _game_session_join
+                        &amp;&amp; strcmp(IPAddressView::szServer.getString(), &quot;&quot;) == 0
+                   )
+               )
+            {
+                return;
+            }
+
+            // Set the player flag.
+            gameconfig-&gt;playerflag = FlagSelectionView::getSelectedFlag();
+
+            // Close all menu views.
+            Desktop::setVisibilityAllWindows(false);
+
+            if(gameconfig-&gt;hostorjoin == _game_session_join)
+            {
+                gameconfig-&gt;serverConnect = IPAddressView::szServer.getString();
+            }
+
+            serverlistview-&gt;endQuery();
+
+            MenuTemplateView::backgroundSurface.free();
+
+            PlayerGameManager* manager = (PlayerGameManager*) gamemanager;
+            manager-&gt;launchMultiPlayerGame();
+            break;
+
+        default:
+            MenuTemplateView::onComponentClicked(c);
+    }
+}

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/Multi/HostJoinTemplateView.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -36,6 +36,8 @@
     
     virtual void loadBackgroundSurface();
 
+protected:
+    void onComponentClicked(Component *c);
 public:
     static char gameTypeBuf[256];
 

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/Options/InterfaceView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/Options/InterfaceView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/Options/InterfaceView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -117,6 +117,9 @@
                 gameconfig-&gt;scrollrate = gameconfig-&gt;scrollrate + 100;
             }
             break;
+
+        default:
+            OptionsTemplateView::onComponentClicked(c);
     }
 }
 

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/Options/SoundView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/Options/SoundView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/Options/SoundView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -259,5 +259,8 @@
                 sound-&gt;setMusicVolume(v);
             }
             break;
+
+        default:
+            OptionsTemplateView::onComponentClicked(c);
     }
 }

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/OptionsTemplateView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/OptionsTemplateView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/OptionsTemplateView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -20,53 +20,12 @@
 #include &quot;Views/MainMenu/OptionsTemplateView.hpp&quot;
 #include &quot;Views/Components/Desktop.hpp&quot;
 #include &quot;Views/GameViewGlobals.hpp&quot;
+#include &quot;Views/Components/Button.hpp&quot;
 
-static void bInterface()
-{
-    if (Desktop::getVisible(&quot;GameView&quot;)) {
-        Desktop::setVisibility(&quot;ControlsView&quot;, false);
-        Desktop::setVisibility(&quot;VisualsView&quot;, false);
-        Desktop::setVisibility(&quot;InterfaceView&quot;, false);
-        Desktop::setVisibility(&quot;SoundView&quot;, false);
-        Desktop::setVisibility(&quot;OptionsView&quot;, false);
-    } else {
-        Desktop::setVisibilityAllWindows(false);
-    }
+#define BTN_INTERFACE &quot;OptionsTemplateView.Interface&quot;
+#define BTN_VISUALS &quot;OptionsTemplateView.Visuals&quot;
+#define BTN_SOUND &quot;OptionsTemplateView.Sound&quot;
 
-    Desktop::setVisibility(&quot;InterfaceView&quot;, true);
-}
-
-static void bVisuals()
-{
-    if (Desktop::getVisible(&quot;GameView&quot;)) {
-        Desktop::setVisibility(&quot;ControlsView&quot;, false);
-        Desktop::setVisibility(&quot;VisualsView&quot;, false);
-        Desktop::setVisibility(&quot;InterfaceView&quot;, false);
-        Desktop::setVisibility(&quot;SoundView&quot;, false);
-        Desktop::setVisibility(&quot;OptionsView&quot;, false);
-    } else {
-        Desktop::setVisibilityAllWindows(false);
-    }
-
-    Desktop::setVisibility(&quot;VisualsView&quot;, true);
-}
-
-static void bSound()
-{
-    if (Desktop::getVisible(&quot;GameView&quot;)) {
-        Desktop::setVisibility(&quot;ControlsView&quot;, false);
-        Desktop::setVisibility(&quot;VisualsView&quot;, false);
-        Desktop::setVisibility(&quot;InterfaceView&quot;, false);
-        //Desktop::setVisibility(&quot;SoundView&quot;, false);
-        Desktop::setVisibility(&quot;OptionsView&quot;, false);
-    } else {
-        Desktop::setVisibilityAllWindows(false);
-    }
-    Desktop::setVisibility(&quot;SoundView&quot;, true);
-    //Desktop::setVisibility(&quot;VisualsView&quot;, true);
-}
-
-
 // OptionsTemplateView
 //---------------------------------------------------------------------------
 OptionsTemplateView::OptionsTemplateView() : MenuTemplateView()
@@ -84,14 +43,13 @@
 //---------------------------------------------------------------------------
 void OptionsTemplateView::initButtons()
 {
-    removeAllButtons();
     removeComponents();
 
     MenuTemplateView::initButtons();
 
-    addSpecialButton( soundPos,     &quot;Sound&quot;,     bSound);
-    addSpecialButton( interfacePos, &quot;Interface&quot;, bInterface);
-    addSpecialButton( visualsPos,   &quot;Visuals&quot;,   bVisuals);
+    add( Button::createSpecialButton( BTN_SOUND,&quot;Sound&quot;, soundPos));
+    add( Button::createSpecialButton( BTN_INTERFACE,&quot;Interface&quot;, interfacePos));
+    add( Button::createSpecialButton( BTN_VISUALS,&quot;Visuals&quot;,visualsPos));
 
 #if 0 // XXX
     addSpecialButton( controlsPos,  &quot;Controls&quot;,  bControls);
@@ -124,3 +82,64 @@
     doLoadTitleSurface(&quot;optionsTitle&quot;);
 
 } // end ControlsView::loadTitleSurface
+
+void
+OptionsTemplateView::onComponentClicked(Component* c)
+{
+    string cname = c-&gt;getName();
+
+    if ( ! cname.compare(&quot;Button.&quot; BTN_INTERFACE) )
+    {
+        if (Desktop::getVisible(&quot;GameView&quot;))
+        {
+            Desktop::setVisibility(&quot;ControlsView&quot;, false);
+            Desktop::setVisibility(&quot;VisualsView&quot;, false);
+            Desktop::setVisibility(&quot;InterfaceView&quot;, false);
+            Desktop::setVisibility(&quot;SoundView&quot;, false);
+            Desktop::setVisibility(&quot;OptionsView&quot;, false);
+        }
+        else
+        {
+            Desktop::setVisibilityAllWindows(false);
+        }
+
+        Desktop::setVisibility(&quot;InterfaceView&quot;, true);
+    }
+    else if ( ! cname.compare(&quot;Button.&quot; BTN_VISUALS) )
+    {
+        if (Desktop::getVisible(&quot;GameView&quot;))
+        {
+            Desktop::setVisibility(&quot;ControlsView&quot;, false);
+            Desktop::setVisibility(&quot;VisualsView&quot;, false);
+            Desktop::setVisibility(&quot;InterfaceView&quot;, false);
+            Desktop::setVisibility(&quot;SoundView&quot;, false);
+            Desktop::setVisibility(&quot;OptionsView&quot;, false);
+        }
+        else
+        {
+            Desktop::setVisibilityAllWindows(false);
+        }
+
+        Desktop::setVisibility(&quot;VisualsView&quot;, true);
+    }
+    else if ( ! cname.compare(&quot;Button.&quot; BTN_SOUND) )
+    {
+        if (Desktop::getVisible(&quot;GameView&quot;))
+        {
+            Desktop::setVisibility(&quot;ControlsView&quot;, false);
+            Desktop::setVisibility(&quot;VisualsView&quot;, false);
+            Desktop::setVisibility(&quot;InterfaceView&quot;, false);
+            //Desktop::setVisibility(&quot;SoundView&quot;, false);
+            Desktop::setVisibility(&quot;OptionsView&quot;, false);
+        }
+        else
+        {
+            Desktop::setVisibilityAllWindows(false);
+        }
+        Desktop::setVisibility(&quot;SoundView&quot;, true);
+    }
+    else
+    {
+        MenuTemplateView::onComponentClicked(c);
+    }
+}
\ No newline at end of file

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/OptionsTemplateView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/OptionsTemplateView.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/OptionsTemplateView.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -29,6 +29,8 @@
     virtual void loadBackgroundSurface();
     virtual void loadTitleSurface();
 
+    void onComponentClicked(Component *c);
+
 public:
     OptionsTemplateView();
 

Deleted: trunk/netpanzer/src/NetPanzer/Views/MainMenu/OrderingView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/OrderingView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/OrderingView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -1,42 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-#include &lt;config.h&gt;
-
-#include &quot;OrderingView.hpp&quot;
-#include &quot;Views/Components/Desktop.hpp&quot;
-#include &quot;Views/GameViewGlobals.hpp&quot;
-
-// OrderingView
-//---------------------------------------------------------------------------
-OrderingView::OrderingView() : MenuTemplateView()
-{
-    setSearchName(&quot;OrderingView&quot;);
-    setTitle(&quot;Ordering Information&quot;);
-    setSubTitle(&quot;&quot;);
-
-} // end OrderingView::OrderingView
-
-// doDraw
-//---------------------------------------------------------------------------
-void OrderingView::doDraw()
-{
-    MenuTemplateView::doDraw();
-
-    drawString(bodyTextRect.min.x, bodyTextRect.min.y, &quot;Skip!  Waiting on you!&quot;, Color::white);
-
-} // end OrderingView::doDraw

Deleted: trunk/netpanzer/src/NetPanzer/Views/MainMenu/OrderingView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/OrderingView.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/OrderingView.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -1,34 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-#ifndef __OrderingView_hpp__
-#define __OrderingView_hpp__
-
-#include &quot;Views/Components/View.hpp&quot;
-#include &quot;2D/Surface.hpp&quot;
-#include &quot;Views/MainMenu/MenuTemplateView.hpp&quot;
-
-//--------------------------------------------------------------------------
-class OrderingView : public MenuTemplateView
-{
-public:
-    OrderingView();
-
-    virtual void doDraw();
-}; // end OrderingView
-
-#endif // end __OrderingView_hpp__

Deleted: trunk/netpanzer/src/NetPanzer/Views/MainMenu/SkirmishView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/SkirmishView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/SkirmishView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -1,42 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-#include &lt;config.h&gt;
-
-#include &quot;SkirmishView.hpp&quot;
-#include &quot;Views/Components/Desktop.hpp&quot;
-#include &quot;Views/GameViewGlobals.hpp&quot;
-
-// SkirmishView
-//---------------------------------------------------------------------------
-SkirmishView::SkirmishView() : MenuTemplateView()
-{
-    setSearchName(&quot;SkirmishView&quot;);
-    setTitle(&quot;Skirmish Options&quot;);
-    setSubTitle(&quot;&quot;);
-
-} // end SkirmishView::SkirmishView
-
-// doDraw
-//---------------------------------------------------------------------------
-void SkirmishView::doDraw()
-{
-    MenuTemplateView::doDraw();
-
-    drawString(100, 200, &quot;Umm... complete me!&quot;, Color::white);
-
-} // end SkirmishView::doDraw

Deleted: trunk/netpanzer/src/NetPanzer/Views/MainMenu/SkirmishView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/SkirmishView.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/SkirmishView.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -1,34 +0,0 @@
-/*
-Copyright (C) 1998 Pyrosoft Inc. (www.pyrosoftgames.com), Matthew Bogue
- 
-This program is free software; you can redistribute it and/or modify
-it under the terms of the GNU General Public License as published by
-the Free Software Foundation; either version 2 of the License, or
-(at your option) any later version.
- 
-This program is distributed in the hope that it will be useful,
-but WITHOUT ANY WARRANTY; without even the implied warranty of
-MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
-GNU General Public License for more details.
- 
-You should have received a copy of the GNU General Public License
-along with this program; if not, write to the Free Software
-Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA
-*/
-#ifndef __SkirmishView_hpp__
-#define __SkirmishView_hpp__
-
-#include &quot;Views/Components/View.hpp&quot;
-#include &quot;2D/Surface.hpp&quot;
-#include &quot;Views/MainMenu/MenuTemplateView.hpp&quot;
-
-//--------------------------------------------------------------------------
-class SkirmishView : public MenuTemplateView
-{
-public:
-    SkirmishView();
-
-    virtual void doDraw();
-}; // end SkirmishView
-
-#endif // end __SkirmishView_hpp__

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/SpecialButtonView.cpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/SpecialButtonView.cpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/SpecialButtonView.cpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -24,30 +24,6 @@
 #include &quot;Util/Exception.hpp&quot;
 #include &quot;Classes/WorldInputCmdProcessor.hpp&quot;
 
-// addSpecialButton
-//---------------------------------------------------------------------------
-void SpecialButtonView::addSpecialButton(const iXY &amp;pos, const char *,
-        const char *fileString, ITEM_FUNC function)
-{
-    char strBuf[256];
-
-    std::string prefix;
-
-    // Check to see which type of button to load since we have multiple palettes.
-    if (Desktop::getVisible(&quot;GameView&quot;)) {
-        prefix = &quot;inGame&quot;;
-    } else {
-        prefix = &quot;inMenus&quot;;
-    }
-
-    sprintf(strBuf, &quot;pics/backgrounds/menus/buttons/default/pak/%s%s.pak&quot;,
-            prefix.c_str(), fileString);
-
-    PackedSurface tempPack;
-    tempPack.load(strBuf);
-    addButtonPackedSurface(pos, tempPack, &quot;&quot;, function);
-} // end SpecialButtonView::addSpecialButton
-
 // mouseMove
 //--------------------------------------------------------------------------
 void SpecialButtonView::mouseMove(const iXY &amp; prevPos, const iXY &amp;newPos)

Modified: trunk/netpanzer/src/NetPanzer/Views/MainMenu/SpecialButtonView.hpp
===================================================================
--- trunk/netpanzer/src/NetPanzer/Views/MainMenu/SpecialButtonView.hpp	2009-01-30 13:34:05 UTC (rev 1089)
+++ trunk/netpanzer/src/NetPanzer/Views/MainMenu/SpecialButtonView.hpp	2009-02-01 16:02:10 UTC (rev 1090)
@@ -23,13 +23,6 @@
 //--------------------------------------------------------------------------
 class SpecialButtonView : public RMouseHackView
 {
-protected:
-    void addSpecialButton(const iXY &amp;pos, const char *labelString, ITEM_FUNC function)
-    {
-        addSpecialButton(pos, labelString, labelString, function);
-    }
-    void addSpecialButton(const iXY &amp;pos, const char *labelString, const char *fileString, ITEM_FUNC function);
-
 public:
     SpecialButtonView() : RMouseHackView()
     {}


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	
	<LI>Next message: <A HREF="000123.html">[Netpanzer-cvs] r1091 -	trunk/netpanzer/pics/backgrounds/menus/buttons/default
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#122">[ date ]</a>
              <a href="thread.html#122">[ thread ]</a>
              <a href="subject.html#122">[ subject ]</a>
              <a href="author.html#122">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/netpanzer-cvs">More information about the Netpanzer-cvs
mailing list</a><br>
</body></html>
